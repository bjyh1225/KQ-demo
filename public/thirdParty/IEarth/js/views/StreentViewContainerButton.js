define(["libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","views/StreetViewMapButton","views/GoogleStreetViewMapButton","jquery","jqueryShare","Cesium","Vue"],function(t,e,i,o,n,s,a,r,l,p){var g={shareview:"街景图",startStreetView:"开启腾讯街景图浏览",stopStreetView:"结束腾讯街景图浏览",startGoogleStreetView:"开启谷歌街景图浏览",stopGoogleStreetView:"结束谷歌街景图浏览"};for(var c in g)g[c]=platformLanguage[c]?platformLanguage[c]:g[c];var h=["<style>",".tools-sharestreentview-button-content .box a{","width:32px;height: 32px;border-radius:32px;background-size:100% 100%;display:inline-block;cursor:pointer;","}","</style>",'<div class="tools-sharestreentview-button-content" :style="position">','<a :title="titles.shareview" class="cesium-button" @mouseenter="onMouseEnterShareBtn" @mouseleave="onMouseLeaveShareBtn(2)"','style="width:32px;height:32px;border-radius:32px;padding:3px 7px;margin:0;background:rgba(38,38,38,0.75)">','<span class="iconfont icon-picture-w" style="display:inline-block;"></span>',"</a>",'<div :id="\'share_container_\'+guid" class="box" @mouseenter="onMouseEnterShareBtn" @mouseleave="onMouseLeaveShareBtn(0)" ','style="position:absolute;top:0;right:38px;display: none;">','<a v-if="tencentactive" :id="\'share_qrcode_\'+guid" class="cesium-button" :title="titles.stopStreetView" :style="{backgroundImage:images.tencentview}" style="border:2px solid red;display:inline-block;color:#0c84e4;font-weight: bold;" @click="onToggleStreetViewMapClk"></a>','<a v-else :id="\'share_qrcode_\'+guid" class="cesium-button" :title="titles.startStreetView" :style="{backgroundImage:images.tencentview}"  @click="onToggleStreetViewMapClk"></a>','<a v-if="googleactive" :id="\'share_douban_\'+guid" class="cesium-button" :title="titles.stopGoogleStreetView" :style="{backgroundImage:images.googleview}" style="border:2px solid red; display:inline-block;color:#0c84e4;font-weight: bold;" @click="onToggleGoogleStreetViewMapClk"></a>','<a v-else :id="\'share_douban_\'+guid" class="cesium-button" :title="titles.startGoogleStreetView" :style="{backgroundImage:images.googleview}"  @click="onToggleGoogleStreetViewMapClk"></a>',"</div>","</div>"].join("");function u(o){o=i(o,{}),this._viewer=i(o.viewer,null),this._parentContainer=i(o.parentContainer,"cesiumContainer"),"string"==typeof this._parentContainer&&(this._parentContainer=a("#"+this._parentContainer));var n=i(o.position,{bottom:205,right:20});this._position={},e(n.top)?this._position.top=n.top+"px":e(n.bottom)?this._position.bottom=n.bottom+"px":this._position.top="95px",e(n.left)?this._position.left=n.left+"px":e(n.right)?this._position.right=n.right+"px":this._position.right="10px",this._tencentactive=!1,this._googleactive=!1,this._position.position="absolute",this._vm=null,this._id=t.newGuid(),this.initialize()}return u.prototype.initialize=function(){var t,i,o=this,r={viewer:o._viewer};this._parentContainer.append(h),this._vm=new p({el:".tools-sharestreentview-button-content",data:{guid:o._id,titles:g,position:o._position,tencentactive:o._tencentactive,googleactive:o._googleactive,images:{tencentview:"url(images/icon/32/tencent.png)",googleview:"url(images/icon/32/google_map.png)"},timeOut:""},watch:{},methods:{onMouseEnterShareBtn:function(){clearTimeout(this.timeOut),a("#share_container_"+o._id).fadeIn(500)},onMouseLeaveShareBtn:function(t){this.timeOut=setTimeout(function(){a("#share_container_"+o._id).fadeOut(200)},500*t)},onToggleStreetViewMapClk:function(){e(i)&&this.googleactive&&(this.googleactive=!this.googleactive,i.destroy()),this.tencentactive?t._vm.onToggleStreetViewMapClk():(t=new n(r))._vm.onToggleStreetViewMapClk(),this.tencentactive=!this.tencentactive},onToggleGoogleStreetViewMapClk:function(){e(t)&&this.tencentactive&&(this.tencentactive=!this.tencentactive,t.destroy()),this.googleactive?i._vm.onToggleStreetViewMapClk():(i=new s(r))._vm.onToggleStreetViewMapClk(),this.googleactive=!this.googleactive}}})},u.prototype.setPosition=function(t){t=i(options.position,{top:140,right:10});this._position={},e(t.top)?this._position.top=t.top+"px":e(t.bottom)?this._position.bottom=t.bottom+"px":this._position.top="140px",e(t.left)?this._position.left=t.left+"px":e(t.right)?this._position.right=t.right+"px":this._position.right="10px",this._position.position="absolute",this._vm.position=this._position},o(u.prototype,{vm:{get:function(){return this._vm}}}),u});