define(["text!views/html/SlopeAnalyse.html","libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","jquery","jqueryShare","Cesium","Vue"],function(e,t,n,o,a,i,r,l,u){var s={evalation:"地形",slope:"坡度坡向",floodAnalysist:"淹没分析",terrialOperation:"地形操作",evalationSpace:"等高距值(米)",evaltionCounterWidth:"等高线宽度(px)",evaltionCounterColor:"等高线颜色",evaltionCounterfill:"填充",evaltionCounterAlpha:"透明度",evalationCounterFillName:"等高线填充",analysist:"分析",destory:"清除"},d={maxHeight:9e3,minHeight:0,evalationSpace:150,evaltionWidth:1,evaltionCounterColor:"#FFF000",defaultName:s.evalationCounterFillName,fillName:[{name:"面填充",value:0},{name:"箭头填充",value:1},{name:"面箭头混合填充",value:2}]};for(var p in s)s[p]=platformLanguage[p]?platformLanguage[p]:s[p];function c(t){t=o(t,{}),this._viewer=o(t.viewer,null),this._parentContainer=o(t.parentContainer,"cesiumContainer"),"string"==typeof this._parentContainer&&(this._parentContainer=i("#"+this._parentContainer)),this._parentContainer.append(e),this._vm=null,this.initialize()}return c.prototype.initialize=function(){var e=this;this._vm=new u({el:".slope_analysist_module",data:{guid:e._id,titles:s,drawObjectType:"slope",evalationCounter:d},methods:{onTabsToggle:function(e){this.drawObjectType=e},onToggleFillStyleClk:function(e){this.evalationCounter.defaultName=e},onThreeDimensionalAnalyse:function(t){e.updateMaterial(t)}},mounted:function(){e.renderPlugins()}})},c.prototype.updateMaterial=function(e){var t,n={},o=this._viewer.scene.globe;"slope"===e&&(n=(t=l.Material.fromType("SlopeRamp")).uniforms),"none"!==e&&(n.image=function(e){var t=[0,.29,.5,Math.sqrt(2)/2,.87,.91,1],n=document.createElement("canvas");n.width=100,n.height=1;var o=n.getContext("2d"),a="elevation"===e?[0,.045,.1,.15,.37,.54,1]:t,i=o.createLinearGradient(0,0,100,0);return i.addColorStop(a[0],"#000000"),i.addColorStop(a[1],"#2747E0"),i.addColorStop(a[2],"#D33B7D"),i.addColorStop(a[3],"#D33038"),i.addColorStop(a[4],"#FF9742"),i.addColorStop(a[5],"#ffd700"),i.addColorStop(a[6],"#ffffff"),o.fillStyle=i,o.fillRect(0,0,100,1),n}(e)),o.material=t},c.prototype.renderPlugins=function(){i(".color-selector").each(function(){var e=this;i(e).ColorPicker({color:"#0000ff",onShow:function(e){return i(e).fadeIn(500),!1},onHide:function(e){return i(e).fadeOut(500),!1},onChange:function(t,n,o){i(e).css("backgroundColor","#"+n),e.value="#"+n,i(e).change();var a=255-o.r,r=255-o.g,l=255-o.b;i(e).css("color","rgba("+a+","+r+","+l+")"),i(e).parent().find(".caret").eq(0).css("border-top-color","rgba("+a+","+r+","+l+")");var u="rgba("+o.r+","+o.g+","+o.b+",0)",s="rgb("+o.r+", "+o.g+", "+o.b+")";i(e).parent().parent().parent().find("input[type=range]").eq(0).css("background","linear-gradient(to right, "+u+", "+s+")").css("background","-moz-linear-gradient(left, "+u+", "+s+")")}})})},a(c.prototype,{vm:{get:function(){return this._vm}}}),c});