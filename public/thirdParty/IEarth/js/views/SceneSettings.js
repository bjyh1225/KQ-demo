define(["text!views/html/SceneSettings.html","libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","jquery","Cesium","Vue","Bootstrap","views/Container"],function(e,t,n,s,i,o,r,h,a,c){"use strict";var f={settings:"设置",general:"常规",render:"渲染",viewMode:"视图模式",view3D:"3D 视图",view2D:"2D 视图",viewColumbus:"哥伦布视图",viewMorphing:"变形视图",atmosphereEffect:"大气渲染",lightEffect:"光照渲染",waterEffect:"水效渲染",fogEffect:"雾化效果",depthAgainst:"深度检测",skyBox:"天 空 盒",sun:"太　阳",moon:"月　亮"},w={atmosphereEffect:!0,lightEffect:!0,waterEffect:!0,fogEffect:!0,depthAgainst:!0,skyBox:!0,sun:!0,moon:!0},d={atmosphereEffect:0,lightEffect:1,waterEffect:2,fogEffect:3,depthAgainst:4,skyBox:5,sun:6,moon:7},g={view3D:r.SceneMode.SCENE3D,view2D:r.SceneMode.SCENE2D,viewColumbus:r.SceneMode.COLUMBUS_VIEW,viewMorphing:r.SceneMode.MORPHING};for(var l in f)f[l]=window.platformLanguage[l]?window.platformLanguage[l]:f[l];function m(n){n=s(n,{}),this._viewer=s(n.viewer,null),this._parentContainer=s(n.parentContainer,"cesiumContainer"),this._title=s(n.title,"Panel"),this._content=s(e,""),this._shown=s(n.shown,!0),this._showHeader=s(n.showHeader,!1),this._showTitle=s(n.showTitle,!0),this._showCloseBtn=s(n.showCloseBtn,!0),this._style=s(n.style,{position:"absolute",top:"0",left:"0",margin:"0",width:"auto"}),this._style.zIndex=999,this._bodyStyle=s(n.bodyStyle,{padding:"5px",margin:0}),this._draggable=s(n.draggable,!0),this._container=null,this._vm=null,this._id=t.newGuid(),this.initialize(n)}return m.prototype.initialize=function(e){var t=s(e.parentContainer,"cesiumContainer");this._parentContainer=s(t,""),this._viewer=s(e.viewer,null),this._style=s(e.style,void 0);var n={parentContainer:this._parentContainer,title:this._title,content:this._content,shown:this._shown,showHeader:this._showHeader,showTitle:this._showTitle,showCloseBtn:this._showCloseBtn,style:this._style,bodyStyle:this._bodyStyle,draggable:this._draggable};this._container=new c(n);var i=this;this._vm=new h({el:".module-scene-settings-content",data:{guid:i._id,titles:f,sceneModeEnum:g,sceneMode:g.view3D,renderEnum:d,renderSettings:w},watch:{sceneMode:function(){i._viewer.scene.mode=this.sceneMode}},methods:{onRenderCheckboxChange:function(e){i.onRenderCheckboxChange(e)}}}),i.update()},m.prototype.onRenderCheckboxChange=function(e){switch(e){case d.atmosphereEffect:this._viewer.scene.skyAtmosphere.show=this.vm.renderSettings.atmosphereEffect;break;case d.lightEffect:this._viewer.scene.globe.enableLighting=this.vm.renderSettings.lightEffect;break;case d.waterEffect:this._viewer.scene.globe.showWaterEffect=this.vm.renderSettings.waterEffect;break;case d.fogEffect:this._viewer.scene.fog.enabled=this.vm.renderSettings.fogEffect;break;case d.depthAgainst:this._viewer.scene.globe.depthTestAgainstTerrain=this.vm.renderSettings.depthAgainst;break;case d.skyBox:this._viewer.scene.skyBox.show=this.vm.renderSettings.skyBox;break;case d.sun:this._viewer.scene.sun.show=this.vm.renderSettings.sun;break;case d.moon:this._viewer.scene.moon.show=this.vm.renderSettings.moon}},m.prototype.update=function(){n(this._viewer)&&(this.vm.sceneMode=this._viewer.scene.mode,this.vm.renderSettings.atmosphereEffect=this._viewer.scene.skyAtmosphere.show,this.vm.renderSettings.lightEffect=this._viewer.scene.globe.enableLighting,this.vm.renderSettings.waterEffect=this._viewer.scene.globe.showWaterEffect,this.vm.renderSettings.fogEffect=this._viewer.scene.fog.enabled,this.vm.renderSettings.depthAgainst=this._viewer.scene.globe.depthTestAgainstTerrain,this.vm.renderSettings.skyBox=this._viewer.scene.skyBox.show,this.vm.renderSettings.sun=this._viewer.scene.sun.show,this.vm.renderSettings.moon=this._viewer.scene.moon.show)},m.prototype.destroy=function(){return this._container.destroy()},i(m.prototype,{container:{get:function(){return this._container}},vm:{get:function(){return this._vm}},shown:{get:function(){return this._container.shown},set:function(e){this._container.shown=e}}}),m});