define(["libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","jquery","Cesium","Vue","Bootstrap","views/Container","views/gps"],function(e,t,o,r,a,i,n,s,c,u){"use strict";function d(e){e=o(e,{}),this._viewer=o(e.viewer,void 0),this._name=e.name}return d.prototype.addWuHanCarTrackMap=function(e){var t=this;t._viewer.scene.mode=i.SceneMode.SCENE2D,this._dataSource&&this._viewer.dataSources.contains(this._dataSource)&&(this._viewer.dataSources.remove(this._dataSource),this._dataSource=void 0),this._dataSource=new i.GeoJsonDataSource(e),i.loadText("resources/wuhan-car").then(function(e){var o={start:0,end:50},r=75,a=o.end-o.start,n=[],s=[],c=new i.Color(53/255,57/255,1,.8),d=new i.Color(65/255,105/255,225/255,.8),l=new i.Color(1,250/255,250/255,.2);e=e.split("\n"),console.log(e.length);for(var h=0,v=new i.WebMercatorProjection,m=180/Math.PI,w=0;w<e.length;w++){var p=e[w].split(","),_=[];p.length>h&&(h=p.length);for(var f=[],g=0;g<p.length;g+=2){_.push([p[g],p[g+1]]);var S=new i.Cartographic,C=new i.Cartesian3(p[g],p[g+1],0);v.unproject(C,S);var D=S.latitude*m,b=S.longitude*m,y=u.bd_decrypt(D,b),I=u.gcj_decrypt(y.lat,y.lon);f.push(I.lon),f.push(I.lat),f.push(0);var M=t._dataSource.entities.add({position:i.Cartesian3.fromDegrees(I.lon,I.lat,0),nameID:g,billboard:{image:"./images/icon/12/c2.png",width:5,height:5,color:l}});M.isAvailable=function(e){return function(t){if(!i.defined(t))throw new i.DeveloperError("time is required.");var n=i.JulianDate.toDate(t).getTime()/r%a+o.start,s=s||10;return!!(n&&e.nameID>n-s&&e.nameID<n)&&(e.billboard.color._value.alpha=.8*(e.nameID-n+s)/s,!0)}}(M),n.push(M)}s[w]=t._dataSource.entities.add({polyline:{positions:i.Cartesian3.fromDegreesArrayHeights(f),width:2,material:new i.PolylineOutlineMaterialProperty({color:c,outlineWidth:.1,outlineColor:d})}})}t._viewer.scene.camera.setView({destination:i.Cartesian3.fromDegrees(114.2827,30.4434,126468)}),t._viewer.dataSources.add(t._dataSource)}).otherwise(function(e){})},d.prototype.remove=function(){this._dataSource&&this._viewer.dataSources.contains(this._dataSource)&&(this._viewer.dataSources.remove(this._dataSource),this._dataSource=void 0)},r(d.prototype,{viewer:{get:function(){return this._viewer},set:function(e){this._viewer=e}}}),d});