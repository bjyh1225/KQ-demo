define(["text!views/html/Draw.html","libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","jquery","Vue","Bootstrap","views/Container","views/DrawnObjectAttribute"],function(t,e,n,o,i,r,l,s,a,h){"use strict";var w={drawPoint:"绘制点",drawPolyline:"绘制线",drawPolygon:"绘制面",drawModel:"绘模型",drawModalTitle:"提示",drawModalContent:""};for(var c in w)w[c]=window.platformLanguage[c]?window.platformLanguage[c]:w[c];function u(n){n=o(n,{}),this._viewer=o(n.viewer,null),this._parentContainer=o(n.parentContainer,"cesiumContainer"),this._title=o(n.title,"Panel"),this._content=o(t,""),this._shown=o(n.shown,!0),this._showHeader=o(n.showHeader,!1),this._showTitle=o(n.showTitle,!0),this._showCloseBtn=o(n.showCloseBtn,!0),this._style=o(n.style,{position:"absolute",top:"0",left:"0",margin:"0",width:"auto"}),this._bodyStyle=o(n.bodyStyle,{margin:0,padding:0}),this._container=null,this._vm=null,this._id=e.newGuid(),this._containerCollection={},this.initialize(n)}return u.prototype.initialize=function(t){var e=this,n={parentContainer:this._parentContainer,title:this._title,content:this._content,shown:this._shown,showHeader:this._showHeader,showTitle:this._showTitle,showCloseBtn:this._showCloseBtn,style:this._style,bodyStyle:this._bodyStyle};this._container=new a(n),this._vm=new l({el:".module-draw-content",data:{titles:w,message:"Hello Vue!"},methods:{onDrawPointBtnClk:function(t){e.openDrawnObjectAttributePanel(t,"Point",w.drawPoint)},onDrawPolylineBtnClk:function(t){e.openDrawnObjectAttributePanel(t,"Polyline",w.drawPolyline)},onDrawPolygonBtnClk:function(t){e.openDrawnObjectAttributePanel(t,"Polygon",w.drawPolygon)},onDrawModelBtnClk:function(t){e.openDrawnObjectAttributePanel(t,"Model",w.drawModel)}}})},u.prototype.openDrawnObjectAttributePanel=function(t,n,o){this.shown=!1,this._containerCollection.DrawnObjectAttribute&&this._containerCollection.DrawnObjectAttribute.destroy();var i=e.getElementAbsolutePosition(t.currentTarget.parentElement),r=i.top+"px",l=i.left+t.currentTarget.parentElement.clientWidth+10+"px",s={viewer:this._viewer,parentContainer:this._parentContainer,shown:!1,showHeader:!0,title:o,style:{position:"absolute",top:r,left:l,zIndex:999},drawObjectType:n};this._containerCollection.DrawnObjectAttribute=new h(s),this._containerCollection.DrawnObjectAttribute.shown=!0},i(u.prototype,{container:{get:function(){return this._container}},vm:{get:function(){return this._vm}},shown:{get:function(){return this._container.shown},set:function(t){this._container.shown=t}}}),u});