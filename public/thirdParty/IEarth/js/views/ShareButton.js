define(["libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","jquery","jqueryShare","Cesium","Vue"],function(t,i,e,o,s,n,a,r){var u={share:"分享",qrcode:"二维码",douban:"豆瓣",qzone:"QQ空间",sina:"新浪微博",qq:"QQ好友"};for(var p in u)u[p]=platformLanguage[p]?platformLanguage[p]:u[p];var h=["<style>",".tools-share-button-content .box a{","width:32px;height: 32px;border-radius:32px;background-size:100% 100%;display:inline-block;cursor:pointer;","}","</style>",'<div class="tools-share-button-content" :style="position">','<a :title="titles.share" class="cesium-button" @mouseenter="onMouseEnterShareBtn" @mouseleave="onMouseLeaveShareBtn(2)"','style="width:32px;height:32px;border-radius:32px;padding:3px 7px;margin:0;background:rgba(38,38,38,0.75)">','<span class="iconfont icon-share" style="display:inline-block;"></span>',"</a>",'<div :id="\'share_container_\'+guid" class="box" @mouseenter="onMouseEnterShareBtn" @mouseleave="onMouseLeaveShareBtn(0)" ','style="position:absolute;top:0;right:38px;display: none;">','<a :id="\'share_qrcode_\'+guid" class="cesium-button" :title="titles.qrcode" :style="{backgroundImage:images.qrcode}"></a>','<a :id="\'share_douban_\'+guid" class="cesium-button" :title="titles.douban" :style="{backgroundImage:images.douban}"></a>','<a :id="\'share_qzone_\'+guid" class="cesium-button" :title="titles.qzone" :style="{backgroundImage:images.qzone}"></a>','<a :id="\'share_sina_\'+guid" class="cesium-button" :title="titles.sina" :style="{backgroundImage:images.sina}"></a>','<a :id="\'share_qq_\'+guid" class="cesium-button" :title="titles.qq" :style="{backgroundImage:images.qq}"></a>',"</div>","</div>"].join("");function l(o){o=e(o,{}),this._viewer=e(o.viewer,null),this._parentContainer=e(o.parentContainer,"cesiumContainer"),"string"==typeof this._parentContainer&&(this._parentContainer=s("#"+this._parentContainer));var n=e(o.position,{bottom:300,right:20});this._position={},i(n.top)?this._position.top=n.top+"px":i(n.bottom)?this._position.bottom=n.bottom+"px":this._position.top="185px",i(n.left)?this._position.left=n.left+"px":i(n.right)?this._position.right=n.right+"px":this._position.right="10px",this._position.position="absolute",this._vm=null,this._id=t.newGuid(),this.initialize()}return l.prototype.initialize=function(){var t=this;this._parentContainer.append(h),this._vm=new r({el:".tools-share-button-content",data:{guid:t._id,titles:u,position:t._position,images:{qrcode:"url(js/libs/jquery/jquery-share/images/wechat.png)",douban:"url(js/libs/jquery/jquery-share/images/db.png)",qzone:"url(js/libs/jquery/jquery-share/images/qzone.png)",sina:"url(js/libs/jquery/jquery-share/images/sina.png)",qq:"url(js/libs/jquery/jquery-share/images/qq.png)"},timeOut:""},watch:{},methods:{onMouseEnterShareBtn:function(){clearTimeout(this.timeOut),s("#share_container_"+t._id).fadeIn(500)},onMouseLeaveShareBtn:function(i){this.timeOut=setTimeout(function(){s("#share_container_"+t._id).fadeOut(200)},1e3*i)}}}),jsModern.share({qrcode:"#share_qrcode_"+t._id,douban:"#share_douban_"+t._id,qzone:"#share_qzone_"+t._id,sina:"#share_sina_"+t._id,qq:"#share_qq_"+t._id})},l.prototype.setPosition=function(t){t=e(options.position,{top:185,right:10});this._position={},i(t.top)?this._position.top=t.top+"px":i(t.bottom)?this._position.bottom=t.bottom+"px":this._position.top="185px",i(t.left)?this._position.left=t.left+"px":i(t.right)?this._position.right=t.right+"px":this._position.right="10px",this._position.position="absolute",this._vm.position=this._position},o(l.prototype,{vm:{get:function(){return this._vm}}}),l});