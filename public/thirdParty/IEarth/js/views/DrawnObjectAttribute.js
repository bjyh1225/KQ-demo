define(["text!views/html/DrawnObjectAttribute.html","libs/common/common","libs/common/defined","libs/common/defaultValue","libs/common/defineProperties","Cesium","jquery","Vue","VueLazyLoad","Bootstrap","ColorPicker","views/Container","views/CesiumCommonLib","views/Enum"],function(e,a,i,t,o,r,l,n,s,m,d,h,g,c){"use strict";var p={general:"常规",view:"视角",name:"名称",position:"位置",altitude:"高度/海拔",draped:"贴地",absolute:"绝对高程",relative:"相对高程",symbol:"样式",icon:"图标",model:"模型",iconStyle:"图标样式",color:"颜色",transparency:"透明度",size:"大小",modelSize:"缩放比例",minmunPixelSize:"像素值",property:"属性",label:"名称样式",lineStyle:"线样式",fillStyle:"填充样式",outlineStyle:"边框样式",outlineWidth:"边框宽度",currentView:"当前视角",resetCenterView:"重置至中心视角",useCurrentView:"使用当前视角",longitude:"经度",latitude:"纬度",heading:"朝向角",tilt:"俯仰角",roll:"翻转角",mUnit:"米",kmUnit:"公里",lineWeight:"线宽",fill:"填充",stroke:"边线",ok:"确定",cancel:"取消",apply:"应用",default:"默认",rotate:"旋转角度:(度)",display:"显示",modelPixelText:"是否固定像素显示",modelScaleDisplay:"缩放比例显示",fixedPixelDisplay:"固定像素显示"};for(var u in p)p[u]=window.platformLanguage[u]?window.platformLanguage[u]:p[u];var P=[{name:p.default||"默认",value:c.eHeightStyle.Default},{name:p.draped||"贴地",value:c.eHeightStyle.Draped},{name:p.absolute||"绝对高程",value:c.eHeightStyle.Absolute},{name:p.relative||"相对高程",value:c.eHeightStyle.Relative}],v=void 0;function _(i){i=t(i,{}),this._viewer=t(i.viewer,null),this._parentContainer=t(i.parentContainer,"cesiumContainer"),this._title=t(i.title,"绘制"),this._content=t(e,""),this._shown=t(i.shown,!0),this._showHeader=t(i.showHeader,!0),this._showTitle=t(i.showTitle,!0),this._showCloseBtn=t(i.showCloseBtn,!0),this._style=t(i.style,{position:"absolute",top:"0",left:"0",margin:"0",width:"auto"}),this._bodyStyle=t(i.bodyStyle,{padding:"10px",margin:0}),this._draggable=t(i.draggable,!0),this._container=null,this._vm=null,this._id=a.newGuid(),this._entity=t(i.entity,void 0),this._drawHandler=new r.DrawHandler(this._viewer),this.initialize(i)}return _.prototype.initialize=function(e){var i=t(e.drawObjectType,"Point"),o=this,m={parentContainer:this._parentContainer,title:this._title,content:this._content,shown:this._shown,showHeader:this._showHeader,showTitle:this._showTitle,showCloseBtn:this._showCloseBtn,style:this._style,bodyStyle:this._bodyStyle,draggable:this._draggable};this._container=new h(m),this._container.onClose=function(){o._drawHandler&&o._drawHandler.stopDrawing()},n.use(s,{error:"images/imageLayer/nopicture.jpg",loading:"images/lazy-loading.gif"}),this._vm=new n({el:".module-drawn-object-attr-content",data:{guid:o._id,titles:p,tabType:"general",drawObjectType:i,heightParams:{heightStyleMap:P,style:c.eHeightStyle.Default,name:p.default,value:0},viewsParams:{longitude:"",longitudeText:"NA",latitude:"",latitudeText:"NA",altitude:"",altitudeText:"NA",heading:"",headingText:"NA",tilt:"",tiltText:"NA",roll:"",rollText:"NA"},pointParams:{markerIconList:[],name:window.platformLanguage.unnamedPoint||"未命名的点",x:"",y:"",iconName:"../../../Examples/examples/data/symbols/shapes/bus.png",color:"#FFFFFF",colorAlpha:0,style:{backgroundColor:this.color},pointSize:32,labelColor:"#FFFFFF",labelColorAlpha:0,labelSize:16},polylineParams:{name:window.platformLanguage.unnamedPolyline||"未命名的线",color:"#00FFE6",colorAlpha:0,lineWeight:5,labelColor:"#FFFFFF",labelColorAlpha:0},polygonParams:{name:window.platformLanguage.unnamedPolygon||"未命名的面",color:"#0DFF00",colorAlpha:0,lineColor:"#FFFF00",lineColorAlpha:0,lineWeight:2,labelColor:"#FFFFFF",labelColorAlpha:0},modelParams:{name:window.platformLanguage.unnamedModel||"未命名的模型",modelIconList:[],x:"",y:"",z:"",iconName:"../../../Examples/examples/data/models/CesiumAir/Cesium_Air.gltf",colorAlpha:0,color:"#FFFFFF",modelScale:10,minimumPixelSize:void 0,labelColor:"#FFFFFF",labelSize:16,pointSize:32,labelColorAlpha:0,SwitchModelPixel:!1,SwitchModelScale:!0,modelPropertyParamsHeading:0,modelPropertyParamsPitch:0,modelPropertyParamsRoll:0}},watch:{},methods:{onTabsToggle:function(e){this.tabType=e},onToggleHeightStyleClk:function(e,a){this.heightParams.style=e,this.heightParams.name=a},onUseCurrentViewBtnClk:function(){var e=o.getCameraViewInfo();this.viewsParams=e;var i=a.degree2DuFenMiao(a.radian2Degree(Math.abs(e.longitude))).text,t=a.degree2DuFenMiao(a.radian2Degree(Math.abs(e.latitude))).text;this.viewsParams.longitudeText=e.longitude>0?i+" E":i+" W",this.viewsParams.latitudeText=e.latitude>0?t+" N":t+"S",this.viewsParams.altitudeText=e.altitude>1e6?(e.altitude/1e3).toFixed(5)+" "+p.kmUnit:e.altitude.toFixed(3)+" "+p.mUnit,this.viewsParams.headingText=a.degree2DuFenMiao(r.Math.toDegrees(e.heading)).text,this.viewsParams.tiltText=a.degree2DuFenMiao(r.Math.toDegrees(e.tilt)).text,this.viewsParams.rollText=a.degree2DuFenMiao(r.Math.toDegrees(e.roll)).text,v&&(v.setView(e.position,e.heading,e.tilt,e.roll),v.isFlyCenter=!1)},onResetCenterViewBtnClk:function(){this.viewsParams={longitude:"",longitudeText:"NA",latitude:"",latitudeText:"NA",altitude:"",altitudeText:"NA",heading:"",headingText:"NA",tilt:"",tiltText:"NA",roll:"",rollText:"NA"},v&&(v.isFlyCenter=!0)},onSelectedMarkerIconBtnClk:function(e,a){this.pointParams.iconName=a.url,this.pointParams.name=a.name,l(".module-drawn-object-attr-content .marker.selected").removeClass("selected"),l(e.currentTarget).addClass("selected")},onSelectedModelIconBtnClk:function(e,a){this.modelParams.iconName=a.url,this.modelParams.name=a.name,this.modelParams.modelPropertyParamsHeading=a.PropertyParam.heading,this.modelParams.modelPropertyParamsPitch=a.PropertyParam.pitch,this.modelParams.modelPropertyParamsRoll=a.PropertyParam.roll,l(".module-drawn-object-attr-content .marker.selected").removeClass("selected"),l(e.currentTarget).addClass("selected")},onStartDrawingGeometry:function(){o.startDrawingGeometry(i)},onChangeMinMumPixel:function(){o.onChangeMinMumPixelOrScale()}}}),this.loadMarkerIconList(),this.loadModelIconList(),this.renderPlugins(),this.updateColorValueWithColorChange(),this.regDrawEndEvent(this._drawHandler)},_.prototype.onChangeMinMumPixelOrScale=function(){this._vm.modelParams.SwitchModelPixel=!this._vm.modelParams.SwitchModelPixel,this._vm.modelParams.SwitchModelScale=!this._vm.modelParams.SwitchModelScale,this._vm.modelParams.SwitchModelScale&&(this._vm.modelParams.minimumPixelSize=""),this._vm.modelParams.SwitchModelPixel&&(this._vm.modelParams.minimumPixelSize=128)},_.prototype.loadMarkerIconList=function(){var e=this;l.ajax({url:"resources/symbols/package.json",type:"GET",dataType:"json",success:function(a){e._vm.pointParams.markerIconList=a}})},_.prototype.loadModelIconList=function(){var e=this;l.ajax({url:"resources/symbols/modelIcon.json",type:"GET",dataType:"json",success:function(a){e._vm.modelParams.modelIconList=a}})},_.prototype.renderPlugins=function(){l(".color-selector").each(function(){var e=this;l(e).ColorPicker({color:"#0000ff",onShow:function(e){return l(e).fadeIn(500),!1},onHide:function(e){return l(e).fadeOut(500),!1},onChange:function(a,i,t){l(e).css("backgroundColor","#"+i),e.value="#"+i,l(e).change();var o=255-t.r,r=255-t.g,n=255-t.b;l(e).css("color","rgba("+o+","+r+","+n+")"),l(e).parent().find(".caret").eq(0).css("border-top-color","rgba("+o+","+r+","+n+")");var s="rgba("+t.r+","+t.g+","+t.b+",0)",m="rgb("+t.r+", "+t.g+", "+t.b+")";l(e).parent().parent().parent().find("input[type=range]").eq(0).css("background","linear-gradient(to right, "+s+", "+m+")").css("background","-moz-linear-gradient(left, "+s+", "+m+")")}})})},_.prototype.updateColorValueWithColorChange=function(){var e=this;l("#point_color_"+e._vm.guid).bind("change",function(a){e._vm.pointParams.color=a.target.value}),l("#point_label_color_"+e._vm.guid).bind("change",function(a){e._vm.pointParams.labelColor=a.target.value}),l("#polyline_color_"+e._vm.guid).bind("change",function(a){e._vm.polylineParams.color=a.target.value}),l("#polyline_label_color_"+e._vm.guid).bind("change",function(a){e._vm.polylineParams.labelColor=a.target.value}),l("#polygon_color_"+e._vm.guid).bind("change",function(a){e._vm.polygonParams.color=a.target.value}),l("#polygon_line_color_"+e._vm.guid).bind("change",function(a){e._vm.polygonParams.lineColor=a.target.value}),l("#polygon_label_color_"+e._vm.guid).bind("change",function(a){e._vm.polygonParams.labelColor=a.target.value}),l("#model_color_"+e._vm.guid).bind("change",function(a){e._vm.modelParams.lineColor=a.target.value}),l("#model_line_color_"+e._vm.guid).bind("change",function(a){e._vm.modelParams.lineColor=a.target.value}),l("#model_label_color_"+e._vm.guid).bind("change",function(a){e._vm.modelParams.labelColor=a.target.value})},_.prototype.getCameraViewInfo=function(){var e=this._viewer.camera,a=e.position,i=e.positionCartographic,t=e.heading,o=e.pitch,r=e.roll;return{position:a,x:a.x,y:a.y,z:a.z,positionCartographic:i,longitude:i.longitude,latitude:i.latitude,altitude:i.height,height:i.height,heading:t,tilt:o,roll:r,pitch:o}},_.prototype.startDrawingGeometry=function(e){var a,t={};if("Point"==e)a=r.DrawMode.Marker,t.iconUrl=this._vm.pointParams.iconName,t.width=Number(this._vm.pointParams.pointSize),t.height=Number(this._vm.pointParams.pointSize),t.color=r.Color.fromCssColorString(this._vm.pointParams.color),t.labelColor=r.Color.fromCssColorString(this._vm.pointParams.labelColor);else if("Polyline"==e){a=r.DrawMode.Polyline,(o=r.Material.fromType(r.Material.ColorType)).uniforms.color=r.Color.fromCssColorString(this._vm.polylineParams.color),t.material=o,t.width=Number(this._vm.polylineParams.lineWeight)}else if("Polygon"==e){var o;a=r.DrawMode.Polygon,(o=r.Material.fromType(r.Material.ColorType)).uniforms.color=r.Color.fromCssColorString(this._vm.polygonParams.color),t.material=o,this._vm.heightParams.style!==c.eHeightStyle.Draped&&(t.perPositionHeight=!0)}else"Model"==e?(a=r.DrawMode.Model,this._vm.heightParams.style!==c.eHeightStyle.Draped&&(t.modelUrl=this._vm.modelParams.iconName,t.modelScale=Number(this._vm.modelParams.modelScale),t.minimumPixelSize=i(this._vm.modelParams.minimumPixelSize)?Number(this._vm.modelParams.minimumPixelSize):0,t.modelPropertyParamsHeading=i(this._vm.modelParams.modelPropertyParamsHeading)?Number(this._vm.modelParams.modelPropertyParamsHeading):135,t.modelPropertyParamsPitch=i(this._vm.modelParams.modelPropertyParamsPitch)?Number(this._vm.modelParams.modelPropertyParamsPitch):0,t.modelPropertyParamsRoll=i(this._vm.modelParams.modelPropertyParamsRoll)?Number(this._vm.modelParams.modelPropertyParamsRoll):0)):"Model"==e&&(a=r.DrawMode.Model,this._vm.heightParams.style!==c.eHeightStyle.Draped&&(t.modelUrl=this._vm.modelParams.iconName,t.modelScale=Number(this._vm.modelParams.modelScale),t.minimumPixelSize=i(this._vm.modelParams.minimumPixelSize)?Number(this._vm.modelParams.minimumPixelSize):1,t.modelPropertyParamsHeading=i(this._vm.modelParams.modelPropertyParamsHeading)?Number(this._vm.modelParams.modelPropertyParamsHeading):128,t.modelPropertyParamsPitch=i(this._vm.modelParams.modelPropertyParamsPitch)?Number(this._vm.modelParams.modelPropertyParamsPitch):0,t.modelPropertyParamsRoll=i(this._vm.modelParams.modelPropertyParamsRoll)?Number(this._vm.modelParams.modelPropertyParamsRoll):0));this._drawHandler.startDrawingGeometry(a,t)},_.prototype.regDrawEndEvent=function(e){var a=this;e.drawEndEvent.addEventListener(function(e){switch(e.drawMode){case r.DrawMode.Point:break;case r.DrawMode.Marker:var t=new r.Cartographic;a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e.position,t);r.HeightReference.NONE;switch(a._vm.heightParams.style){case c.eHeightStyle.Default:break;case c.eHeightStyle.Draped:r.HeightReference.CLAMP_TO_GROUND;var o=g.getObjectCartographicFromCartesian3(a._viewer,e.position);t.height=o.height;break;case c.eHeightStyle.Absolute:r.HeightReference.NONE,t.height=Number(a._vm.heightParams.value);break;case c.eHeightStyle.Relative:r.HeightReference.RELATIVE_TO_GROUND;o=g.getObjectCartographicFromCartesian3(a._viewer,e.position);t.height=o.height+Number(a._vm.heightParams.value)}var l=new r.Cartesian3;a._viewer.scene.globe.ellipsoid.cartographicToCartesian(t,l);var n=r.Color.fromCssColorString(a._vm.pointParams.color),s=r.Color.fromCssColorString(a._vm.pointParams.labelColor);_=(_=(a._vm.pointParams.pointSize-a._vm.pointParams.labelSize)/2)<0?0:-_,v=a._viewer.objectManager.addBillboard({name:a._vm.pointParams.name,show:!0,position:l,pixelOffset:new r.Cartesian2(0,0),eyeOffset:new r.Cartesian3(0,0,0),horizontalOrigin:r.HorizontalOrigin.CENTER,verticalOrigin:r.VerticalOrigin.BOTTOM,scale:1,width:Number(a._vm.pointParams.pointSize),height:Number(a._vm.pointParams.pointSize),image:a._vm.pointParams.iconName,color:r.Color.fromAlpha(n,1-a._vm.pointParams.colorAlpha/100),disableDepthTestDistance:Number.MAX_VALUE,label:{text:a._vm.pointParams.name,position:l,pixelOffset:new r.Cartesian2(a._vm.pointParams.pointSize/2,_),eyeOffset:new r.Cartesian3(0,0,0),horizontalOrigin:r.HorizontalOrigin.LEFT,verticalOrigin:r.VerticalOrigin.BOTTOM,fillColor:r.Color.fromAlpha(s,1-a._vm.pointParams.labelColorAlpha/100),font:a._vm.pointParams.labelSize+"px sans-serif,Arial,Helvetica,ubunturegular,sans-serif",disableDepthTestDistance:Number.MAX_VALUE,outlineWidth:1,outlineColor:r.Color.RED,labelStyle:r.LabelStyle.FILL_AND_OUTLINE}}),a._vm.pointParams.x=r.Math.toDegrees(t.longitude).toFixed(5),a._vm.pointParams.y=r.Math.toDegrees(t.latitude).toFixed(5);break;case r.DrawMode.Polyline:n=r.Color.fromCssColorString(a._vm.polylineParams.color);n=r.Color.fromAlpha(n,1-a._vm.polylineParams.colorAlpha/100);var m=e.positions,d=(r.HeightReference.CLAMP_TO_GROUND,!0);(u=a._vm.heightParams.style)!=c.eHeightStyle.Absolute&&u!=c.eHeightStyle.Relative||(m.forEach(function(e,i){var t=new r.Cartographic;if(a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e,t),u==c.eHeightStyle.Absolute)r.HeightReference.NONE,t.height=Number(a._vm.heightParams.value),m[i]=t;else if(u==c.eHeightStyle.Relative){r.HeightReference.RELATIVE_TO_GROUND;var o=g.getObjectCartographicFromCartesian3(a._viewer,e);t.height=o.height+Number(a._vm.heightParams.value),m[i]=t}}),m=a._viewer.scene.globe.ellipsoid.cartographicArrayToCartesianArray(m),d=!1),u==c.eHeightStyle.Default&&(d=!1);t=new r.Cartographic;a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e.positions[e.positions.length-1],t);l=new r.Cartesian3;a._viewer.scene.globe.ellipsoid.cartographicToCartesian(t,l);s=r.Color.fromCssColorString(a._vm.polylineParams.labelColor);v=a._viewer.objectManager.addPolylineEntity({name:a._vm.polylineParams.name,show:!0,material:new r.ColorMaterialProperty(n),positions:m,width:Number(a._vm.polylineParams.lineWeight),flowSurface:d,label:{text:a._vm.polylineParams.name,position:l,pixelOffset:new r.Cartesian2(a._vm.pointParams.pointSize/2,_),eyeOffset:new r.Cartesian3(0,0,0),horizontalOrigin:r.HorizontalOrigin.LEFT,verticalOrigin:r.VerticalOrigin.BOTTOM,fillColor:r.Color.fromAlpha(s,1-a._vm.polylineParams.labelColorAlpha/100),font:a._vm.pointParams.labelSize+"px sans-serif,Arial,Helvetica,ubunturegular,sans-serif",disableDepthTestDistance:Number.MAX_VALUE,outlineWidth:1,outlineColor:r.Color.RED,labelStyle:r.LabelStyle.FILL_AND_OUTLINE}});break;case r.DrawMode.Polygon:var h=r.Color.fromCssColorString(a._vm.polygonParams.color);h=r.Color.fromAlpha(h,1-a._vm.polygonParams.colorAlpha/100);var p=r.Color.fromCssColorString(a._vm.polygonParams.lineColor);p=r.Color.fromAlpha(p,1-a._vm.polygonParams.lineColorAlpha/100);var u,P=!1;m=e.positions,r.HeightReference.CLAMP_TO_GROUND,d=!0;(u=a._vm.heightParams.style)!=c.eHeightStyle.Absolute&&u!=c.eHeightStyle.Relative||(m.forEach(function(e,i){var t=new r.Cartographic;if(a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e,t),u==c.eHeightStyle.Absolute)r.HeightReference.NONE,t.height=Number(a._vm.heightParams.value),m[i]=t;else if(u==c.eHeightStyle.Relative){r.HeightReference.RELATIVE_TO_GROUND;var o=g.getObjectCartographicFromCartesian3(a._viewer,e);t.height=o.height+Number(a._vm.heightParams.value),m[i]=t}}),m=a._viewer.scene.globe.ellipsoid.cartographicArrayToCartesianArray(m),P=!0),u==c.eHeightStyle.Default&&(P=!0);t=new r.Cartographic;a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e.positions[e.positions.length-1],t);l=new r.Cartesian3;a._viewer.scene.globe.ellipsoid.cartographicToCartesian(t,l);s=r.Color.fromCssColorString(a._vm.polygonParams.labelColor);v=a._viewer.objectManager.addPolygonEntity({name:a._vm.polygonParams.name,show:!0,material:new r.ColorMaterialProperty(h),hierarchy:new r.PolygonHierarchy(m),outline:!0,outlineColor:p,outlineWidth:Number(a._vm.polygonParams.lineWeight),perPositionHeight:P,label:{text:a._vm.polygonParams.name,position:l,pixelOffset:new r.Cartesian2(a._vm.pointParams.pointSize/2,_),eyeOffset:new r.Cartesian3(0,0,0),horizontalOrigin:r.HorizontalOrigin.LEFT,verticalOrigin:r.VerticalOrigin.BOTTOM,fillColor:r.Color.fromAlpha(s,1-a._vm.polygonParams.labelColorAlpha/100),font:a._vm.pointParams.labelSize+"px sans-serif,Arial,Helvetica,ubunturegular,sans-serif",disableDepthTestDistance:Number.MAX_VALUE,outlineWidth:1,outlineColor:r.Color.RED,labelStyle:r.LabelStyle.FILL_AND_OUTLINE}});break;case r.DrawMode.Model:t=new r.Cartographic;a._viewer.scene.globe.ellipsoid.cartesianToCartographic(e.position,t);r.HeightReference.NONE;switch(a._vm.heightParams.style){case c.eHeightStyle.Default:break;case c.eHeightStyle.Draped:r.HeightReference.CLAMP_TO_GROUND;o=g.getObjectCartographicFromCartesian3(a._viewer,e.position);t.height=o.height;break;case c.eHeightStyle.Absolute:r.HeightReference.NONE,t.height=Number(a._vm.heightParams.value);break;case c.eHeightStyle.Relative:r.HeightReference.RELATIVE_TO_GROUND;o=g.getObjectCartographicFromCartesian3(a._viewer,e.position);t.height=o.height+Number(a._vm.heightParams.value)}l=new r.Cartesian3;a._viewer.scene.globe.ellipsoid.cartographicToCartesian(t,l);var _;n=r.Color.fromCssColorString(a._vm.modelParams.color),s=r.Color.fromCssColorString(a._vm.modelParams.labelColor);_=(_=(a._vm.modelParams.pointSize-a._vm.modelParams.labelSize)/2)<0?0:-_;var y=r.Math.toRadians(i(a._vm.modelParams.modelPropertyParamsHeading)?Number(a._vm.modelParams.modelPropertyParamsHeading):135),C=r.Math.toRadians(i(a._vm.modelParams.modelPropertyParamsPitch)?Number(a._vm.modelParams.modelPropertyParamsPitch):0),b=r.Math.toRadians(i(a._vm.modelParams.modelPropertyParamsRoll)?Number(a._vm.modelParams.modelPropertyParamsRoll):0),w=new r.HeadingPitchRoll(y,C,b),f=r.Transforms.headingPitchRollQuaternion(l,w);v=a._viewer.objectManager.addEntity({name:a._vm.modelParams.name,show:!0,position:l,orientation:f,label:{text:a._vm.modelParams.name,position:l,pixelOffset:new r.Cartesian2(a._vm.modelParams.pointSize/2,_),eyeOffset:new r.Cartesian3(0,0,0),horizontalOrigin:r.HorizontalOrigin.LEFT,verticalOrigin:r.VerticalOrigin.BOTTOM,fillColor:r.Color.fromAlpha(s,1-a._vm.modelParams.labelColorAlpha/100),font:a._vm.modelParams.labelSize+"px sans-serif,Arial,Helvetica,ubunturegular,sans-serif",disableDepthTestDistance:Number.MAX_VALUE,outlineWidth:1,outlineColor:r.Color.RED,labelStyle:r.LabelStyle.FILL_AND_OUTLINE},model:{uri:a._vm.modelParams.iconName,scale:r.defined(a._vm.modelParams.modelScale)?Number(a._vm.modelParams.modelScale):1,minimumPixelSize:r.defined(a._vm.modelParams.minimumPixelSize)?Number(a._vm.modelParams.minimumPixelSize):1,shadows:!1}}),a._vm.modelParams.x=r.Math.toDegrees(t.longitude).toFixed(5),a._vm.modelParams.y=r.Math.toDegrees(t.latitude).toFixed(5),a._vm.modelParams.z=r.Math.toDegrees(t.height).toFixed(5);break;case r.DrawMode.Rectangle:var S=e.rectangle,T=new r.DrawHandler.RectanglePrimitive({rectangle:S,material:r.Material.fromType(r.Material.StripeType)});a._viewer.scene.primitives.add(T),T.setEditable(),T.addListener("onEdited",function(e){});break;case r.DrawMode.AnyRectangle:var M=new r.DrawHandler.PolygonPrimitive({positions:e.positions,material:r.Material.fromType("Checkerboard")});a._viewer.scene.primitives.add(M),M.setEditable(),M.addListener("onEdited",function(e){});break;case r.DrawMode.Circle:var N=new r.DrawHandler.CirclePrimitive({center:e.center,radius:e.radius,material:r.Material.fromType(r.Material.RimLightingType)});a._viewer.scene.primitives.add(N),N.setEditable(),N.addListener("onEdited",function(e){})}a._vm.onResetCenterViewBtnClk()})},_.prototype.destroy=function(){return this._container.destroy()},o(_.prototype,{container:{get:function(){return this._container}},vm:{get:function(){return this._vm}},shown:{get:function(){return this._container.shown},set:function(e){this._container.shown=e}}}),_});