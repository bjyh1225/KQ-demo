{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@turf/area/index.js","webpack:///./node_modules/@turf/difference/index.mjs","webpack:///./node_modules/@turf/helpers/index.js","webpack:///./node_modules/@turf/intersect/index.js","webpack:///./node_modules/@turf/invariant/index.js","webpack:///./node_modules/@turf/kinks/index.js","webpack:///./node_modules/@turf/meta/index.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_assignMergeValue.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_baseHas.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_baseKeysIn.js","webpack:///./node_modules/lodash/_baseMerge.js","webpack:///./node_modules/lodash/_baseMergeDeep.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/_cloneArrayBuffer.js","webpack:///./node_modules/lodash/_cloneBuffer.js","webpack:///./node_modules/lodash/_cloneTypedArray.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_initCloneObject.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_safeGet.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/lodash/has.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/keysIn.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/merge.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/toPlainObject.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/martinez-polygon-clipping/dist/martinez.umd.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/assets/translations/index.js","webpack:///./src/css/controls.css?831e","webpack:///./src/css/layers.css?e423","webpack:///./src/js/Draw/L.PM.Draw.Circle.js","webpack:///./src/js/Draw/L.PM.Draw.CircleMarker.js","webpack:///./src/js/Draw/L.PM.Draw.Cut.js","webpack:///./src/js/Draw/L.PM.Draw.Line.js","webpack:///./src/js/Draw/L.PM.Draw.Marker.js","webpack:///./src/js/Draw/L.PM.Draw.Polygon.js","webpack:///./src/js/Draw/L.PM.Draw.Rectangle.js","webpack:///./src/js/Draw/L.PM.Draw.js","webpack:///./src/js/Edit/L.PM.Edit.Circle.js","webpack:///./src/js/Edit/L.PM.Edit.CircleMarker.js","webpack:///./src/js/Edit/L.PM.Edit.LayerGroup.js","webpack:///./src/js/Edit/L.PM.Edit.Line.js","webpack:///./src/js/Edit/L.PM.Edit.Marker.js","webpack:///./src/js/Edit/L.PM.Edit.Polygon.js","webpack:///./src/js/Edit/L.PM.Edit.Rectangle.js","webpack:///./src/js/Edit/L.PM.Edit.js","webpack:///./src/js/L.PM.Map.js","webpack:///./src/js/L.PM.Utils.js","webpack:///./src/js/L.PM.js","webpack:///./src/js/Mixins/Dragging.js","webpack:///./src/js/Mixins/MarkerLimits.js","webpack:///./src/js/Mixins/Modes/Mode.Drag.js","webpack:///./src/js/Mixins/Modes/Mode.Edit.js","webpack:///./src/js/Mixins/Modes/Mode.Removal.js","webpack:///./src/js/Mixins/Snapping.js","webpack:///./src/js/Toolbar/L.Controls.js","webpack:///./src/js/Toolbar/L.PM.Toolbar.js","webpack:///./src/js/helpers/index.js","webpack:///./src/js/polyfills.js"],"names":["en","de","it","id","ro","ru","es","nl","fr","pt_br","zh","pl","sv","Draw","Circle","extend","initialize","map","_map","_shape","toolbarButtonName","enable","options","L","Util","setOptions","radius","_enabled","_layerGroup","LayerGroup","_pmTempLayer","addTo","_layer","circle","templineStyle","addLayer","_centerMarker","marker","icon","divIcon","className","draggable","zIndexOffset","_hintMarker","cursorMarker","DomUtil","addClass","_icon","tooltips","bindTooltip","getTranslation","permanent","offset","point","direction","opacity","openTooltip","_hintline","polyline","hintlineStyle","_container","style","cursor","on","_placeCenterMarker","_syncHintMarker","fire","shape","workingLayer","pm","Toolbar","toggleButton","_otherSnapLayers","disable","off","_finishShape","removeLayer","snappable","_cleanupSnapping","enabled","toggle","_syncHintLine","latlng","getLatLng","setLatLngs","_syncCircleRadius","A","B","distance","distanceTo","setRadius","e","setLatLng","fakeDragEvent","target","_handleSnapping","_snapped","_placeCircleCenter","setTooltipContent","center","Object","assign","pathOptions","circleLayer","layer","_createMarker","Marker","CircleMarker","circleMarker","eachLayer","isRelevantMarker","Cut","Polygon","_cut","all","_layers","layers","keys","l","filter","intersect","toGeoJSON","console","error","forEach","diff","difference","resultingLayer","geoJSON","remove","getLayers","length","originalLayer","allowSelfIntersection","_handleSelfIntersection","_doesSelfIntersect","coords","getLatLngs","polygonLayer","polygon","splice","_tempSnapLayerIndex","Line","finishOnDoubleClick","finishOn","getCenter","_createVertex","tempMapDoubleClickZoomState","doubleClickZoom","hasSelfIntersection","selfIntersection","kinks","features","polyPoints","lastPolygonPoint","addVertex","clone","addLatLng","setStyle","color","isEmpty","_removeLastVertex","removedCoord","pop","hasClass","find","equals","first","newMarker","polylineLayer","second","markerStyle","type","push","third","Rectangle","rectangle","_startMarker","_styleMarkers","i","styleMarker","_placeStartingMarkers","_setRectangleOrigin","_syncRectangleSize","setBounds","corners","_findCorners","unmarkedCorners","corner","unmarkedCorner","index","rectangleLayer","getBounds","northwest","getNorthWest","northeast","getNorthEast","southeast","getSouthEast","southwest","getSouthWest","Class","includes","SnapMixin","snapDistance","dashArray","shapes","PM","setPathOptions","getShapes","Error","join","addControls","addButton","Edit","applyOptions","_initSnappableMarkers","_outerMarker","_moveCircle","_disableSnapping","_markers","_unsnap","toggleEdit","_initMarkers","_dragging","_helperLayers","clearLayers","el","_path","_renderer","removeClass","_layerEdited","_radius","outer","_getLatLngOnCircle","_createCenterMarker","_createOuterMarker","_createHintLine","pointA","project","pointB","x","y","unproject","_resizeCircle","_onMarkerDragStart","markerEvent","_onMarkerDragEnd","_fireEdit","markerA","markerB","_origLatLng","enableLayerDrag","disableLayerDrag","preventMarkerRemoval","_removeMarker","_moveMarker","redraw","layerGroup","findLayers","_initLayer","getOptions","availableEvents","event","_fireEvent","fireEvent","_options","dragging","MarkerLimits","_onLayerRemove","_handleSelfIntersectionOnVertexRemoval","cachedColor","isRed","_handleLayerStyle","poly","_markerGroup","_coordsBeforeEdit","flash","window","setTimeout","intersection","handleRing","coordsArr","Array","isArray","ringArr","v","k","nextIndex","isPolygon","_createMiddleMarker","filterMarkerGroup","_onMarkerDrag","leftM","rightM","Utils","calcMiddleLatLng","middleMarker","middleIcon","setIcon","_middleMarkerNext","_middleMarkerPrev","_addMarker","newM","_latlngs","findDeepMarkerIndex","indexPath","parentPath","coordsRing","get","markerArr","c","JSON","parse","stringify","isEmptyDeep","rightMarkerIndex","leftMarkerIndex","undefined","arr","result","run","path","iRes","concat","_leaflet_id","some","returnVal","slice","updatePolygonCoordsFromMarkerDrag","parent","nextMarkerIndex","prevMarkerIndex","markerLatLng","prevMarkerLatLng","nextMarkerLatLng","middleMarkerNextLatLng","middleMarkerPrevLatLng","_onDragEnd","_onPinnedMarkerDragStart","_cornerMarkers","_index","_adjustRectangleForMarkerSnap","draggedMarker","_oppositeCornerLatLng","_adjustRectangleForMarkerMove","_adjustAllMarkers","m","movedMarker","_latlng","movedLatLng","latLngBounds","_adjustAdjacentMarkers","snappedMarker","markerLatLngs","anchorMarker","anchorLatLng","oppositeLatLng","unmarkedCornerIndex","DragMixin","limitMarkersToCount","Map","GlobalEditMode","GlobalDragMode","GlobalRemovalMode","_globalRemovalMode","globalOptions","setLang","lang","t","fallback","translations","merge","activeLang","reinit","removeControls","toggleControls","controlsVisible","isVisible","enableDraw","disableDraw","getGlobalOptions","setGlobalOptions","o","applyGlobalOptions","latlng1","latlng2","p1","p2","_add","_divideBy","Polyline","version","addInitHooks","initMap","optIn","pmIgnore","addInitHook","initLayerGroup","initMarker","initCircleMarker","initPolyline","initPolygon","initRectangle","initCircle","_tempDragCoord","_originalMapDragState","_safeToCacheDragState","_dragMixinOnMouseDown","_dragMixinOnMouseUp","_dragMixinOnMouseMove","bringToFront","_onLayerDrag","originalEvent","button","deltaLatLng","lat","lng","moveCoords","currentLatLng","newCoords","markerCache","createCache","applyLimitFilters","_removeMarkerLimitEvents","allMarkers","s","indexOf","renderLimits","markers","makersNearCursor","_filterClosestMarkers","markersToAdd","limit","sort","distanceA","distanceB","closest","globalDragModeEnabled","_globalDragMode","enableGlobalDragMode","throttledReInitDrag","throttle","reinitGlobalDragMode","_fireDragModeEvent","disableGlobalDragMode","toggleGlobalDragMode","isRelevant","_globalEditMode","globalEditEnabled","setGlobalEditStatus","status","_fireEditModeEvent","enableGlobalEditMode","_globalSnappingEnabled","throttledReInitEdit","handleLayerAdditionInGlobalEditMode","disableGlobalEditMode","toggleGlobalEditMode","disableGlobalRemovalMode","throttledReInitRemoval","_fireRemovalModeEvent","enableGlobalRemovalMode","reinitGlobalRemovalMode","toggleGlobalRemovalMode","globalRemovalEnabled","removeable","_assignEvents","_snapLatLng","_snapList","_handleSnapLayerRemoval","debugIndicatorLines","line","findIndex","throttledList","_createSnapList","altKey","closestLayer","_calcClosestLayer","isMarker","snapLatLng","_checkPrioritiySnapping","minDistance","eventInfo","segment","layerInteractedWith","triggerSnap","a","b","C","distanceAC","_getDistance","distanceBC","closestVertexLatLng","shortestDistance","snapMiddle","M","distanceMC","priorityDistance","snapLatlng","snapIgnore","debugLine","results","_calcLayerDistances","P","latlngs","closestSegment","loopThroughCoords","coord","_getDistanceToSegment","_getClosestPointOnSegment","latlngA","latlngB","maxzoom","getMaxZoom","Infinity","getZoom","LineUtil","closestPointOnSegment","latLngToLayerPoint","pointToSegmentDistance","PMButton","Control","position","_button","onAdd","tool","editContainer","optionsContainer","drawContainer","buttonsDomNode","_makeButton","appendChild","onRemove","getText","text","getIconUrl","iconUrl","destroy","_update","toggleStatus","_applyStyleClasses","toggled","onCreate","_triggerClick","onClick","_clicked","afterClick","buttonContainer","create","newButton","actionContainer","activeActions","actions","cancel","finishMode","removeLastVertex","jsClass","finish","name","action","actionNode","innerHTML","DomEvent","addListener","disableClickPropagation","image","title","setAttribute","disableOtherButtons","triggerClickOnToggledButtons","doToggle","drawMarker","drawRectangle","drawPolyline","drawPolygon","drawCircle","drawCircleMarker","editMode","dragMode","cutPolygon","removalMode","snappingOption","init","_defineButtons","buttons","getButtons","editPolygon","deleteLayer","applyIconStyle","_showHideButtons","iconClasses","geomanIcons","btn","_addButton","exceptThisButton","exceptOptionButtons","disableOthers","drawMarkerButton","drawPolyButton","drawLineButton","drawCircleButton","drawCircleMarkerButton","drawRectButton","editButton","dragButton","cutButton","deleteButton","setPosition","has","flatten","list","reduce","prototype","callback","TypeError","thisArg","arguments","call","element","source","key","hasOwnProperty","item","defineProperty","configurable","enumerable","writable","value","parentNode","removeChild","Element","CharacterData","DocumentType","searchElement","fromIndex","len","n","Math","max","abs","sameValueZero","isNaN"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;AACb,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,sDAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;AACxB;AACiC;AACrB;AACD;;AAEzC;AACA,qCAAqC,uBAAuB;AAC5D;AACA;AACA,WAAW,8BAA8B;AACzC,WAAW,8BAA8B;AACzC,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+DAAO;AACvB,gBAAgB,+DAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,6DAAO;;AAE9B,sBAAsB,8DAAa;AACnC;AACA,yCAAyC,6DAAO;AAChD,WAAW,kEAAY;AACvB;;AAEA;AACA;AACA;AACA;AACA,WAAW,+BAA+B;AAC1C,aAAa,oCAAoC;AACjD;AACA;AACA;AACA;AACA,YAAY,iDAAI;AAChB;AACA;AACA;AACA,QAAQ,8DAAW;AACnB,gBAAgB,iDAAI;AACpB,SAAS;AACT,wCAAwC;AACxC;AACA;;AAEe,yEAAU,EAAC;;;;;;;;;;;;;AC9Eb;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe,eAAe,cAAc;AAChE;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,WAAW;AACtB,WAAW,OAAO,YAAY;AAC9B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY,EAAE,cAAc;AAC1C;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY,EAAE,wBAAwB;AACpD;AACA;AACA,WAAW,qBAAqB;AAChC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB;AACA,WAAW,cAAc;AACzB,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,cAAc,cAAc,EAAE,cAAc;AAC5C;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,iBAAiB;AAC9B;AACA,qFAAqF,gBAAgB;AACrG;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,iDAAiD,2BAA2B;AAC5E;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc,EAAE,wBAAwB;AACtD;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,cAAc,iBAAiB,EAAE,cAAc;AAC/C;AACA;AACA,WAAW,qBAAqB;AAChC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,oBAAoB;AACjC;AACA,oFAAoF,eAAe;AACnG,oFAAoF,eAAe;AACnG;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB,EAAE,wBAAwB;AACzD;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB;AACA,WAAW,cAAc;AACzB,aAAa,8BAA8B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sBAAsB,uBAAuB,gBAAgB,wBAAwB;AACrF;AACA;AACA,WAAW,UAAU;AACrB,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,kBAAkB;AAC/B;AACA,kDAAkD,mBAAmB;AACrE,kDAAkD,mBAAmB;AACrE,kDAAkD,mBAAmB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+BAA+B;AAC7C;AACA;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,yBAAyB;AACtC,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC;AACA;AACA;AACA,WAAW,qBAAqB;AAChC,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,oBAAoB;AACjC,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,sBAAsB;AACnC,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,kCAAkC;AAChD;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO,eAAe;AACjC,WAAW,OAAO,YAAY;AAC9B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA,kCAAkC,6BAA6B;AAC/D,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA,kCAAkC,yBAAyB;AAC3D,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5tBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4DAAe;AACvC,kBAAkB,mBAAO,CAAC,gEAAiB;AAC3C,4BAA4B,mBAAO,CAAC,gGAA2B;AAC/D;AACA,cAAc,sBAAsB,KAAK,iCAAiC;AAC1E;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,WAAW,gCAAgC;AAC3C,WAAW,OAAO,YAAY;AAC9B,WAAW,OAAO,uBAAuB;AACzC,aAAa,aAAa,+DAA+D,cAAc;AACvG,IAAI,mBAAmB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5Ga;AACb,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4DAAe;AACvC;AACA;AACA;AACA;AACA,WAAW,6CAA6C;AACxD,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4BAA4B;AACvC,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,cAAc;AACtD,yBAAyB,kBAAkB;AAC3C;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,wBAAwB;AAChE,yBAAyB,kBAAkB;AAC3C;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B,YAAY,MAAM;AAClB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClNa;AACb,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4DAAe;AACvC;AACA,YAAY,4BAA4B,GAAG,uCAAuC;AAClF,IAAI,iCAAiC,KAAK,sBAAsB;AAChE,YAAY,mBAAmB;AAC/B;AACA;AACA,WAAW,yDAAyD;AACpE,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxIa;;AAEb,8CAA8C,cAAc;;AAE5D,cAAc,mBAAO,CAAC,4DAAe;;AAErC;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA,2BAA2B,aAAa;AACxC,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA;;AAEA,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA,+BAA+B,sBAAsB;AACrD,mCAAmC,sCAAsC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,EAAE;AACf;AACA;AACA,2BAA2B,aAAa;AACxC,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,6BAA6B,WAAW;AACxC,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,6BAA6B,WAAW;AACxC,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,2BAA2B,aAAa;AACxC,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,aAAa,qBAAqB;AAClC;AACA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,6BAA6B,WAAW;AACxC,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;;AAEzB;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,WAAW;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,6BAA6B,WAAW;AACxC,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB;AACA;AACA,6BAA6B,WAAW;AACxC,8CAA8C,eAAe;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,mBAAmB;AACnF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,iDAAiD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,6BAA6B,WAAW;AACxC,8CAA8C,eAAe;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kEAAkE;AAC7E,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,+BAA+B;AACtE;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA,WAAW,kEAAkE;AAC7E,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,OAAO,YAAY;AAC9B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO,uBAAuB;AACzC,WAAW,KAAK,iBAAiB;AACjC,WAAW,cAAc,eAAe;AACxC,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA,gCAAgC,wCAAwC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,OAAO,YAAY;AAC9B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO,uBAAuB;AACzC,WAAW,KAAK,iBAAiB;AACjC,WAAW,cAAc,eAAe;AACxC,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA,8BAA8B,sCAAsC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3mCA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACNA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1BA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACLA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,qDAAY;AAClC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC7BA,oBAAoB,mBAAO,CAAC,iEAA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;;;;;AC7BA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA,+DAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA,kBAAkB,KAA0B;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACbA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjCA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB,OAAO,SAAS;AACjC,yBAAyB,gBAAgB,SAAS,GAAG;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,kBAAkB,EAAE;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,yDAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA,kBAAkB,KAA0B;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7DA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1BA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACxEA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA,YAAY,SAAS,GAAG,SAAS;AACjC;AACA;AACA;AACA,YAAY,SAAS,GAAG,SAAS;AACjC;AACA;AACA;AACA,UAAU,QAAQ,iBAAiB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,KAA4D;AAC9D,EAAE,SACiC;AACnC,CAAC,4BAA4B;;AAE7B,mCAAmC,mCAAmC;;AAEtE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,QAAQ,qBAAqB;;;AAGzD;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA,iCAAiC,gBAAgB;AACjD,mCAAmC,mBAAmB;AACtD,iCAAiC,oBAAoB;AACrD,YAAY,YAAY;AACxB;AACA;;;AAGA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;;AAEA,gCAAgC,gBAAgB;AAChD,kCAAkC,mBAAmB;AACrD,gCAAgC,oBAAoB;AACpD,YAAY,aAAa;AACzB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,uBAAuB;AAClD,yBAAyB,sBAAsB;AAC/C,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,aAAa;AAC3C,4BAA4B,eAAe;AAC3C;AACA,OAAO;AACP;AACA;AACA;;AAEA,iBAAiB;;AAEjB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO,gBAAgB;;AAEpC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa,OAAO,iBAAiB;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,eAAe;;AAE/B;AACA;AACA,OAAO,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO,iBAAiB;;AAErC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa,OAAO,gBAAgB;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,gBAAgB;;AAEhC;AACA;AACA;AACA;AACA;;;AAGA;AACA,oBAAoB,gBAAgB;AACpC,mCAAmC,mBAAmB;AACtD,UAAU,oBAAoB;AAC9B,YAAY,qBAAqB;AACjC;;;AAGA;AACA;;AAEA,YAAY,iBAAiB,YAAY,EAAE;AAC3C;AACA;;;AAGA;AACA;;AAEA,YAAY,kBAAkB,aAAa,EAAE;AAC7C;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC,wCAAwC,aAAa;AACrD,cAAc,YAAY;AAC1B;AACA,KAAK;AACL;AACA;AACA,mCAAmC,aAAa;AAChD,cAAc,YAAY;AAC1B;AACA;;AAEA,SAAS;;AAET,oCAAoC,gBAAgB;AACpD,sCAAsC,aAAa;AACnD,oCAAoC,WAAW;;AAE/C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,yBAAyB,YAAY;AACrC,uBAAuB,UAAU;AACjC;AACA;AACA;;AAEA;AACA;AACA,YAAY,IAAI;AAChB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC,yBAAyB,kBAAkB;AAC3C,yBAAyB,mBAAmB;AAC5C;;AAEA;AACA;;;AAGA;AACA;;AAEA,aAAa,cAAc;;AAE3B;;AAEA,kBAAkB,0BAA0B;AAC5C,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,aAAa,cAAc;;AAE3B;;AAEA,kBAAkB,0BAA0B;AAC5C,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,QAAQ;;AAErB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B,YAAY,gBAAgB;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,yBAAyB,kBAAkB;AAC3C,qBAAqB;AACrB;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4BAA4B;AACzE,OAAO;AACP;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,KAAK;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,iCAAiC;AACnF,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,YAAY,gBAAgB;AAC5B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,mCAAmC;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,OAAO,aAAa;AAC7B;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,IAAI;AAChB,YAAY,IAAI;AAChB,YAAY,SAAS;AACrB,YAAY,GAAG;AACf,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT,mCAAmC,eAAe,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS,OAAO,aAAa;AAC7B;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS,OAAO,aAAa;AAC7B;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA,SAAS,OAAO,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,WAAW;AACvB,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,iDAAiD;AAC5E;AACA,kBAAkB,gDAAgD;AAClE;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAe,iBAAiB;AAChC,aAAa,aAAa;AAC1B;;;AAGA;AACA;AACA,eAAe,iBAAiB;AAChC,aAAa,aAAa;AAC1B;;AAEA,qDAAqD,4BAA4B;AACjF,6CAA6C,mBAAmB;;;AAGhE;AACA;AACA,YAAY,WAAW;AACvB,YAAY,cAAc;;AAE1B,YAAY,UAAU;AACtB,YAAY,SAAS;AACrB;AACA;AACA,YAAY,SAAS;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,wBAAwB,QAAQ;;AAEhC;AACA;AACA;;AAEA;AACA,UAAU,KAAK,EAAE;AACjB,UAAU,KAAK,EAAE;AACjB,mBAAmB,OAAO;;AAE1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc,WAAW;AACzB,cAAc,WAAW;AACzB,cAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;;AAGA;AACA,YAAY,eAAe;AAC3B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,YAAY,eAAe;AAC3B,cAAc;AACd;AACA;AACA;AACA;;;AAGA;AACA,cAAc;AACd;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,eAAe;AAC7B,cAAc,eAAe;AAC7B,cAAc,eAAe;AAC7B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc,WAAW;AACzB,cAAc,WAAW;AACzB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,UAAU;AAClC,wBAAwB,WAAW;;AAEnC;AACA;AACA,0BAA0B,+BAA+B;;AAEzD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO,yBAAyB;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc,WAAW;AACzB,cAAc,eAAe;AAC7B,cAAc,MAAM;AACpB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,aAAa,eAAe;AAC5B,aAAa,eAAe;AAC5B,aAAa,eAAe;AAC5B,aAAa,SAAS;AACtB;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wDAAwD,aAAa;;AAErE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,WAAW;AACzB,cAAc,WAAW;AACzB,cAAc,MAAM;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,UAAU,EAAE;;AAE3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,WAAW;AACzB,cAAc,WAAW;AACzB,cAAc;AACd;AACA;AACA,sBAAsB,UAAU;;AAEhC;AACA;AACA;;AAEA;AACA,yCAAyC,mDAAmD;;AAE5F;AACA,0CAA0C,6CAA6C;;AAEvF;AACA;AACA,0CAA0C,wCAAwC;;AAElF;AACA;AACA;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA,kCAAkC;AAClC,iDAAiD,UAAU;AAC3D,cAAc,+CAA+C;AAC7D;AACA,KAAK,OAAO;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B,6BAA6B;AAC1D,6BAA6B,aAAa;;AAE1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,qCAAqC;AAC1E,qCAAqC,iBAAiB;;AAEtD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,+BAA+B,6BAA6B;AAC5D,+BAA+B,aAAa;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,mBAAmB;AACjC,cAAc;AACd;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,0CAA0C,SAAS;AACnD;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,cAAc,OAAO;AACrB,cAAc,mBAAmB;AACjC,cAAc,QAAQ;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,cAAc,mBAAmB;AACjC,cAAc,UAAU;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD,yBAAyB,UAAU;AACnC;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,qCAAqC;;AAE9E;AACA;AACA;;AAEA;AACA,8CAA8C,QAAQ,OAAO,iBAAiB;AAC9E;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,kCAAkC,kBAAkB;;AAEpD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA6C,OAAO;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,iDAAiD;;AAEjD,oCAAoC,QAAQ;AAC5C;AACA,yCAAyC,QAAQ;AACjD;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;;AAEA,qCAAqC,QAAQ;AAC7C;AACA,yCAAyC,QAAQ;AACjD;AACA,uCAAuC,wBAAwB;AAC/D,6BAA6B,aAAa;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;A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","file":"leaflet-geoman.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n// Note: change RADIUS => earthRadius\nvar RADIUS = 6378137;\n/**\n * Takes one or more features and returns their area in square meters.\n *\n * @name area\n * @param {GeoJSON} geojson input GeoJSON feature(s)\n * @returns {number} area in square meters\n * @example\n * var polygon = turf.polygon([[[125, -15], [113, -22], [154, -27], [144, -15], [125, -15]]]);\n *\n * var area = turf.area(polygon);\n *\n * //addToMap\n * var addToMap = [polygon]\n * polygon.properties.area = area\n */\nfunction area(geojson) {\n    return meta_1.geomReduce(geojson, function (value, geom) {\n        return value + calculateArea(geom);\n    }, 0);\n}\nexports.default = area;\n/**\n * Calculate Area\n *\n * @private\n * @param {Geometry} geom GeoJSON Geometries\n * @returns {number} area\n */\nfunction calculateArea(geom) {\n    var total = 0;\n    var i;\n    switch (geom.type) {\n        case \"Polygon\":\n            return polygonArea(geom.coordinates);\n        case \"MultiPolygon\":\n            for (i = 0; i < geom.coordinates.length; i++) {\n                total += polygonArea(geom.coordinates[i]);\n            }\n            return total;\n        case \"Point\":\n        case \"MultiPoint\":\n        case \"LineString\":\n        case \"MultiLineString\":\n            return 0;\n    }\n    return 0;\n}\nfunction polygonArea(coords) {\n    var total = 0;\n    if (coords && coords.length > 0) {\n        total += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            total -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return total;\n}\n/**\n * @private\n * Calculate the approximate area of the polygon were it projected onto the earth.\n * Note that this area will be positive if ring is oriented clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for Polygons on a Sphere\",\n * JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * @param {Array<Array<number>>} coords Ring Coordinates\n * @returns {number} The approximate signed geodesic area of the polygon in square meters.\n */\nfunction ringArea(coords) {\n    var p1;\n    var p2;\n    var p3;\n    var lowerIndex;\n    var middleIndex;\n    var upperIndex;\n    var i;\n    var total = 0;\n    var coordsLength = coords.length;\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) {\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength - 1;\n                upperIndex = 0;\n            }\n            else if (i === coordsLength - 1) {\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            }\n            else {\n                lowerIndex = i;\n                middleIndex = i + 1;\n                upperIndex = i + 2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            total += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\n        }\n        total = total * RADIUS * RADIUS / 2;\n    }\n    return total;\n}\nfunction rad(num) {\n    return num * Math.PI / 180;\n}\n","import * as martinez from 'martinez-polygon-clipping';\r\nimport area from '@turf/area';\r\nimport { feature, multiPolygon, polygon } from '@turf/helpers';\r\nimport { getGeom } from '@turf/invariant';\r\nimport { flattenEach } from '@turf/meta';\r\n\r\n/**\r\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\r\n *\r\n * @name difference\r\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\r\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\r\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\r\n * @example\r\n * var polygon1 = turf.polygon([[\r\n *   [128, -26],\r\n *   [141, -26],\r\n *   [141, -21],\r\n *   [128, -21],\r\n *   [128, -26]\r\n * ]], {\r\n *   \"fill\": \"#F00\",\r\n *   \"fill-opacity\": 0.1\r\n * });\r\n * var polygon2 = turf.polygon([[\r\n *   [126, -28],\r\n *   [140, -28],\r\n *   [140, -20],\r\n *   [126, -20],\r\n *   [126, -28]\r\n * ]], {\r\n *   \"fill\": \"#00F\",\r\n *   \"fill-opacity\": 0.1\r\n * });\r\n *\r\n * var difference = turf.difference(polygon1, polygon2);\r\n *\r\n * //addToMap\r\n * var addToMap = [polygon1, polygon2, difference];\r\n */\r\nfunction difference(polygon1, polygon2) {\r\n    var geom1 = getGeom(polygon1);\r\n    var geom2 = getGeom(polygon2);\r\n    var properties = polygon1.properties || {};\r\n\r\n    // Issue #721 - JSTS/Martinez can't handle empty polygons\r\n    geom1 = removeEmptyPolygon(geom1);\r\n    geom2 = removeEmptyPolygon(geom2);\r\n    if (!geom1) return null;\r\n    if (!geom2) return feature(geom1, properties);\r\n\r\n    var differenced = martinez.diff(geom1.coordinates, geom2.coordinates);\r\n    if (differenced.length === 0) return null;\r\n    if (differenced.length === 1) return polygon(differenced[0], properties);\r\n    return multiPolygon(differenced, properties);\r\n}\r\n\r\n/**\r\n * Detect Empty Polygon\r\n *\r\n * @private\r\n * @param {Geometry<Polygon|MultiPolygon>} geom Geometry Object\r\n * @returns {Geometry<Polygon|MultiPolygon>|null} removed any polygons with no areas\r\n */\r\nfunction removeEmptyPolygon(geom) {\r\n    switch (geom.type) {\r\n    case 'Polygon':\r\n        if (area(geom) > 1) return geom;\r\n        return null;\r\n    case 'MultiPolygon':\r\n        var coordinates = [];\r\n        flattenEach(geom, function (feature) {\r\n            if (area(feature) > 1) coordinates.push(feature.geometry.coordinates);\r\n        });\r\n        if (coordinates.length) return {type: 'MultiPolygon', coordinates: coordinates};\r\n    }\r\n}\r\n\r\nexport default difference;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.370,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius / 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.370,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1 / 1.0936,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, options) {\n    if (options === void 0) { options = {}; }\n    switch (type) {\n        case \"Point\": return point(coordinates).geometry;\n        case \"LineString\": return lineString(coordinates).geometry;\n        case \"Polygon\": return polygon(coordinates).geometry;\n        case \"MultiPoint\": return multiPoint(coordinates).geometry;\n        case \"MultiLineString\": return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\": return multiPolygon(coordinates).geometry;\n        default: throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return degrees * 180 / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return radians * Math.PI / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted distance\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num) && !/^\\s*$/.test(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return (!!input) && (input.constructor === Object);\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n// Deprecated methods\nfunction radians2degrees() {\n    throw new Error(\"method has been renamed to `radiansToDegrees`\");\n}\nexports.radians2degrees = radians2degrees;\nfunction degrees2radians() {\n    throw new Error(\"method has been renamed to `degreesToRadians`\");\n}\nexports.degrees2radians = degrees2radians;\nfunction distanceToDegrees() {\n    throw new Error(\"method has been renamed to `lengthToDegrees`\");\n}\nexports.distanceToDegrees = distanceToDegrees;\nfunction distanceToRadians() {\n    throw new Error(\"method has been renamed to `lengthToRadians`\");\n}\nexports.distanceToRadians = distanceToRadians;\nfunction radiansToDistance() {\n    throw new Error(\"method has been renamed to `radiansToLength`\");\n}\nexports.radiansToDistance = radiansToDistance;\nfunction bearingToAngle() {\n    throw new Error(\"method has been renamed to `bearingToAzimuth`\");\n}\nexports.bearingToAngle = bearingToAngle;\nfunction convertDistance() {\n    throw new Error(\"method has been renamed to `convertLength`\");\n}\nexports.convertDistance = convertDistance;\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar helpers_1 = require(\"@turf/helpers\");\r\nvar invariant_1 = require(\"@turf/invariant\");\r\nvar martinez = __importStar(require(\"martinez-polygon-clipping\"));\r\n/**\r\n * Takes two {@link Polygon|polygon} or {@link MultiPolygon|multi-polygon} geometries and\r\n * finds their polygonal intersection. If they don't intersect, returns null.\r\n *\r\n * @name intersect\r\n * @param {Feature<Polygon | MultiPolygon>} poly1 the first polygon or multipolygon\r\n * @param {Feature<Polygon | MultiPolygon>} poly2 the second polygon or multipolygon\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Feature\r\n * @returns {Feature|null} returns a feature representing the area they share (either a {@link Polygon} or\r\n * {@link MultiPolygon}). If they do not share any area, returns `null`.\r\n * @example\r\n * var poly1 = turf.polygon([[\r\n *   [-122.801742, 45.48565],\r\n *   [-122.801742, 45.60491],\r\n *   [-122.584762, 45.60491],\r\n *   [-122.584762, 45.48565],\r\n *   [-122.801742, 45.48565]\r\n * ]]);\r\n *\r\n * var poly2 = turf.polygon([[\r\n *   [-122.520217, 45.535693],\r\n *   [-122.64038, 45.553967],\r\n *   [-122.720031, 45.526554],\r\n *   [-122.669906, 45.507309],\r\n *   [-122.723464, 45.446643],\r\n *   [-122.532577, 45.408574],\r\n *   [-122.487258, 45.477466],\r\n *   [-122.520217, 45.535693]\r\n * ]]);\r\n *\r\n * var intersection = turf.intersect(poly1, poly2);\r\n *\r\n * //addToMap\r\n * var addToMap = [poly1, poly2, intersection];\r\n */\r\nfunction intersect(poly1, poly2, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var geom1 = invariant_1.getGeom(poly1);\r\n    var geom2 = invariant_1.getGeom(poly2);\r\n    if (geom1.type === \"Polygon\" && geom2.type === \"Polygon\") {\r\n        var intersection = martinez.intersection(geom1.coordinates, geom2.coordinates);\r\n        if (intersection === null || intersection.length === 0) {\r\n            return null;\r\n        }\r\n        if (intersection.length === 1) {\r\n            var start = intersection[0][0][0];\r\n            var end = intersection[0][0][intersection[0][0].length - 1];\r\n            if (start[0] === end[0] && start[1] === end[1]) {\r\n                return helpers_1.polygon(intersection[0], options.properties);\r\n            }\r\n            return null;\r\n        }\r\n        return helpers_1.multiPolygon(intersection, options.properties);\r\n    }\r\n    else if (geom1.type === \"MultiPolygon\") {\r\n        var resultCoords = [];\r\n        // iterate through the polygon and run intersect with each part, adding to the resultCoords.\r\n        for (var _i = 0, _a = geom1.coordinates; _i < _a.length; _i++) {\r\n            var coords = _a[_i];\r\n            var subGeom = invariant_1.getGeom(helpers_1.polygon(coords));\r\n            var subIntersection = intersect(subGeom, geom2);\r\n            if (subIntersection) {\r\n                var subIntGeom = invariant_1.getGeom(subIntersection);\r\n                if (subIntGeom.type === \"Polygon\") {\r\n                    resultCoords.push(subIntGeom.coordinates);\r\n                }\r\n                else if (subIntGeom.type === \"MultiPolygon\") {\r\n                    resultCoords = resultCoords.concat(subIntGeom.coordinates);\r\n                }\r\n                else {\r\n                    throw new Error(\"intersection is invalid\");\r\n                }\r\n            }\r\n        }\r\n        // Make a polygon with the result\r\n        if (resultCoords.length === 0) {\r\n            return null;\r\n        }\r\n        if (resultCoords.length === 1) {\r\n            return helpers_1.polygon(resultCoords[0], options.properties);\r\n        }\r\n        else {\r\n            return helpers_1.multiPolygon(resultCoords, options.properties);\r\n        }\r\n    }\r\n    else if (geom2.type === \"MultiPolygon\") {\r\n        // geom1 is a polygon and geom2 a multiPolygon,\r\n        // put the multiPolygon first and fallback to the previous case.\r\n        return intersect(geom2, geom1);\r\n    }\r\n    else {\r\n        // handle invalid geometry types\r\n        throw new Error(\"poly1 and poly2 must be either polygons or multiPolygons\");\r\n    }\r\n}\r\nexports.default = intersect;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar helpers_1 = require(\"@turf/helpers\");\r\n/**\r\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\r\n *\r\n * @name getCoord\r\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\r\n * @returns {Array<number>} coordinates\r\n * @example\r\n * var pt = turf.point([10, 10]);\r\n *\r\n * var coord = turf.getCoord(pt);\r\n * //= [10, 10]\r\n */\r\nfunction getCoord(coord) {\r\n    if (!coord) {\r\n        throw new Error(\"coord is required\");\r\n    }\r\n    if (!Array.isArray(coord)) {\r\n        if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\r\n            return coord.geometry.coordinates;\r\n        }\r\n        if (coord.type === \"Point\") {\r\n            return coord.coordinates;\r\n        }\r\n    }\r\n    if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\r\n        return coord;\r\n    }\r\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\r\n}\r\nexports.getCoord = getCoord;\r\n/**\r\n * Unwrap coordinates from a Feature, Geometry Object or an Array\r\n *\r\n * @name getCoords\r\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\r\n * @returns {Array<any>} coordinates\r\n * @example\r\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\r\n *\r\n * var coords = turf.getCoords(poly);\r\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\r\n */\r\nfunction getCoords(coords) {\r\n    if (Array.isArray(coords)) {\r\n        return coords;\r\n    }\r\n    // Feature\r\n    if (coords.type === \"Feature\") {\r\n        if (coords.geometry !== null) {\r\n            return coords.geometry.coordinates;\r\n        }\r\n    }\r\n    else {\r\n        // Geometry\r\n        if (coords.coordinates) {\r\n            return coords.coordinates;\r\n        }\r\n    }\r\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\r\n}\r\nexports.getCoords = getCoords;\r\n/**\r\n * Checks if coordinates contains a number\r\n *\r\n * @name containsNumber\r\n * @param {Array<any>} coordinates GeoJSON Coordinates\r\n * @returns {boolean} true if Array contains a number\r\n */\r\nfunction containsNumber(coordinates) {\r\n    if (coordinates.length > 1 && helpers_1.isNumber(coordinates[0]) && helpers_1.isNumber(coordinates[1])) {\r\n        return true;\r\n    }\r\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\r\n        return containsNumber(coordinates[0]);\r\n    }\r\n    throw new Error(\"coordinates must only contain numbers\");\r\n}\r\nexports.containsNumber = containsNumber;\r\n/**\r\n * Enforce expectations about types of GeoJSON objects for Turf.\r\n *\r\n * @name geojsonType\r\n * @param {GeoJSON} value any GeoJSON object\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} if value is not the expected type.\r\n */\r\nfunction geojsonType(value, type, name) {\r\n    if (!type || !name) {\r\n        throw new Error(\"type and name required\");\r\n    }\r\n    if (!value || value.type !== type) {\r\n        throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type);\r\n    }\r\n}\r\nexports.geojsonType = geojsonType;\r\n/**\r\n * Enforce expectations about types of {@link Feature} inputs for Turf.\r\n * Internally this uses {@link geojsonType} to judge geometry types.\r\n *\r\n * @name featureOf\r\n * @param {Feature} feature a feature with an expected geometry type\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} error if value is not the expected type.\r\n */\r\nfunction featureOf(feature, type, name) {\r\n    if (!feature) {\r\n        throw new Error(\"No feature passed\");\r\n    }\r\n    if (!name) {\r\n        throw new Error(\".featureOf() requires a name\");\r\n    }\r\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\r\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\r\n    }\r\n    if (!feature.geometry || feature.geometry.type !== type) {\r\n        throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type);\r\n    }\r\n}\r\nexports.featureOf = featureOf;\r\n/**\r\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\r\n * Internally this uses {@link geojsonType} to judge geometry types.\r\n *\r\n * @name collectionOf\r\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} if value is not the expected type.\r\n */\r\nfunction collectionOf(featureCollection, type, name) {\r\n    if (!featureCollection) {\r\n        throw new Error(\"No featureCollection passed\");\r\n    }\r\n    if (!name) {\r\n        throw new Error(\".collectionOf() requires a name\");\r\n    }\r\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\r\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\r\n    }\r\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\r\n        var feature = _a[_i];\r\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\r\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\r\n        }\r\n        if (!feature.geometry || feature.geometry.type !== type) {\r\n            throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type);\r\n        }\r\n    }\r\n}\r\nexports.collectionOf = collectionOf;\r\n/**\r\n * Get Geometry from Feature or Geometry Object\r\n *\r\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\r\n * @returns {Geometry|null} GeoJSON Geometry Object\r\n * @throws {Error} if geojson is not a Feature or Geometry Object\r\n * @example\r\n * var point = {\r\n *   \"type\": \"Feature\",\r\n *   \"properties\": {},\r\n *   \"geometry\": {\r\n *     \"type\": \"Point\",\r\n *     \"coordinates\": [110, 40]\r\n *   }\r\n * }\r\n * var geom = turf.getGeom(point)\r\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\r\n */\r\nfunction getGeom(geojson) {\r\n    if (geojson.type === \"Feature\") {\r\n        return geojson.geometry;\r\n    }\r\n    return geojson;\r\n}\r\nexports.getGeom = getGeom;\r\n/**\r\n * Get GeoJSON object's type, Geometry type is prioritize.\r\n *\r\n * @param {GeoJSON} geojson GeoJSON object\r\n * @param {string} [name=\"geojson\"] name of the variable to display in error message\r\n * @returns {string} GeoJSON type\r\n * @example\r\n * var point = {\r\n *   \"type\": \"Feature\",\r\n *   \"properties\": {},\r\n *   \"geometry\": {\r\n *     \"type\": \"Point\",\r\n *     \"coordinates\": [110, 40]\r\n *   }\r\n * }\r\n * var geom = turf.getType(point)\r\n * //=\"Point\"\r\n */\r\nfunction getType(geojson, name) {\r\n    if (geojson.type === \"FeatureCollection\") {\r\n        return \"FeatureCollection\";\r\n    }\r\n    if (geojson.type === \"GeometryCollection\") {\r\n        return \"GeometryCollection\";\r\n    }\r\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\r\n        return geojson.geometry.type;\r\n    }\r\n    return geojson.type;\r\n}\r\nexports.getType = getType;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\n/**\n * Takes a {@link LineString|linestring}, {@link MultiLineString|multi-linestring},\n * {@link MultiPolygon|multi-polygon} or {@link Polygon|polygon} and\n * returns {@link Point|points} at all self-intersections.\n *\n * @name kinks\n * @param {Feature<LineString|MultiLineString|MultiPolygon|Polygon>} featureIn input feature\n * @returns {FeatureCollection<Point>} self-intersections\n * @example\n * var poly = turf.polygon([[\n *   [-12.034835, 8.901183],\n *   [-12.060413, 8.899826],\n *   [-12.03638, 8.873199],\n *   [-12.059383, 8.871418],\n *   [-12.034835, 8.901183]\n * ]]);\n *\n * var kinks = turf.kinks(poly);\n *\n * //addToMap\n * var addToMap = [poly, kinks]\n */\nfunction kinks(featureIn) {\n    var coordinates;\n    var feature;\n    var results = {\n        type: \"FeatureCollection\",\n        features: [],\n    };\n    if (featureIn.type === \"Feature\") {\n        feature = featureIn.geometry;\n    }\n    else {\n        feature = featureIn;\n    }\n    if (feature.type === \"LineString\") {\n        coordinates = [feature.coordinates];\n    }\n    else if (feature.type === \"MultiLineString\") {\n        coordinates = feature.coordinates;\n    }\n    else if (feature.type === \"MultiPolygon\") {\n        coordinates = [].concat.apply([], feature.coordinates);\n    }\n    else if (feature.type === \"Polygon\") {\n        coordinates = feature.coordinates;\n    }\n    else {\n        throw new Error(\"Input must be a LineString, MultiLineString, \" +\n            \"Polygon, or MultiPolygon Feature or Geometry\");\n    }\n    coordinates.forEach(function (line1) {\n        coordinates.forEach(function (line2) {\n            for (var i = 0; i < line1.length - 1; i++) {\n                // start iteration at i, intersections for k < i have already\n                // been checked in previous outer loop iterations\n                for (var k = i; k < line2.length - 1; k++) {\n                    if (line1 === line2) {\n                        // segments are adjacent and always share a vertex, not a kink\n                        if (Math.abs(i - k) === 1) {\n                            continue;\n                        }\n                        // first and last segment in a closed lineString or ring always share a vertex, not a kink\n                        if (\n                        // segments are first and last segment of lineString\n                        i === 0 &&\n                            k === line1.length - 2 &&\n                            // lineString is closed\n                            line1[i][0] === line1[line1.length - 1][0] &&\n                            line1[i][1] === line1[line1.length - 1][1]) {\n                            continue;\n                        }\n                    }\n                    var intersection = lineIntersects(line1[i][0], line1[i][1], line1[i + 1][0], line1[i + 1][1], line2[k][0], line2[k][1], line2[k + 1][0], line2[k + 1][1]);\n                    if (intersection) {\n                        results.features.push(helpers_1.point([intersection[0], intersection[1]]));\n                    }\n                }\n            }\n        });\n    });\n    return results;\n}\nexports.default = kinks;\n// modified from http://jsfiddle.net/justin_c_rounds/Gd2S2/light/\nfunction lineIntersects(line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\n    // if the lines intersect, the result contains the x and y of the\n    // intersection (treating the lines as infinite) and booleans for whether\n    // line segment 1 or line segment 2 contain the point\n    var denominator;\n    var a;\n    var b;\n    var numerator1;\n    var numerator2;\n    var result = {\n        x: null,\n        y: null,\n        onLine1: false,\n        onLine2: false,\n    };\n    denominator = ((line2EndY - line2StartY) * (line1EndX - line1StartX)) - ((line2EndX - line2StartX) * (line1EndY - line1StartY));\n    if (denominator === 0) {\n        if (result.x !== null && result.y !== null) {\n            return result;\n        }\n        else {\n            return false;\n        }\n    }\n    a = line1StartY - line2StartY;\n    b = line1StartX - line2StartX;\n    numerator1 = ((line2EndX - line2StartX) * a) - ((line2EndY - line2StartY) * b);\n    numerator2 = ((line1EndX - line1StartX) * a) - ((line1EndY - line1StartY) * b);\n    a = numerator1 / denominator;\n    b = numerator2 / denominator;\n    // if we cast these lines infinitely in both directions, they intersect here:\n    result.x = line1StartX + (a * (line1EndX - line1StartX));\n    result.y = line1StartY + (a * (line1EndY - line1StartY));\n    // if line1 is a segment and line2 is infinite, they intersect if:\n    if (a >= 0 && a <= 1) {\n        result.onLine1 = true;\n    }\n    // if line2 is a segment and line1 is infinite, they intersect if:\n    if (b >= 0 && b <= 1) {\n        result.onLine2 = true;\n    }\n    // if line1 and line2 are segments, they intersect if both of the above are true\n    if (result.onLine1 && result.onLine2) {\n        return [result.x, result.y];\n    }\n    else {\n        return false;\n    }\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar helpers = require('@turf/helpers');\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n    // Handles null Geometry -- Skips this GeoJSON\n    if (geojson === null) return;\n    var j, k, l, geometry, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        coordIndex = 0,\n        isGeometryCollection,\n        type = geojson.type,\n        isFeatureCollection = type === 'FeatureCollection',\n        isFeature = type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n            var multiFeatureIndex = 0;\n            var geometryIndex = 0;\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n\n            // Handles null Geometry -- Skips this geometry\n            if (geometry === null) continue;\n            coords = geometry.coordinates;\n            var geomType = geometry.type;\n\n            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\n\n            switch (geomType) {\n            case null:\n                break;\n            case 'Point':\n                if (callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;\n                coordIndex++;\n                multiFeatureIndex++;\n                break;\n            case 'LineString':\n            case 'MultiPoint':\n                for (j = 0; j < coords.length; j++) {\n                    if (callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;\n                    coordIndex++;\n                    if (geomType === 'MultiPoint') multiFeatureIndex++;\n                }\n                if (geomType === 'LineString') multiFeatureIndex++;\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        if (callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;\n                        coordIndex++;\n                    }\n                    if (geomType === 'MultiLineString') multiFeatureIndex++;\n                    if (geomType === 'Polygon') geometryIndex++;\n                }\n                if (geomType === 'Polygon') multiFeatureIndex++;\n                break;\n            case 'MultiPolygon':\n                for (j = 0; j < coords.length; j++) {\n                    geometryIndex = 0;\n                    for (k = 0; k < coords[j].length; k++) {\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            if (callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;\n                            coordIndex++;\n                        }\n                        geometryIndex++;\n                    }\n                    multiFeatureIndex++;\n                }\n                break;\n            case 'GeometryCollection':\n                for (j = 0; j < geometry.geometries.length; j++)\n                    if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false) return false;\n                break;\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(geojson, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;\n        else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n    }, excludeWrapCoord);\n    return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n    var i;\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < geojson.features.length; i++) {\n            if (callback(geojson.features[i].properties, i) === false) break;\n        }\n        break;\n    case 'Feature':\n        callback(geojson.properties, 0);\n        break;\n    }\n}\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(geojson, function (currentProperties, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;\n        else previousValue = callback(previousValue, currentProperties, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n    if (geojson.type === 'Feature') {\n        callback(geojson, 0);\n    } else if (geojson.type === 'FeatureCollection') {\n        for (var i = 0; i < geojson.features.length; i++) {\n            if (callback(geojson.features[i], i) === false) break;\n        }\n    }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(geojson, function (currentFeature, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n    var coords = [];\n    coordEach(geojson, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n    var i, j, g, geometry, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        featureProperties,\n        featureBBox,\n        featureId,\n        featureIndex = 0,\n        isFeatureCollection = geojson.type === 'FeatureCollection',\n        isFeature = geojson.type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        featureProperties = (isFeatureCollection ? geojson.features[i].properties :\n            (isFeature ? geojson.properties : {}));\n        featureBBox = (isFeatureCollection ? geojson.features[i].bbox :\n            (isFeature ? geojson.bbox : undefined));\n        featureId = (isFeatureCollection ? geojson.features[i].id :\n            (isFeature ? geojson.id : undefined));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            // Handle null Geometry\n            if (geometry === null) {\n                if (callback(null, featureIndex, featureProperties, featureBBox, featureId) === false) return false;\n                continue;\n            }\n            switch (geometry.type) {\n            case 'Point':\n            case 'LineString':\n            case 'MultiPoint':\n            case 'Polygon':\n            case 'MultiLineString':\n            case 'MultiPolygon': {\n                if (callback(geometry, featureIndex, featureProperties, featureBBox, featureId) === false) return false;\n                break;\n            }\n            case 'GeometryCollection': {\n                for (j = 0; j < geometry.geometries.length; j++) {\n                    if (callback(geometry.geometries[j], featureIndex, featureProperties, featureBBox, featureId) === false) return false;\n                }\n                break;\n            }\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n        // Only increase `featureIndex` per each feature\n        featureIndex++;\n    }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(geojson, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentGeometry;\n        else previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n    geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n        // Callback for single geometry\n        var type = (geometry === null) ? null : geometry.type;\n        switch (type) {\n        case null:\n        case 'Point':\n        case 'LineString':\n        case 'Polygon':\n            if (callback(helpers.feature(geometry, properties, {bbox: bbox, id: id}), featureIndex, 0) === false) return false;\n            return;\n        }\n\n        var geomType;\n\n        // Callback for multi-geometry\n        switch (type) {\n        case 'MultiPoint':\n            geomType = 'Point';\n            break;\n        case 'MultiLineString':\n            geomType = 'LineString';\n            break;\n        case 'MultiPolygon':\n            geomType = 'Polygon';\n            break;\n        }\n\n        for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n            var coordinate = geometry.coordinates[multiFeatureIndex];\n            var geom = {\n                type: geomType,\n                coordinates: coordinate\n            };\n            if (callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) === false) return false;\n        }\n    });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    flattenEach(geojson, function (currentFeature, featureIndex, multiFeatureIndex) {\n        if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n    flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n        var segmentIndex = 0;\n\n        // Exclude null Geometries\n        if (!feature.geometry) return;\n        // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n        var type = feature.geometry.type;\n        if (type === 'Point' || type === 'MultiPoint') return;\n\n        // Generate 2-vertex line segments\n        var previousCoords;\n        var previousFeatureIndex = 0;\n        var previousMultiIndex = 0;\n        var prevGeomIndex = 0;\n        if (coordEach(feature, function (currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n            // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n            if (previousCoords === undefined || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n                previousCoords = currentCoord;\n                previousFeatureIndex = featureIndex;\n                previousMultiIndex = multiPartIndexCoord;\n                prevGeomIndex = geometryIndex;\n                segmentIndex = 0;\n                return;\n            }\n            var currentSegment = helpers.lineString([previousCoords, currentCoord], feature.properties);\n            if (callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) === false) return false;\n            segmentIndex++;\n            previousCoords = currentCoord;\n        }) === false) return false;\n    });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentInex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    var started = false;\n    segmentEach(geojson, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n        if (started === false && initialValue === undefined) previousValue = currentSegment;\n        else previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\n        started = true;\n    });\n    return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n    // validation\n    if (!geojson) throw new Error('geojson is required');\n\n    flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n        if (feature.geometry === null) return;\n        var type = feature.geometry.type;\n        var coords = feature.geometry.coordinates;\n        switch (type) {\n        case 'LineString':\n            if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false) return false;\n            break;\n        case 'Polygon':\n            for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n                if (callback(helpers.lineString(coords[geometryIndex], feature.properties), featureIndex, multiFeatureIndex, geometryIndex) === false) return false;\n            }\n            break;\n        }\n    });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    lineEach(geojson, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentLine;\n        else previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!helpers.isObject(options)) throw new Error('options is invalid');\n    var featureIndex = options.featureIndex || 0;\n    var multiFeatureIndex = options.multiFeatureIndex || 0;\n    var geometryIndex = options.geometryIndex || 0;\n    var segmentIndex = options.segmentIndex || 0;\n\n    // Find FeatureIndex\n    var properties = options.properties;\n    var geometry;\n\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        if (featureIndex < 0) featureIndex = geojson.features.length + featureIndex;\n        properties = properties || geojson.features[featureIndex].properties;\n        geometry = geojson.features[featureIndex].geometry;\n        break;\n    case 'Feature':\n        properties = properties || geojson.properties;\n        geometry = geojson.geometry;\n        break;\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n    case 'Polygon':\n    case 'MultiLineString':\n    case 'MultiPolygon':\n        geometry = geojson;\n        break;\n    default:\n        throw new Error('geojson is invalid');\n    }\n\n    // Find SegmentIndex\n    if (geometry === null) return null;\n    var coords = geometry.coordinates;\n    switch (geometry.type) {\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n        if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n        return helpers.lineString([coords[segmentIndex], coords[segmentIndex + 1]], properties, options);\n    case 'Polygon':\n        if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n        if (segmentIndex < 0) segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n        return helpers.lineString([coords[geometryIndex][segmentIndex], coords[geometryIndex][segmentIndex + 1]], properties, options);\n    case 'MultiLineString':\n        if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;\n        if (segmentIndex < 0) segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n        return helpers.lineString([coords[multiFeatureIndex][segmentIndex], coords[multiFeatureIndex][segmentIndex + 1]], properties, options);\n    case 'MultiPolygon':\n        if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;\n        if (geometryIndex < 0) geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n        if (segmentIndex < 0) segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n        return helpers.lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex], coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]], properties, options);\n    }\n    throw new Error('geojson is invalid');\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!helpers.isObject(options)) throw new Error('options is invalid');\n    var featureIndex = options.featureIndex || 0;\n    var multiFeatureIndex = options.multiFeatureIndex || 0;\n    var geometryIndex = options.geometryIndex || 0;\n    var coordIndex = options.coordIndex || 0;\n\n    // Find FeatureIndex\n    var properties = options.properties;\n    var geometry;\n\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        if (featureIndex < 0) featureIndex = geojson.features.length + featureIndex;\n        properties = properties || geojson.features[featureIndex].properties;\n        geometry = geojson.features[featureIndex].geometry;\n        break;\n    case 'Feature':\n        properties = properties || geojson.properties;\n        geometry = geojson.geometry;\n        break;\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n    case 'Polygon':\n    case 'MultiLineString':\n    case 'MultiPolygon':\n        geometry = geojson;\n        break;\n    default:\n        throw new Error('geojson is invalid');\n    }\n\n    // Find Coord Index\n    if (geometry === null) return null;\n    var coords = geometry.coordinates;\n    switch (geometry.type) {\n    case 'Point':\n        return helpers.point(coords, properties, options);\n    case 'MultiPoint':\n        if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;\n        return helpers.point(coords[multiFeatureIndex], properties, options);\n    case 'LineString':\n        if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n        return helpers.point(coords[coordIndex], properties, options);\n    case 'Polygon':\n        if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n        if (coordIndex < 0) coordIndex = coords[geometryIndex].length + coordIndex;\n        return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case 'MultiLineString':\n        if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;\n        if (coordIndex < 0) coordIndex = coords[multiFeatureIndex].length + coordIndex;\n        return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case 'MultiPolygon':\n        if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;\n        if (geometryIndex < 0) geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n        if (coordIndex < 0) coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n        return helpers.point(coords[multiFeatureIndex][geometryIndex][coordIndex], properties, options);\n    }\n    throw new Error('geojson is invalid');\n}\n\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.coordAll = coordAll;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.findSegment = findSegment;\nexports.findPoint = findPoint;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/**\n * martinez v0.4.3\n * Martinez polygon clipping algorithm, does boolean operation on polygons (multipolygons, polygons with holes etc): intersection, union, difference, xor\n *\n * @author Alex Milevski <info@w8r.name>\n * @license MIT\n * @preserve\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.martinez = {})));\n}(this, (function (exports) { 'use strict';\n\n  function DEFAULT_COMPARE (a, b) { return a > b ? 1 : a < b ? -1 : 0; }\n\n  var SplayTree = function SplayTree(compare, noDuplicates) {\n    if ( compare === void 0 ) compare = DEFAULT_COMPARE;\n    if ( noDuplicates === void 0 ) noDuplicates = false;\n\n    this._compare = compare;\n    this._root = null;\n    this._size = 0;\n    this._noDuplicates = !!noDuplicates;\n  };\n\n  var prototypeAccessors = { size: { configurable: true } };\n\n\n  SplayTree.prototype.rotateLeft = function rotateLeft (x) {\n    var y = x.right;\n    if (y) {\n      x.right = y.left;\n      if (y.left) { y.left.parent = x; }\n      y.parent = x.parent;\n    }\n\n    if (!x.parent)              { this._root = y; }\n    else if (x === x.parent.left) { x.parent.left = y; }\n    else                        { x.parent.right = y; }\n    if (y) { y.left = x; }\n    x.parent = y;\n  };\n\n\n  SplayTree.prototype.rotateRight = function rotateRight (x) {\n    var y = x.left;\n    if (y) {\n      x.left = y.right;\n      if (y.right) { y.right.parent = x; }\n      y.parent = x.parent;\n    }\n\n    if (!x.parent)             { this._root = y; }\n    else if(x === x.parent.left) { x.parent.left = y; }\n    else                       { x.parent.right = y; }\n    if (y) { y.right = x; }\n    x.parent = y;\n  };\n\n\n  SplayTree.prototype._splay = function _splay (x) {\n      var this$1 = this;\n\n    while (x.parent) {\n      var p = x.parent;\n      if (!p.parent) {\n        if (p.left === x) { this$1.rotateRight(p); }\n        else            { this$1.rotateLeft(p); }\n      } else if (p.left === x && p.parent.left === p) {\n        this$1.rotateRight(p.parent);\n        this$1.rotateRight(p);\n      } else if (p.right === x && p.parent.right === p) {\n        this$1.rotateLeft(p.parent);\n        this$1.rotateLeft(p);\n      } else if (p.left === x && p.parent.right === p) {\n        this$1.rotateRight(p);\n        this$1.rotateLeft(p);\n      } else {\n        this$1.rotateLeft(p);\n        this$1.rotateRight(p);\n      }\n    }\n  };\n\n\n  SplayTree.prototype.splay = function splay (x) {\n      var this$1 = this;\n\n    var p, gp, ggp, l, r;\n\n    while (x.parent) {\n      p = x.parent;\n      gp = p.parent;\n\n      if (gp && gp.parent) {\n        ggp = gp.parent;\n        if (ggp.left === gp) { ggp.left= x; }\n        else               { ggp.right = x; }\n        x.parent = ggp;\n      } else {\n        x.parent = null;\n        this$1._root = x;\n      }\n\n      l = x.left; r = x.right;\n\n      if (x === p.left) { // left\n        if (gp) {\n          if (gp.left === p) {\n            /* zig-zig */\n            if (p.right) {\n              gp.left = p.right;\n              gp.left.parent = gp;\n            } else { gp.left = null; }\n\n            p.right = gp;\n            gp.parent = p;\n          } else {\n            /* zig-zag */\n            if (l) {\n              gp.right = l;\n              l.parent = gp;\n            } else { gp.right = null; }\n\n            x.left  = gp;\n            gp.parent = x;\n          }\n        }\n        if (r) {\n          p.left = r;\n          r.parent = p;\n        } else { p.left = null; }\n\n        x.right= p;\n        p.parent = x;\n      } else { // right\n        if (gp) {\n          if (gp.right === p) {\n            /* zig-zig */\n            if (p.left) {\n              gp.right = p.left;\n              gp.right.parent = gp;\n            } else { gp.right = null; }\n\n            p.left = gp;\n            gp.parent = p;\n          } else {\n            /* zig-zag */\n            if (r) {\n              gp.left = r;\n              r.parent = gp;\n            } else { gp.left = null; }\n\n            x.right = gp;\n            gp.parent = x;\n          }\n        }\n        if (l) {\n          p.right = l;\n          l.parent = p;\n        } else { p.right = null; }\n\n        x.left = p;\n        p.parent = x;\n      }\n    }\n  };\n\n\n  SplayTree.prototype.replace = function replace (u, v) {\n    if (!u.parent) { this._root = v; }\n    else if (u === u.parent.left) { u.parent.left = v; }\n    else { u.parent.right = v; }\n    if (v) { v.parent = u.parent; }\n  };\n\n\n  SplayTree.prototype.minNode = function minNode (u) {\n      if ( u === void 0 ) u = this._root;\n\n    if (u) { while (u.left) { u = u.left; } }\n    return u;\n  };\n\n\n  SplayTree.prototype.maxNode = function maxNode (u) {\n      if ( u === void 0 ) u = this._root;\n\n    if (u) { while (u.right) { u = u.right; } }\n    return u;\n  };\n\n\n  SplayTree.prototype.insert = function insert (key, data) {\n    var z = this._root;\n    var p = null;\n    var comp = this._compare;\n    var cmp;\n\n    if (this._noDuplicates) {\n      while (z) {\n        p = z;\n        cmp = comp(z.key, key);\n        if (cmp === 0) { return; }\n        else if (comp(z.key, key) < 0) { z = z.right; }\n        else { z = z.left; }\n      }\n    } else {\n      while (z) {\n        p = z;\n        if (comp(z.key, key) < 0) { z = z.right; }\n        else { z = z.left; }\n      }\n    }\n\n    z = { key: key, data: data, left: null, right: null, parent: p };\n\n    if (!p)                        { this._root = z; }\n    else if (comp(p.key, z.key) < 0) { p.right = z; }\n    else                           { p.left= z; }\n\n    this.splay(z);\n    this._size++;\n    return z;\n  };\n\n\n  SplayTree.prototype.find = function find (key) {\n    var z  = this._root;\n    var comp = this._compare;\n    while (z) {\n      var cmp = comp(z.key, key);\n      if    (cmp < 0) { z = z.right; }\n      else if (cmp > 0) { z = z.left; }\n      else            { return z; }\n    }\n    return null;\n  };\n\n  /**\n   * Whether the tree contains a node with the given key\n   * @param{Key} key\n   * @return {boolean} true/false\n   */\n  SplayTree.prototype.contains = function contains (key) {\n    var node     = this._root;\n    var comparator = this._compare;\n    while (node){\n      var cmp = comparator(key, node.key);\n      if    (cmp === 0) { return true; }\n      else if (cmp < 0) { node = node.left; }\n      else              { node = node.right; }\n    }\n\n    return false;\n  };\n\n\n  SplayTree.prototype.remove = function remove (key) {\n    var z = this.find(key);\n\n    if (!z) { return false; }\n\n    this.splay(z);\n\n    if (!z.left) { this.replace(z, z.right); }\n    else if (!z.right) { this.replace(z, z.left); }\n    else {\n      var y = this.minNode(z.right);\n      if (y.parent !== z) {\n        this.replace(y, y.right);\n        y.right = z.right;\n        y.right.parent = y;\n      }\n      this.replace(z, y);\n      y.left = z.left;\n      y.left.parent = y;\n    }\n\n    this._size--;\n    return true;\n  };\n\n\n  SplayTree.prototype.removeNode = function removeNode (z) {\n    if (!z) { return false; }\n\n    this.splay(z);\n\n    if (!z.left) { this.replace(z, z.right); }\n    else if (!z.right) { this.replace(z, z.left); }\n    else {\n      var y = this.minNode(z.right);\n      if (y.parent !== z) {\n        this.replace(y, y.right);\n        y.right = z.right;\n        y.right.parent = y;\n      }\n      this.replace(z, y);\n      y.left = z.left;\n      y.left.parent = y;\n    }\n\n    this._size--;\n    return true;\n  };\n\n\n  SplayTree.prototype.erase = function erase (key) {\n    var z = this.find(key);\n    if (!z) { return; }\n\n    this.splay(z);\n\n    var s = z.left;\n    var t = z.right;\n\n    var sMax = null;\n    if (s) {\n      s.parent = null;\n      sMax = this.maxNode(s);\n      this.splay(sMax);\n      this._root = sMax;\n    }\n    if (t) {\n      if (s) { sMax.right = t; }\n      else { this._root = t; }\n      t.parent = sMax;\n    }\n\n    this._size--;\n  };\n\n  /**\n   * Removes and returns the node with smallest key\n   * @return {?Node}\n   */\n  SplayTree.prototype.pop = function pop () {\n    var node = this._root, returnValue = null;\n    if (node) {\n      while (node.left) { node = node.left; }\n      returnValue = { key: node.key, data: node.data };\n      this.remove(node.key);\n    }\n    return returnValue;\n  };\n\n\n  /* eslint-disable class-methods-use-this */\n\n  /**\n   * Successor node\n   * @param{Node} node\n   * @return {?Node}\n   */\n  SplayTree.prototype.next = function next (node) {\n    var successor = node;\n    if (successor) {\n      if (successor.right) {\n        successor = successor.right;\n        while (successor && successor.left) { successor = successor.left; }\n      } else {\n        successor = node.parent;\n        while (successor && successor.right === node) {\n          node = successor; successor = successor.parent;\n        }\n      }\n    }\n    return successor;\n  };\n\n\n  /**\n   * Predecessor node\n   * @param{Node} node\n   * @return {?Node}\n   */\n  SplayTree.prototype.prev = function prev (node) {\n    var predecessor = node;\n    if (predecessor) {\n      if (predecessor.left) {\n        predecessor = predecessor.left;\n        while (predecessor && predecessor.right) { predecessor = predecessor.right; }\n      } else {\n        predecessor = node.parent;\n        while (predecessor && predecessor.left === node) {\n          node = predecessor;\n          predecessor = predecessor.parent;\n        }\n      }\n    }\n    return predecessor;\n  };\n  /* eslint-enable class-methods-use-this */\n\n\n  /**\n   * @param{forEachCallback} callback\n   * @return {SplayTree}\n   */\n  SplayTree.prototype.forEach = function forEach (callback) {\n    var current = this._root;\n    var s = [], done = false, i = 0;\n\n    while (!done) {\n      // Reach the left most Node of the current Node\n      if (current) {\n        // Place pointer to a tree node on the stack\n        // before traversing the node's left subtree\n        s.push(current);\n        current = current.left;\n      } else {\n        // BackTrack from the empty subtree and visit the Node\n        // at the top of the stack; however, if the stack is\n        // empty you are done\n        if (s.length > 0) {\n          current = s.pop();\n          callback(current, i++);\n\n          // We have visited the node and its left\n          // subtree. Now, it's right subtree's turn\n          current = current.right;\n        } else { done = true; }\n      }\n    }\n    return this;\n  };\n\n\n  /**\n   * Walk key range from `low` to `high`. Stops if `fn` returns a value.\n   * @param{Key}    low\n   * @param{Key}    high\n   * @param{Function} fn\n   * @param{*?}     ctx\n   * @return {SplayTree}\n   */\n  SplayTree.prototype.range = function range (low, high, fn, ctx) {\n      var this$1 = this;\n\n    var Q = [];\n    var compare = this._compare;\n    var node = this._root, cmp;\n\n    while (Q.length !== 0 || node) {\n      if (node) {\n        Q.push(node);\n        node = node.left;\n      } else {\n        node = Q.pop();\n        cmp = compare(node.key, high);\n        if (cmp > 0) {\n          break;\n        } else if (compare(node.key, low) >= 0) {\n          if (fn.call(ctx, node)) { return this$1; } // stop if smth is returned\n        }\n        node = node.right;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Returns all keys in order\n   * @return {Array<Key>}\n   */\n  SplayTree.prototype.keys = function keys () {\n    var current = this._root;\n    var s = [], r = [], done = false;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          r.push(current.key);\n          current = current.right;\n        } else { done = true; }\n      }\n    }\n    return r;\n  };\n\n\n  /**\n   * Returns `data` fields of all nodes in order.\n   * @return {Array<Value>}\n   */\n  SplayTree.prototype.values = function values () {\n    var current = this._root;\n    var s = [], r = [], done = false;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          r.push(current.data);\n          current = current.right;\n        } else { done = true; }\n      }\n    }\n    return r;\n  };\n\n\n  /**\n   * Returns node at given index\n   * @param{number} index\n   * @return {?Node}\n   */\n  SplayTree.prototype.at = function at (index) {\n    // removed after a consideration, more misleading than useful\n    // index = index % this.size;\n    // if (index < 0) index = this.size - index;\n\n    var current = this._root;\n    var s = [], done = false, i = 0;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          if (i === index) { return current; }\n          i++;\n          current = current.right;\n        } else { done = true; }\n      }\n    }\n    return null;\n  };\n\n  /**\n   * Bulk-load items. Both array have to be same size\n   * @param{Array<Key>}  keys\n   * @param{Array<Value>}[values]\n   * @param{Boolean}     [presort=false] Pre-sort keys and values, using\n   *                                       tree's comparator. Sorting is done\n   *                                       in-place\n   * @return {AVLTree}\n   */\n  SplayTree.prototype.load = function load (keys, values, presort) {\n      if ( keys === void 0 ) keys = [];\n      if ( values === void 0 ) values = [];\n      if ( presort === void 0 ) presort = false;\n\n    if (this._size !== 0) { throw new Error('bulk-load: tree is not empty'); }\n    var size = keys.length;\n    if (presort) { sort(keys, values, 0, size - 1, this._compare); }\n    this._root = loadRecursive(null, keys, values, 0, size);\n    this._size = size;\n    return this;\n  };\n\n\n  SplayTree.prototype.min = function min () {\n    var node = this.minNode(this._root);\n    if (node) { return node.key; }\n    else    { return null; }\n  };\n\n\n  SplayTree.prototype.max = function max () {\n    var node = this.maxNode(this._root);\n    if (node) { return node.key; }\n    else    { return null; }\n  };\n\n  SplayTree.prototype.isEmpty = function isEmpty () { return this._root === null; };\n  prototypeAccessors.size.get = function () { return this._size; };\n\n\n  /**\n   * Create a tree and load it with items\n   * @param{Array<Key>}        keys\n   * @param{Array<Value>?}      [values]\n\n   * @param{Function?}          [comparator]\n   * @param{Boolean?}           [presort=false] Pre-sort keys and values, using\n   *                                             tree's comparator. Sorting is done\n   *                                             in-place\n   * @param{Boolean?}           [noDuplicates=false] Allow duplicates\n   * @return {SplayTree}\n   */\n  SplayTree.createTree = function createTree (keys, values, comparator, presort, noDuplicates) {\n    return new SplayTree(comparator, noDuplicates).load(keys, values, presort);\n  };\n\n  Object.defineProperties( SplayTree.prototype, prototypeAccessors );\n\n\n  function loadRecursive (parent, keys, values, start, end) {\n    var size = end - start;\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var key    = keys[middle];\n      var data   = values[middle];\n      var node   = { key: key, data: data, parent: parent };\n      node.left    = loadRecursive(node, keys, values, start, middle);\n      node.right   = loadRecursive(node, keys, values, middle + 1, end);\n      return node;\n    }\n    return null;\n  }\n\n\n  function sort(keys, values, left, right, compare) {\n    if (left >= right) { return; }\n\n    var pivot = keys[(left + right) >> 1];\n    var i = left - 1;\n    var j = right + 1;\n\n    while (true) {\n      do { i++; } while (compare(keys[i], pivot) < 0);\n      do { j--; } while (compare(keys[j], pivot) > 0);\n      if (i >= j) { break; }\n\n      var tmp = keys[i];\n      keys[i] = keys[j];\n      keys[j] = tmp;\n\n      tmp = values[i];\n      values[i] = values[j];\n      values[j] = tmp;\n    }\n\n    sort(keys, values,  left,     j, compare);\n    sort(keys, values, j + 1, right, compare);\n  }\n\n  var NORMAL               = 0;\n  var NON_CONTRIBUTING     = 1;\n  var SAME_TRANSITION      = 2;\n  var DIFFERENT_TRANSITION = 3;\n\n  var INTERSECTION = 0;\n  var UNION        = 1;\n  var DIFFERENCE   = 2;\n  var XOR          = 3;\n\n  /**\n   * @param  {SweepEvent} event\n   * @param  {SweepEvent} prev\n   * @param  {Operation} operation\n   */\n  function computeFields (event, prev, operation) {\n    // compute inOut and otherInOut fields\n    if (prev === null) {\n      event.inOut      = false;\n      event.otherInOut = true;\n\n    // previous line segment in sweepline belongs to the same polygon\n    } else {\n      if (event.isSubject === prev.isSubject) {\n        event.inOut      = !prev.inOut;\n        event.otherInOut = prev.otherInOut;\n\n      // previous line segment in sweepline belongs to the clipping polygon\n      } else {\n        event.inOut      = !prev.otherInOut;\n        event.otherInOut = prev.isVertical() ? !prev.inOut : prev.inOut;\n      }\n\n      // compute prevInResult field\n      if (prev) {\n        event.prevInResult = (!inResult(prev, operation) || prev.isVertical())\n          ? prev.prevInResult : prev;\n      }\n    }\n\n    // check if the line segment belongs to the Boolean operation\n    event.inResult = inResult(event, operation);\n  }\n\n\n  /* eslint-disable indent */\n  function inResult(event, operation) {\n    switch (event.type) {\n      case NORMAL:\n        switch (operation) {\n          case INTERSECTION:\n            return !event.otherInOut;\n          case UNION:\n            return event.otherInOut;\n          case DIFFERENCE:\n            // return (event.isSubject && !event.otherInOut) ||\n            //         (!event.isSubject && event.otherInOut);\n            return (event.isSubject && event.otherInOut) ||\n                    (!event.isSubject && !event.otherInOut);\n          case XOR:\n            return true;\n        }\n        break;\n      case SAME_TRANSITION:\n        return operation === INTERSECTION || operation === UNION;\n      case DIFFERENT_TRANSITION:\n        return operation === DIFFERENCE;\n      case NON_CONTRIBUTING:\n        return false;\n    }\n    return false;\n  }\n  /* eslint-enable indent */\n\n  var SweepEvent = function SweepEvent (point, left, otherEvent, isSubject, edgeType) {\n\n    /**\n     * Is left endpoint?\n     * @type {Boolean}\n     */\n    this.left = left;\n\n    /**\n     * @type {Array.<Number>}\n     */\n    this.point = point;\n\n    /**\n     * Other edge reference\n     * @type {SweepEvent}\n     */\n    this.otherEvent = otherEvent;\n\n    /**\n     * Belongs to source or clipping polygon\n     * @type {Boolean}\n     */\n    this.isSubject = isSubject;\n\n    /**\n     * Edge contribution type\n     * @type {Number}\n     */\n    this.type = edgeType || NORMAL;\n\n\n    /**\n     * In-out transition for the sweepline crossing polygon\n     * @type {Boolean}\n     */\n    this.inOut = false;\n\n\n    /**\n     * @type {Boolean}\n     */\n    this.otherInOut = false;\n\n    /**\n     * Previous event in result?\n     * @type {SweepEvent}\n     */\n    this.prevInResult = null;\n\n    /**\n     * Does event belong to result?\n     * @type {Boolean}\n     */\n    this.inResult = false;\n\n\n    // connection step\n\n    /**\n     * @type {Boolean}\n     */\n    this.resultInOut = false;\n\n    this.isExteriorRing = true;\n  };\n\n\n  /**\n   * @param{Array.<Number>}p\n   * @return {Boolean}\n   */\n  SweepEvent.prototype.isBelow = function isBelow (p) {\n    var p0 = this.point, p1 = this.otherEvent.point;\n    return this.left\n      ? (p0[0] - p[0]) * (p1[1] - p[1]) - (p1[0] - p[0]) * (p0[1] - p[1]) > 0\n      // signedArea(this.point, this.otherEvent.point, p) > 0 :\n      : (p1[0] - p[0]) * (p0[1] - p[1]) - (p0[0] - p[0]) * (p1[1] - p[1]) > 0;\n      //signedArea(this.otherEvent.point, this.point, p) > 0;\n  };\n\n\n  /**\n   * @param{Array.<Number>}p\n   * @return {Boolean}\n   */\n  SweepEvent.prototype.isAbove = function isAbove (p) {\n    return !this.isBelow(p);\n  };\n\n\n  /**\n   * @return {Boolean}\n   */\n  SweepEvent.prototype.isVertical = function isVertical () {\n    return this.point[0] === this.otherEvent.point[0];\n  };\n\n\n  SweepEvent.prototype.clone = function clone () {\n    var copy = new SweepEvent(\n      this.point, this.left, this.otherEvent, this.isSubject, this.type);\n\n    copy.inResult     = this.inResult;\n    copy.prevInResult = this.prevInResult;\n    copy.isExteriorRing = this.isExteriorRing;\n    copy.inOut        = this.inOut;\n    copy.otherInOut   = this.otherInOut;\n\n    return copy;\n  };\n\n  function equals(p1, p2) {\n    if (p1[0] === p2[0]) {\n      if (p1[1] === p2[1]) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    return false;\n  }\n\n  // const EPSILON = 1e-9;\n  // const abs = Math.abs;\n  // TODO https://github.com/w8r/martinez/issues/6#issuecomment-262847164\n  // Precision problem.\n  //\n  // module.exports = function equals(p1, p2) {\n  //   return abs(p1[0] - p2[0]) <= EPSILON && abs(p1[1] - p2[1]) <= EPSILON;\n  // };\n\n  /**\n   * Signed area of the triangle (p0, p1, p2)\n   * @param  {Array.<Number>} p0\n   * @param  {Array.<Number>} p1\n   * @param  {Array.<Number>} p2\n   * @return {Number}\n   */\n  function signedArea(p0, p1, p2) {\n    return (p0[0] - p2[0]) * (p1[1] - p2[1]) - (p1[0] - p2[0]) * (p0[1] - p2[1]);\n  }\n\n  /**\n   * @param  {SweepEvent} e1\n   * @param  {SweepEvent} e2\n   * @return {Number}\n   */\n  function compareEvents(e1, e2) {\n    var p1 = e1.point;\n    var p2 = e2.point;\n\n    // Different x-coordinate\n    if (p1[0] > p2[0]) { return 1; }\n    if (p1[0] < p2[0]) { return -1; }\n\n    // Different points, but same x-coordinate\n    // Event with lower y-coordinate is processed first\n    if (p1[1] !== p2[1]) { return p1[1] > p2[1] ? 1 : -1; }\n\n    return specialCases(e1, e2, p1, p2);\n  }\n\n\n  /* eslint-disable no-unused-vars */\n  function specialCases(e1, e2, p1, p2) {\n    // Same coordinates, but one is a left endpoint and the other is\n    // a right endpoint. The right endpoint is processed first\n    if (e1.left !== e2.left)\n      { return e1.left ? 1 : -1; }\n\n    // const p2 = e1.otherEvent.point, p3 = e2.otherEvent.point;\n    // const sa = (p1[0] - p3[0]) * (p2[1] - p3[1]) - (p2[0] - p3[0]) * (p1[1] - p3[1])\n    // Same coordinates, both events\n    // are left endpoints or right endpoints.\n    // not collinear\n    if (signedArea(p1, e1.otherEvent.point, e2.otherEvent.point) !== 0) {\n      // the event associate to the bottom segment is processed first\n      return (!e1.isBelow(e2.otherEvent.point)) ? 1 : -1;\n    }\n\n    return (!e1.isSubject && e2.isSubject) ? 1 : -1;\n  }\n  /* eslint-enable no-unused-vars */\n\n  /**\n   * @param  {SweepEvent} se\n   * @param  {Array.<Number>} p\n   * @param  {Queue} queue\n   * @return {Queue}\n   */\n  function divideSegment(se, p, queue)  {\n    var r = new SweepEvent(p, false, se,            se.isSubject);\n    var l = new SweepEvent(p, true,  se.otherEvent, se.isSubject);\n\n    /* eslint-disable no-console */\n    if (equals(se.point, se.otherEvent.point)) {\n\n      console.warn('what is that, a collapsed segment?', se);\n    }\n    /* eslint-enable no-console */\n\n    r.contourId = l.contourId = se.contourId;\n\n    // avoid a rounding error. The left event would be processed after the right event\n    if (compareEvents(l, se.otherEvent) > 0) {\n      se.otherEvent.left = true;\n      l.left = false;\n    }\n\n    // avoid a rounding error. The left event would be processed after the right event\n    // if (compareEvents(se, r) > 0) {}\n\n    se.otherEvent.otherEvent = l;\n    se.otherEvent = r;\n\n    queue.push(l);\n    queue.push(r);\n\n    return queue;\n  }\n\n  //const EPS = 1e-9;\n\n  /**\n   * Finds the magnitude of the cross product of two vectors (if we pretend\n   * they're in three dimensions)\n   *\n   * @param {Object} a First vector\n   * @param {Object} b Second vector\n   * @private\n   * @returns {Number} The magnitude of the cross product\n   */\n  function crossProduct(a, b) {\n    return (a[0] * b[1]) - (a[1] * b[0]);\n  }\n\n  /**\n   * Finds the dot product of two vectors.\n   *\n   * @param {Object} a First vector\n   * @param {Object} b Second vector\n   * @private\n   * @returns {Number} The dot product\n   */\n  function dotProduct(a, b) {\n    return (a[0] * b[0]) + (a[1] * b[1]);\n  }\n\n  /**\n   * Finds the intersection (if any) between two line segments a and b, given the\n   * line segments' end points a1, a2 and b1, b2.\n   *\n   * This algorithm is based on Schneider and Eberly.\n   * http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf\n   * Page 244.\n   *\n   * @param {Array.<Number>} a1 point of first line\n   * @param {Array.<Number>} a2 point of first line\n   * @param {Array.<Number>} b1 point of second line\n   * @param {Array.<Number>} b2 point of second line\n   * @param {Boolean=}       noEndpointTouch whether to skip single touchpoints\n   *                                         (meaning connected segments) as\n   *                                         intersections\n   * @returns {Array.<Array.<Number>>|Null} If the lines intersect, the point of\n   * intersection. If they overlap, the two end points of the overlapping segment.\n   * Otherwise, null.\n   */\n  function intersection (a1, a2, b1, b2, noEndpointTouch) {\n    // The algorithm expects our lines in the form P + sd, where P is a point,\n    // s is on the interval [0, 1], and d is a vector.\n    // We are passed two points. P can be the first point of each pair. The\n    // vector, then, could be thought of as the distance (in x and y components)\n    // from the first point to the second point.\n    // So first, let's make our vectors:\n    var va = [a2[0] - a1[0], a2[1] - a1[1]];\n    var vb = [b2[0] - b1[0], b2[1] - b1[1]];\n    // We also define a function to convert back to regular point form:\n\n    /* eslint-disable arrow-body-style */\n\n    function toPoint(p, s, d) {\n      return [\n        p[0] + s * d[0],\n        p[1] + s * d[1]\n      ];\n    }\n\n    /* eslint-enable arrow-body-style */\n\n    // The rest is pretty much a straight port of the algorithm.\n    var e = [b1[0] - a1[0], b1[1] - a1[1]];\n    var kross    = crossProduct(va, vb);\n    var sqrKross = kross * kross;\n    var sqrLenA  = dotProduct(va, va);\n    //const sqrLenB  = dotProduct(vb, vb);\n\n    // Check for line intersection. This works because of the properties of the\n    // cross product -- specifically, two vectors are parallel if and only if the\n    // cross product is the 0 vector. The full calculation involves relative error\n    // to account for possible very small line segments. See Schneider & Eberly\n    // for details.\n    if (sqrKross > 0/* EPS * sqrLenB * sqLenA */) {\n      // If they're not parallel, then (because these are line segments) they\n      // still might not actually intersect. This code checks that the\n      // intersection point of the lines is actually on both line segments.\n      var s = crossProduct(e, vb) / kross;\n      if (s < 0 || s > 1) {\n        // not on line segment a\n        return null;\n      }\n      var t = crossProduct(e, va) / kross;\n      if (t < 0 || t > 1) {\n        // not on line segment b\n        return null;\n      }\n      if (s === 0 || s === 1) {\n        // on an endpoint of line segment a\n        return noEndpointTouch ? null : [toPoint(a1, s, va)];\n      }\n      if (t === 0 || t === 1) {\n        // on an endpoint of line segment b\n        return noEndpointTouch ? null : [toPoint(b1, t, vb)];\n      }\n      return [toPoint(a1, s, va)];\n    }\n\n    // If we've reached this point, then the lines are either parallel or the\n    // same, but the segments could overlap partially or fully, or not at all.\n    // So we need to find the overlap, if any. To do that, we can use e, which is\n    // the (vector) difference between the two initial points. If this is parallel\n    // with the line itself, then the two lines are the same line, and there will\n    // be overlap.\n    //const sqrLenE = dotProduct(e, e);\n    kross = crossProduct(e, va);\n    sqrKross = kross * kross;\n\n    if (sqrKross > 0 /* EPS * sqLenB * sqLenE */) {\n    // Lines are just parallel, not the same. No overlap.\n      return null;\n    }\n\n    var sa = dotProduct(va, e) / sqrLenA;\n    var sb = sa + dotProduct(va, vb) / sqrLenA;\n    var smin = Math.min(sa, sb);\n    var smax = Math.max(sa, sb);\n\n    // this is, essentially, the FindIntersection acting on floats from\n    // Schneider & Eberly, just inlined into this function.\n    if (smin <= 1 && smax >= 0) {\n\n      // overlap on an end point\n      if (smin === 1) {\n        return noEndpointTouch ? null : [toPoint(a1, smin > 0 ? smin : 0, va)];\n      }\n\n      if (smax === 0) {\n        return noEndpointTouch ? null : [toPoint(a1, smax < 1 ? smax : 1, va)];\n      }\n\n      if (noEndpointTouch && smin === 0 && smax === 1) { return null; }\n\n      // There's overlap on a segment -- two points of intersection. Return both.\n      return [\n        toPoint(a1, smin > 0 ? smin : 0, va),\n        toPoint(a1, smax < 1 ? smax : 1, va)\n      ];\n    }\n\n    return null;\n  }\n\n  /**\n   * @param  {SweepEvent} se1\n   * @param  {SweepEvent} se2\n   * @param  {Queue}      queue\n   * @return {Number}\n   */\n  function possibleIntersection (se1, se2, queue) {\n    // that disallows self-intersecting polygons,\n    // did cost us half a day, so I'll leave it\n    // out of respect\n    // if (se1.isSubject === se2.isSubject) return;\n    var inter = intersection(\n      se1.point, se1.otherEvent.point,\n      se2.point, se2.otherEvent.point\n    );\n\n    var nintersections = inter ? inter.length : 0;\n    if (nintersections === 0) { return 0; } // no intersection\n\n    // the line segments intersect at an endpoint of both line segments\n    if ((nintersections === 1) &&\n        (equals(se1.point, se2.point) ||\n         equals(se1.otherEvent.point, se2.otherEvent.point))) {\n      return 0;\n    }\n\n    if (nintersections === 2 && se1.isSubject === se2.isSubject) {\n      // if(se1.contourId === se2.contourId){\n      // console.warn('Edges of the same polygon overlap',\n      //   se1.point, se1.otherEvent.point, se2.point, se2.otherEvent.point);\n      // }\n      //throw new Error('Edges of the same polygon overlap');\n      return 0;\n    }\n\n    // The line segments associated to se1 and se2 intersect\n    if (nintersections === 1) {\n\n      // if the intersection point is not an endpoint of se1\n      if (!equals(se1.point, inter[0]) && !equals(se1.otherEvent.point, inter[0])) {\n        divideSegment(se1, inter[0], queue);\n      }\n\n      // if the intersection point is not an endpoint of se2\n      if (!equals(se2.point, inter[0]) && !equals(se2.otherEvent.point, inter[0])) {\n        divideSegment(se2, inter[0], queue);\n      }\n      return 1;\n    }\n\n    // The line segments associated to se1 and se2 overlap\n    var events        = [];\n    var leftCoincide  = false;\n    var rightCoincide = false;\n\n    if (equals(se1.point, se2.point)) {\n      leftCoincide = true; // linked\n    } else if (compareEvents(se1, se2) === 1) {\n      events.push(se2, se1);\n    } else {\n      events.push(se1, se2);\n    }\n\n    if (equals(se1.otherEvent.point, se2.otherEvent.point)) {\n      rightCoincide = true;\n    } else if (compareEvents(se1.otherEvent, se2.otherEvent) === 1) {\n      events.push(se2.otherEvent, se1.otherEvent);\n    } else {\n      events.push(se1.otherEvent, se2.otherEvent);\n    }\n\n    if ((leftCoincide && rightCoincide) || leftCoincide) {\n      // both line segments are equal or share the left endpoint\n      se2.type = NON_CONTRIBUTING;\n      se1.type = (se2.inOut === se1.inOut)\n        ? SAME_TRANSITION : DIFFERENT_TRANSITION;\n\n      if (leftCoincide && !rightCoincide) {\n        // honestly no idea, but changing events selection from [2, 1]\n        // to [0, 1] fixes the overlapping self-intersecting polygons issue\n        divideSegment(events[1].otherEvent, events[0].point, queue);\n      }\n      return 2;\n    }\n\n    // the line segments share the right endpoint\n    if (rightCoincide) {\n      divideSegment(events[0], events[1].point, queue);\n      return 3;\n    }\n\n    // no line segment includes totally the other one\n    if (events[0] !== events[3].otherEvent) {\n      divideSegment(events[0], events[1].point, queue);\n      divideSegment(events[1], events[2].point, queue);\n      return 3;\n    }\n\n    // one line segment includes the other one\n    divideSegment(events[0], events[1].point, queue);\n    divideSegment(events[3].otherEvent, events[2].point, queue);\n\n    return 3;\n  }\n\n  /**\n   * @param  {SweepEvent} le1\n   * @param  {SweepEvent} le2\n   * @return {Number}\n   */\n  function compareSegments(le1, le2) {\n    if (le1 === le2) { return 0; }\n\n    // Segments are not collinear\n    if (signedArea(le1.point, le1.otherEvent.point, le2.point) !== 0 ||\n      signedArea(le1.point, le1.otherEvent.point, le2.otherEvent.point) !== 0) {\n\n      // If they share their left endpoint use the right endpoint to sort\n      if (equals(le1.point, le2.point)) { return le1.isBelow(le2.otherEvent.point) ? -1 : 1; }\n\n      // Different left endpoint: use the left endpoint to sort\n      if (le1.point[0] === le2.point[0]) { return le1.point[1] < le2.point[1] ? -1 : 1; }\n\n      // has the line segment associated to e1 been inserted\n      // into S after the line segment associated to e2 ?\n      if (compareEvents(le1, le2) === 1) { return le2.isAbove(le1.point) ? -1 : 1; }\n\n      // The line segment associated to e2 has been inserted\n      // into S after the line segment associated to e1\n      return le1.isBelow(le2.point) ? -1 : 1;\n    }\n\n    if (le1.isSubject === le2.isSubject) { // same polygon\n      var p1 = le1.point, p2 = le2.point;\n      if (p1[0] === p2[0] && p1[1] === p2[1]/*equals(le1.point, le2.point)*/) {\n        p1 = le1.otherEvent.point; p2 = le2.otherEvent.point;\n        if (p1[0] === p2[0] && p1[1] === p2[1]) { return 0; }\n        else { return le1.contourId > le2.contourId ? 1 : -1; }\n      }\n    } else { // Segments are collinear, but belong to separate polygons\n      return le1.isSubject ? -1 : 1;\n    }\n\n    return compareEvents(le1, le2) === 1 ? 1 : -1;\n  }\n\n  function subdivide(eventQueue, subject, clipping, sbbox, cbbox, operation) {\n    var sweepLine = new SplayTree(compareSegments);\n    var sortedEvents = [];\n\n    var rightbound = Math.min(sbbox[2], cbbox[2]);\n\n    var prev, next, begin;\n\n    while (eventQueue.length !== 0) {\n      var event = eventQueue.pop();\n      sortedEvents.push(event);\n\n      // optimization by bboxes for intersection and difference goes here\n      if ((operation === INTERSECTION && event.point[0] > rightbound) ||\n          (operation === DIFFERENCE   && event.point[0] > sbbox[2])) {\n        break;\n      }\n\n      if (event.left) {\n        next  = prev = sweepLine.insert(event);\n        begin = sweepLine.minNode();\n\n        if (prev !== begin) { prev = sweepLine.prev(prev); }\n        else                { prev = null; }\n\n        next = sweepLine.next(next);\n\n        var prevEvent = prev ? prev.key : null;\n        var prevprevEvent = (void 0);\n        computeFields(event, prevEvent, operation);\n        if (next) {\n          if (possibleIntersection(event, next.key, eventQueue) === 2) {\n            computeFields(event, prevEvent, operation);\n            computeFields(event, next.key, operation);\n          }\n        }\n\n        if (prev) {\n          if (possibleIntersection(prev.key, event, eventQueue) === 2) {\n            var prevprev = prev;\n            if (prevprev !== begin) { prevprev = sweepLine.prev(prevprev); }\n            else                    { prevprev = null; }\n\n            prevprevEvent = prevprev ? prevprev.key : null;\n            computeFields(prevEvent, prevprevEvent, operation);\n            computeFields(event,     prevEvent,     operation);\n          }\n        }\n      } else {\n        event = event.otherEvent;\n        next = prev = sweepLine.find(event);\n\n        if (prev && next) {\n\n          if (prev !== begin) { prev = sweepLine.prev(prev); }\n          else                { prev = null; }\n\n          next = sweepLine.next(next);\n          sweepLine.remove(event);\n\n          if (next && prev) {\n            possibleIntersection(prev.key, next.key, eventQueue);\n          }\n        }\n      }\n    }\n    return sortedEvents;\n  }\n\n  /**\n   * @param  {Array.<SweepEvent>} sortedEvents\n   * @return {Array.<SweepEvent>}\n   */\n  function orderEvents(sortedEvents) {\n    var event, i, len, tmp;\n    var resultEvents = [];\n    for (i = 0, len = sortedEvents.length; i < len; i++) {\n      event = sortedEvents[i];\n      if ((event.left && event.inResult) ||\n        (!event.left && event.otherEvent.inResult)) {\n        resultEvents.push(event);\n      }\n    }\n    // Due to overlapping edges the resultEvents array can be not wholly sorted\n    var sorted = false;\n    while (!sorted) {\n      sorted = true;\n      for (i = 0, len = resultEvents.length; i < len; i++) {\n        if ((i + 1) < len &&\n          compareEvents(resultEvents[i], resultEvents[i + 1]) === 1) {\n          tmp = resultEvents[i];\n          resultEvents[i] = resultEvents[i + 1];\n          resultEvents[i + 1] = tmp;\n          sorted = false;\n        }\n      }\n    }\n\n\n    for (i = 0, len = resultEvents.length; i < len; i++) {\n      event = resultEvents[i];\n      event.pos = i;\n    }\n\n    // imagine, the right event is found in the beginning of the queue,\n    // when his left counterpart is not marked yet\n    for (i = 0, len = resultEvents.length; i < len; i++) {\n      event = resultEvents[i];\n      if (!event.left) {\n        tmp = event.pos;\n        event.pos = event.otherEvent.pos;\n        event.otherEvent.pos = tmp;\n      }\n    }\n\n    return resultEvents;\n  }\n\n\n  /**\n   * @param  {Number} pos\n   * @param  {Array.<SweepEvent>} resultEvents\n   * @param  {Object>}    processed\n   * @return {Number}\n   */\n  function nextPos(pos, resultEvents, processed, origIndex) {\n    var newPos = pos + 1;\n    var length = resultEvents.length;\n    if (newPos > length - 1) { return pos - 1; }\n    var p  = resultEvents[pos].point;\n    var p1 = resultEvents[newPos].point;\n\n\n    // while in range and not the current one by value\n    while (newPos < length && p1[0] === p[0] && p1[1] === p[1]) {\n      if (!processed[newPos]) {\n        return newPos;\n      } else   {\n        newPos++;\n      }\n      p1 = resultEvents[newPos].point;\n    }\n\n    newPos = pos - 1;\n\n    while (processed[newPos] && newPos >= origIndex) {\n      newPos--;\n    }\n    return newPos;\n  }\n\n\n  /**\n   * @param  {Array.<SweepEvent>} sortedEvents\n   * @return {Array.<*>} polygons\n   */\n  function connectEdges(sortedEvents, operation) {\n    var i, len;\n    var resultEvents = orderEvents(sortedEvents);\n\n    // \"false\"-filled array\n    var processed = {};\n    var result = [];\n    var event;\n\n    for (i = 0, len = resultEvents.length; i < len; i++) {\n      if (processed[i]) { continue; }\n      var contour = [[]];\n\n      if (!resultEvents[i].isExteriorRing) {\n        if (operation === DIFFERENCE && !resultEvents[i].isSubject && result.length === 0) {\n          result.push(contour);\n        } else if (result.length === 0) {\n          result.push([[contour]]);\n        } else {\n          result[result.length - 1].push(contour[0]);\n        }\n      } else if (operation === DIFFERENCE && !resultEvents[i].isSubject && result.length > 1) {\n        result[result.length - 1].push(contour[0]);\n      } else {\n        result.push(contour);\n      }\n\n      var ringId = result.length - 1;\n      var pos = i;\n\n      var initial = resultEvents[i].point;\n      contour[0].push(initial);\n\n      while (pos >= i) {\n        event = resultEvents[pos];\n        processed[pos] = true;\n\n        if (event.left) {\n          event.resultInOut = false;\n          event.contourId   = ringId;\n        } else {\n          event.otherEvent.resultInOut = true;\n          event.otherEvent.contourId   = ringId;\n        }\n\n        pos = event.pos;\n        processed[pos] = true;\n        contour[0].push(resultEvents[pos].point);\n        pos = nextPos(pos, resultEvents, processed, i);\n      }\n\n      pos = pos === -1 ? i : pos;\n\n      event = resultEvents[pos];\n      processed[pos] = processed[event.pos] = true;\n      event.otherEvent.resultInOut = true;\n      event.otherEvent.contourId   = ringId;\n    }\n\n    // Handle if the result is a polygon (eg not multipoly)\n    // Commented it again, let's see what do we mean by that\n    // if (result.length === 1) result = result[0];\n    return result;\n  }\n\n  var tinyqueue = TinyQueue;\n  var default_1 = TinyQueue;\n\n  function TinyQueue(data, compare) {\n      var this$1 = this;\n\n      if (!(this instanceof TinyQueue)) { return new TinyQueue(data, compare); }\n\n      this.data = data || [];\n      this.length = this.data.length;\n      this.compare = compare || defaultCompare;\n\n      if (this.length > 0) {\n          for (var i = (this.length >> 1) - 1; i >= 0; i--) { this$1._down(i); }\n      }\n  }\n\n  function defaultCompare(a, b) {\n      return a < b ? -1 : a > b ? 1 : 0;\n  }\n\n  TinyQueue.prototype = {\n\n      push: function (item) {\n          this.data.push(item);\n          this.length++;\n          this._up(this.length - 1);\n      },\n\n      pop: function () {\n          if (this.length === 0) { return undefined; }\n\n          var top = this.data[0];\n          this.length--;\n\n          if (this.length > 0) {\n              this.data[0] = this.data[this.length];\n              this._down(0);\n          }\n          this.data.pop();\n\n          return top;\n      },\n\n      peek: function () {\n          return this.data[0];\n      },\n\n      _up: function (pos) {\n          var data = this.data;\n          var compare = this.compare;\n          var item = data[pos];\n\n          while (pos > 0) {\n              var parent = (pos - 1) >> 1;\n              var current = data[parent];\n              if (compare(item, current) >= 0) { break; }\n              data[pos] = current;\n              pos = parent;\n          }\n\n          data[pos] = item;\n      },\n\n      _down: function (pos) {\n          var this$1 = this;\n\n          var data = this.data;\n          var compare = this.compare;\n          var halfLength = this.length >> 1;\n          var item = data[pos];\n\n          while (pos < halfLength) {\n              var left = (pos << 1) + 1;\n              var right = left + 1;\n              var best = data[left];\n\n              if (right < this$1.length && compare(data[right], best) < 0) {\n                  left = right;\n                  best = data[right];\n              }\n              if (compare(best, item) >= 0) { break; }\n\n              data[pos] = best;\n              pos = left;\n          }\n\n          data[pos] = item;\n      }\n  };\n  tinyqueue.default = default_1;\n\n  var max = Math.max;\n  var min = Math.min;\n\n  var contourId = 0;\n\n\n  function processPolygon(contourOrHole, isSubject, depth, Q, bbox, isExteriorRing) {\n    var i, len, s1, s2, e1, e2;\n    for (i = 0, len = contourOrHole.length - 1; i < len; i++) {\n      s1 = contourOrHole[i];\n      s2 = contourOrHole[i + 1];\n      e1 = new SweepEvent(s1, false, undefined, isSubject);\n      e2 = new SweepEvent(s2, false, e1,        isSubject);\n      e1.otherEvent = e2;\n\n      if (s1[0] === s2[0] && s1[1] === s2[1]) {\n        continue; // skip collapsed edges, or it breaks\n      }\n\n      e1.contourId = e2.contourId = depth;\n      if (!isExteriorRing) {\n        e1.isExteriorRing = false;\n        e2.isExteriorRing = false;\n      }\n      if (compareEvents(e1, e2) > 0) {\n        e2.left = true;\n      } else {\n        e1.left = true;\n      }\n\n      var x = s1[0], y = s1[1];\n      bbox[0] = min(bbox[0], x);\n      bbox[1] = min(bbox[1], y);\n      bbox[2] = max(bbox[2], x);\n      bbox[3] = max(bbox[3], y);\n\n      // Pushing it so the queue is sorted from left to right,\n      // with object on the left having the highest priority.\n      Q.push(e1);\n      Q.push(e2);\n    }\n  }\n\n\n  function fillQueue(subject, clipping, sbbox, cbbox, operation) {\n    var eventQueue = new tinyqueue(null, compareEvents);\n    var polygonSet, isExteriorRing, i, ii, j, jj; //, k, kk;\n\n    for (i = 0, ii = subject.length; i < ii; i++) {\n      polygonSet = subject[i];\n      for (j = 0, jj = polygonSet.length; j < jj; j++) {\n        isExteriorRing = j === 0;\n        if (isExteriorRing) { contourId++; }\n        processPolygon(polygonSet[j], true, contourId, eventQueue, sbbox, isExteriorRing);\n      }\n    }\n\n    for (i = 0, ii = clipping.length; i < ii; i++) {\n      polygonSet = clipping[i];\n      for (j = 0, jj = polygonSet.length; j < jj; j++) {\n        isExteriorRing = j === 0;\n        if (operation === DIFFERENCE) { isExteriorRing = false; }\n        if (isExteriorRing) { contourId++; }\n        processPolygon(polygonSet[j], false, contourId, eventQueue, cbbox, isExteriorRing);\n      }\n    }\n\n    return eventQueue;\n  }\n\n  var EMPTY = [];\n\n\n  function trivialOperation(subject, clipping, operation) {\n    var result = null;\n    if (subject.length * clipping.length === 0) {\n      if        (operation === INTERSECTION) {\n        result = EMPTY;\n      } else if (operation === DIFFERENCE) {\n        result = subject;\n      } else if (operation === UNION ||\n                 operation === XOR) {\n        result = (subject.length === 0) ? clipping : subject;\n      }\n    }\n    return result;\n  }\n\n\n  function compareBBoxes(subject, clipping, sbbox, cbbox, operation) {\n    var result = null;\n    if (sbbox[0] > cbbox[2] ||\n        cbbox[0] > sbbox[2] ||\n        sbbox[1] > cbbox[3] ||\n        cbbox[1] > sbbox[3]) {\n      if        (operation === INTERSECTION) {\n        result = EMPTY;\n      } else if (operation === DIFFERENCE) {\n        result = subject;\n      } else if (operation === UNION ||\n                 operation === XOR) {\n        result = subject.concat(clipping);\n      }\n    }\n    return result;\n  }\n\n\n  function boolean(subject, clipping, operation) {\n    if (typeof subject[0][0][0] === 'number') {\n      subject = [subject];\n    }\n    if (typeof clipping[0][0][0] === 'number') {\n      clipping = [clipping];\n    }\n    var trivial = trivialOperation(subject, clipping, operation);\n    if (trivial) {\n      return trivial === EMPTY ? null : trivial;\n    }\n    var sbbox = [Infinity, Infinity, -Infinity, -Infinity];\n    var cbbox = [Infinity, Infinity, -Infinity, -Infinity];\n\n    //console.time('fill queue');\n    var eventQueue = fillQueue(subject, clipping, sbbox, cbbox, operation);\n    //console.timeEnd('fill queue');\n\n    trivial = compareBBoxes(subject, clipping, sbbox, cbbox, operation);\n    if (trivial) {\n      return trivial === EMPTY ? null : trivial;\n    }\n    //console.time('subdivide edges');\n    var sortedEvents = subdivide(eventQueue, subject, clipping, sbbox, cbbox, operation);\n    //console.timeEnd('subdivide edges');\n\n    //console.time('connect vertices');\n    var result = connectEdges(sortedEvents, operation);\n    //console.timeEnd('connect vertices');\n    return result;\n  }\n\n  function union (subject, clipping) {\n    return boolean(subject, clipping, UNION);\n  }\n\n  function diff (subject, clipping) {\n    return boolean(subject, clipping, DIFFERENCE);\n  }\n\n  function xor (subject, clipping){\n    return boolean(subject, clipping, XOR);\n  }\n\n  function intersection$1 (subject, clipping) {\n    return boolean(subject, clipping, INTERSECTION);\n  }\n\n  /**\n   * @enum {Number}\n   */\n  var operations = { UNION: UNION, DIFFERENCE: DIFFERENCE, INTERSECTION: INTERSECTION, XOR: XOR };\n\n  exports.union = union;\n  exports.diff = diff;\n  exports.xor = xor;\n  exports.intersection = intersection$1;\n  exports.operations = operations;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=martinez.umd.js.map\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import en from './en.json';\r\nimport de from './de.json';\r\nimport it from './it.json';\r\nimport id from './id.json';\r\nimport ro from './ro.json';\r\nimport ru from './ru.json';\r\nimport es from './es.json';\r\nimport nl from './nl.json';\r\nimport fr from './fr.json';\r\nimport zh from './zh.json';\r\nimport pt_br from './pt_br.json';\r\nimport pl from './pl.json';\r\nimport sv from './sv.json';\r\n\r\nexport default {\r\n  en,\r\n  de,\r\n  it,\r\n  id,\r\n  ro,\r\n  ru,\r\n  es,\r\n  nl,\r\n  fr,\r\n  pt_br,\r\n  zh,\r\n  pl,\r\n  sv\r\n};\r\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.Circle = Draw.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Circle';\r\n    this.toolbarButtonName = 'drawCircle';\r\n  },\r\n  enable(options) {\r\n    // TODO: Think about if these options could be passed globally for all\r\n    // instances of L.PM.Draw. So a dev could set drawing style one time as some kind of config\r\n    L.Util.setOptions(this, options);\r\n    this.options.radius = 0;\r\n\r\n    // enable draw mode\r\n    this._enabled = true;\r\n\r\n    // create a new layergroup\r\n    this._layerGroup = new L.LayerGroup();\r\n    this._layerGroup._pmTempLayer = true;\r\n    this._layerGroup.addTo(this._map);\r\n\r\n    // this is the circle we want to draw\r\n    this._layer = L.circle([0, 0], this.options.templineStyle);\r\n    this._layer._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._layer);\r\n\r\n    // this is the marker in the center of the circle\r\n    this._centerMarker = L.marker([0, 0], {\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n      draggable: false,\r\n      zIndexOffset: 100,\r\n    });\r\n    this._centerMarker._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._centerMarker);\r\n\r\n    // this is the hintmarker on the mouse cursor\r\n    this._hintMarker = L.marker([0, 0], {\r\n      icon: L.divIcon({ className: 'marker-icon cursor-marker' }),\r\n    });\r\n    this._hintMarker._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._hintMarker);\r\n\r\n    // show the hintmarker if the option is set\r\n    if (this.options.cursorMarker) {\r\n      L.DomUtil.addClass(this._hintMarker._icon, 'visible');\r\n    }\r\n\r\n    // add tooltip to hintmarker\r\n    if (this.options.tooltips) {\r\n      this._hintMarker\r\n        .bindTooltip(getTranslation('tooltips.startCircle'), {\r\n          permanent: true,\r\n          offset: L.point(0, 10),\r\n          direction: 'bottom',\r\n\r\n          opacity: 0.8,\r\n        })\r\n        .openTooltip();\r\n    }\r\n\r\n    // this is the hintline from the hint marker to the center marker\r\n    this._hintline = L.polyline([], this.options.hintlineStyle);\r\n    this._hintline._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._hintline);\r\n\r\n    // change map cursor\r\n    this._map._container.style.cursor = 'crosshair';\r\n\r\n    // create a polygon-point on click\r\n    this._map.on('click', this._placeCenterMarker, this);\r\n\r\n    // sync hint marker with mouse cursor\r\n    this._map.on('mousemove', this._syncHintMarker, this);\r\n\r\n    // fire drawstart event\r\n    this._map.fire('pm:drawstart', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n    });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got enabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true);\r\n\r\n    // an array used in the snapping mixin.\r\n    // TODO: think about moving this somewhere else?\r\n    this._otherSnapLayers = [];\r\n  },\r\n  disable() {\r\n    // disable drawing mode\r\n\r\n    // cancel, if drawing mode isn't event enabled\r\n    if (!this._enabled) {\r\n      return;\r\n    }\r\n\r\n    this._enabled = false;\r\n\r\n    // reset cursor\r\n    this._map._container.style.cursor = '';\r\n\r\n    // unbind listeners\r\n    this._map.off('click', this._finishShape, this);\r\n    this._map.off('click', this._placeCenterMarker, this);\r\n    this._map.off('mousemove', this._syncHintMarker, this);\r\n\r\n    // remove helping layers\r\n    this._map.removeLayer(this._layerGroup);\r\n\r\n    // fire drawend event\r\n    this._map.fire('pm:drawend', { shape: this._shape });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got disabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false);\r\n\r\n    // cleanup snapping\r\n    if (this.options.snappable) {\r\n      this._cleanupSnapping();\r\n    }\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  toggle(options) {\r\n    if (this.enabled()) {\r\n      this.disable();\r\n    } else {\r\n      this.enable(options);\r\n    }\r\n  },\r\n  _syncHintLine() {\r\n    const latlng = this._centerMarker.getLatLng();\r\n\r\n    // set coords for hintline from marker to last vertex of drawin polyline\r\n    this._hintline.setLatLngs([latlng, this._hintMarker.getLatLng()]);\r\n  },\r\n  _syncCircleRadius() {\r\n    const A = this._centerMarker.getLatLng();\r\n    const B = this._hintMarker.getLatLng();\r\n\r\n    const distance = A.distanceTo(B);\r\n\r\n    this._layer.setRadius(distance);\r\n  },\r\n  _syncHintMarker(e) {\r\n    // move the cursor marker\r\n    this._hintMarker.setLatLng(e.latlng);\r\n\r\n    // if snapping is enabled, do it\r\n    if (this.options.snappable) {\r\n      const fakeDragEvent = e;\r\n      fakeDragEvent.target = this._hintMarker;\r\n      this._handleSnapping(fakeDragEvent);\r\n    }\r\n  },\r\n  _placeCenterMarker(e) {\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const latlng = this._hintMarker.getLatLng();\r\n\r\n    this._centerMarker.setLatLng(latlng);\r\n\r\n    this._map.off('click', this._placeCenterMarker, this);\r\n    this._map.on('click', this._finishShape, this);\r\n\r\n    this._placeCircleCenter();\r\n  },\r\n  _placeCircleCenter() {\r\n    const latlng = this._centerMarker.getLatLng();\r\n\r\n    if (latlng) {\r\n      this._layer.setLatLng(latlng);\r\n\r\n      // sync the hintline with hint marker\r\n      this._hintMarker.on('move', this._syncHintLine, this);\r\n      this._hintMarker.on('move', this._syncCircleRadius, this);\r\n\r\n      this._hintMarker.setTooltipContent(\r\n        getTranslation('tooltips.finishCircle')\r\n      );\r\n\r\n      this._layer.fire('pm:centerplaced', {\r\n        shape: this._shape,\r\n        workingLayer: this._layer,\r\n        latlng,\r\n      });\r\n    }\r\n  },\r\n  _finishShape(e) {\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // calc the radius\r\n    const center = this._centerMarker.getLatLng();\r\n    const latlng = this._hintMarker.getLatLng();\r\n    const radius = center.distanceTo(latlng);\r\n    const options = Object.assign({}, this.options.pathOptions, { radius });\r\n\r\n    // create the final circle layer\r\n    const circleLayer = L.circle(center, options).addTo(this._map);\r\n\r\n    // disable drawing\r\n    this.disable();\r\n\r\n    // fire the pm:create event and pass shape and layer\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      layer: circleLayer,\r\n    });\r\n  },\r\n  _createMarker(latlng) {\r\n    // create the new marker\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: false,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n    marker._pmTempLayer = true;\r\n\r\n    // add it to the map\r\n    this._layerGroup.addLayer(marker);\r\n\r\n    return marker;\r\n  },\r\n});\r\n","import Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.CircleMarker = Draw.Marker.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'CircleMarker';\r\n    this.toolbarButtonName = 'drawCircleMarker';\r\n  },\r\n  enable(options) {\r\n    // TODO: Think about if these options could be passed globally for all\r\n    // instances of L.PM.Draw. So a dev could set drawing style one time as some kind of config\r\n    L.Util.setOptions(this, options);\r\n\r\n    // change enabled state\r\n    this._enabled = true;\r\n\r\n    // create a marker on click on the map\r\n    this._map.on('click', this._createMarker, this);\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got enabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true);\r\n\r\n    // this is the hintmarker on the mouse cursor\r\n    this._hintMarker = L.circleMarker([0, 0], this.options.templineStyle);\r\n    this._hintMarker._pmTempLayer = true;\r\n    this._hintMarker.addTo(this._map);\r\n\r\n    // add tooltip to hintmarker\r\n    if (this.options.tooltips) {\r\n      this._hintMarker\r\n        .bindTooltip(getTranslation('tooltips.placeCircleMarker'), {\r\n          permanent: true,\r\n          offset: L.point(0, 10),\r\n          direction: 'bottom',\r\n\r\n          opacity: 0.8,\r\n        })\r\n        .openTooltip();\r\n    }\r\n\r\n    // this is just to keep the snappable mixin happy\r\n    this._layer = this._hintMarker;\r\n\r\n    // sync hint marker with mouse cursor\r\n    this._map.on('mousemove', this._syncHintMarker, this);\r\n\r\n    // fire drawstart event\r\n    this._map.fire('pm:drawstart', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n    });\r\n\r\n    // enable edit mode for existing markers\r\n    this._map.eachLayer(layer => {\r\n      if (this.isRelevantMarker(layer)) {\r\n        layer.pm.enable();\r\n      }\r\n    });\r\n  },\r\n  isRelevantMarker(layer) {\r\n    return layer instanceof L.CircleMarker && !(layer instanceof L.Circle) && layer.pm && !layer._pmTempLayer;\r\n  },\r\n  _createMarker(e) {\r\n    if (!e.latlng) {\r\n      return;\r\n    }\r\n\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const latlng = this._hintMarker.getLatLng();\r\n\r\n    // create marker\r\n    const marker = L.circleMarker(latlng, this.options.pathOptions);\r\n\r\n    // add marker to the map\r\n    marker.addTo(this._map);\r\n\r\n    // enable editing for the marker\r\n    marker.pm.enable();\r\n\r\n    // fire the pm:create event and pass shape and marker\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      marker, // DEPRECATED\r\n      layer: marker,\r\n    });\r\n\r\n    this._cleanupSnapping();\r\n  },\r\n});\r\n","import intersect from '@turf/intersect';\r\nimport difference from '@turf/difference';\r\nimport Draw from './L.PM.Draw';\r\n\r\nDraw.Cut = Draw.Polygon.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Cut';\r\n    this.toolbarButtonName = 'cutPolygon';\r\n  },\r\n  _cut(layer) {\r\n    const all = this._map._layers;\r\n\r\n    // find all layers that intersect with `layer`, the just drawn cutting layer\r\n    const layers = Object.keys(all)\r\n      // convert object to array\r\n      .map(l => all[l])\r\n      // only layers handled by leaflet-geoman\r\n      .filter(l => l.pm)\r\n      // only polygons\r\n      .filter(l => l instanceof L.Polygon)\r\n      // exclude the drawn one\r\n      .filter(l => l !== layer)\r\n      // only layers with intersections\r\n      .filter(l => {\r\n        try {\r\n          return !!intersect(layer.toGeoJSON(15), l.toGeoJSON(15));\r\n        } catch (e) {\r\n          /* eslint-disable-next-line no-console */\r\n          console.error('You cant cut polygons with self-intersections');\r\n          return false;\r\n        }\r\n      });\r\n\r\n    // loop through all layers that intersect with the drawn (cutting) layer\r\n    layers.forEach(l => {\r\n      // find layer difference\r\n      const diff = difference(l.toGeoJSON(15), layer.toGeoJSON(15));\r\n\r\n      // the resulting layer after the cut\r\n      const resultingLayer = L.geoJSON(diff, l.options).addTo(this._map);\r\n\r\n      // give the new layer the original options\r\n      resultingLayer.pm.enable(this.options);\r\n      resultingLayer.pm.disable();\r\n\r\n\r\n\r\n      // add templayer prop so pm:remove isn't fired\r\n      l._pmTempLayer = true;\r\n      layer._pmTempLayer = true;\r\n\r\n      // remove old layer and cutting layer\r\n      l.remove();\r\n      layer.remove();\r\n\r\n      if (resultingLayer.getLayers().length === 0) {\r\n        this._map.pm.removeLayer({ target: resultingLayer });\r\n      }\r\n\r\n      // fire pm:cut on the cutted layer\r\n      l.fire('pm:cut', {\r\n        shape: this._shape,\r\n        layer: resultingLayer,\r\n        originalLayer: l,\r\n      });\r\n\r\n      // fire pm:cut on the map\r\n      this._map.fire('pm:cut', {\r\n        shape: this._shape,\r\n        layer: resultingLayer,\r\n        originalLayer: l,\r\n      });\r\n\r\n\r\n    });\r\n  },\r\n  _finishShape() {\r\n    // if self intersection is not allowed, do not finish the shape!\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleSelfIntersection(false);\r\n\r\n      if (this._doesSelfIntersect) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const coords = this._layer.getLatLngs();\r\n    const polygonLayer = L.polygon(coords, this.options.pathOptions);\r\n    this._cut(polygonLayer);\r\n\r\n    // disable drawing\r\n    this.disable();\r\n\r\n    // clean up snapping states\r\n    this._cleanupSnapping();\r\n\r\n    // remove the first vertex from \"other snapping layers\"\r\n    this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1);\r\n    delete this._tempSnapLayerIndex;\r\n  },\r\n});\r\n","import kinks from '@turf/kinks';\r\nimport Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.Line = Draw.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Line';\r\n    this.toolbarButtonName = 'drawPolyline';\r\n    this._doesSelfIntersect = false;\r\n  },\r\n  enable(options) {\r\n    L.Util.setOptions(this, options);\r\n\r\n    // fallback option for finishOnDoubleClick\r\n    // TODO: remove in a later release\r\n    if (this.options.finishOnDoubleClick && !this.options.finishOn) {\r\n      this.options.finishOn = 'dblclick';\r\n    }\r\n\r\n    // enable draw mode\r\n    this._enabled = true;\r\n\r\n    // create a new layergroup\r\n    this._layerGroup = new L.LayerGroup();\r\n    this._layerGroup._pmTempLayer = true;\r\n    this._layerGroup.addTo(this._map);\r\n\r\n    // this is the polyLine that'll make up the polygon\r\n    this._layer = L.polyline([], this.options.templineStyle);\r\n    this._layer._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._layer);\r\n\r\n    // this is the hintline from the mouse cursor to the last marker\r\n    this._hintline = L.polyline([], this.options.hintlineStyle);\r\n    this._hintline._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._hintline);\r\n\r\n    // this is the hintmarker on the mouse cursor\r\n    this._hintMarker = L.marker(this._map.getCenter(), {\r\n      icon: L.divIcon({ className: 'marker-icon cursor-marker' }),\r\n    });\r\n    this._hintMarker._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._hintMarker);\r\n\r\n    // show the hintmarker if the option is set\r\n    if (this.options.cursorMarker) {\r\n      L.DomUtil.addClass(this._hintMarker._icon, 'visible');\r\n    }\r\n\r\n    // add tooltip to hintmarker\r\n    if (this.options.tooltips) {\r\n      this._hintMarker\r\n        .bindTooltip(getTranslation('tooltips.firstVertex'), {\r\n          permanent: true,\r\n          offset: L.point(0, 10),\r\n          direction: 'bottom',\r\n\r\n          opacity: 0.8,\r\n        })\r\n        .openTooltip();\r\n    }\r\n\r\n    // change map cursor\r\n    this._map._container.style.cursor = 'crosshair';\r\n\r\n    // create a polygon-point on click\r\n    this._map.on('click', this._createVertex, this);\r\n\r\n    // finish on layer event\r\n    // #http://leafletjs.com/reference-1.2.0.html#interactive-layer-click\r\n    if (this.options.finishOn) {\r\n      this._map.on(this.options.finishOn, this._finishShape, this);\r\n    }\r\n\r\n    // prevent zoom on double click if finishOn is === dblclick\r\n    if (this.options.finishOn === 'dblclick') {\r\n      this.tempMapDoubleClickZoomState = this._map.doubleClickZoom._enabled;\r\n\r\n      if (this.tempMapDoubleClickZoomState) {\r\n        this._map.doubleClickZoom.disable();\r\n      }\r\n    }\r\n\r\n    // sync hint marker with mouse cursor\r\n    this._map.on('mousemove', this._syncHintMarker, this);\r\n\r\n    // sync the hintline with hint marker\r\n    this._hintMarker.on('move', this._syncHintLine, this);\r\n\r\n    // fire drawstart event\r\n    this._map.fire('pm:drawstart', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n    });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got enabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true);\r\n\r\n    // an array used in the snapping mixin.\r\n    // TODO: think about moving this somewhere else?\r\n    this._otherSnapLayers = [];\r\n  },\r\n  disable() {\r\n    // disable draw mode\r\n\r\n    // cancel, if drawing mode isn't even enabled\r\n    if (!this._enabled) {\r\n      return;\r\n    }\r\n\r\n    this._enabled = false;\r\n\r\n    // reset cursor\r\n    this._map._container.style.cursor = '';\r\n\r\n    // unbind listeners\r\n    this._map.off('click', this._createVertex, this);\r\n    this._map.off('mousemove', this._syncHintMarker, this);\r\n    if (this.options.finishOn) {\r\n      this._map.off(this.options.finishOn, this._finishShape, this);\r\n    }\r\n\r\n    if (this.tempMapDoubleClickZoomState) {\r\n      this._map.doubleClickZoom.enable();\r\n    }\r\n\r\n    // remove layer\r\n    this._map.removeLayer(this._layerGroup);\r\n\r\n    // fire drawend event\r\n    this._map.fire('pm:drawend', { shape: this._shape });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got disabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false);\r\n\r\n    // cleanup snapping\r\n    if (this.options.snappable) {\r\n      this._cleanupSnapping();\r\n    }\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  toggle(options) {\r\n    if (this.enabled()) {\r\n      this.disable();\r\n    } else {\r\n      this.enable(options);\r\n    }\r\n  },\r\n  hasSelfIntersection() {\r\n    // check for self intersection of the layer and return true/false\r\n    const selfIntersection = kinks(this._layer.toGeoJSON(15));\r\n    return selfIntersection.features.length > 0;\r\n  },\r\n  _syncHintLine() {\r\n    const polyPoints = this._layer.getLatLngs();\r\n\r\n    if (polyPoints.length > 0) {\r\n      const lastPolygonPoint = polyPoints[polyPoints.length - 1];\r\n\r\n      // set coords for hintline from marker to last vertex of drawin polyline\r\n      this._hintline.setLatLngs([\r\n        lastPolygonPoint,\r\n        this._hintMarker.getLatLng(),\r\n      ]);\r\n    }\r\n  },\r\n  _syncHintMarker(e) {\r\n    // move the cursor marker\r\n    this._hintMarker.setLatLng(e.latlng);\r\n\r\n    // if snapping is enabled, do it\r\n    if (this.options.snappable) {\r\n      const fakeDragEvent = e;\r\n      fakeDragEvent.target = this._hintMarker;\r\n      this._handleSnapping(fakeDragEvent);\r\n    }\r\n\r\n    // if self-intersection is forbidden, handle it\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleSelfIntersection(true, e.latlng);\r\n    }\r\n  },\r\n  _handleSelfIntersection(addVertex, latlng) {\r\n    // ok we need to check the self intersection here\r\n    // problem: during draw, the marker on the cursor is not yet part\r\n    // of the layer. So we need to clone the layer, add the\r\n    // potential new vertex (cursor markers latlngs) and check the self\r\n    // intersection on the clone. Phew... - let's do it 💪\r\n\r\n    // clone layer (polyline is enough, even when it's a polygon)\r\n    const clone = L.polyline(this._layer.getLatLngs());\r\n\r\n    if (addVertex) {\r\n      // get vertex from param or from hintmarker\r\n      if (!latlng) {\r\n        latlng = this._hintMarker.getLatLng();\r\n      }\r\n\r\n      // add the vertex\r\n      clone.addLatLng(latlng);\r\n    }\r\n\r\n    // check the self intersection\r\n    const selfIntersection = kinks(clone.toGeoJSON(15));\r\n    this._doesSelfIntersect = selfIntersection.features.length > 0;\r\n\r\n    // change the style based on self intersection\r\n    if (this._doesSelfIntersect) {\r\n      this._hintline.setStyle({\r\n        color: 'red',\r\n      });\r\n    } else if (!this._hintline.isEmpty()) {\r\n      this._hintline.setStyle(this.options.hintlineStyle);\r\n    }\r\n  },\r\n  _removeLastVertex() {\r\n    // remove last coords\r\n    const coords = this._layer.getLatLngs();\r\n    const removedCoord = coords.pop();\r\n\r\n    // if all coords are gone, cancel drawing\r\n    if (coords.length < 1) {\r\n      this.disable();\r\n      return;\r\n    }\r\n\r\n    // find corresponding marker\r\n    const marker = this._layerGroup\r\n      .getLayers()\r\n      .filter(l => l instanceof L.Marker)\r\n      .filter(l => !L.DomUtil.hasClass(l._icon, 'cursor-marker'))\r\n      .find(l => l.getLatLng() === removedCoord);\r\n\r\n    // remove that marker\r\n    this._layerGroup.removeLayer(marker);\r\n\r\n    // update layer with new coords\r\n    this._layer.setLatLngs(coords);\r\n\r\n    // sync the hintline again\r\n    this._syncHintLine();\r\n  },\r\n  _createVertex(e) {\r\n    // don't create a vertex if we have a selfIntersection and it is not allowed\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleSelfIntersection(true, e.latlng);\r\n\r\n      if (this._doesSelfIntersect) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const latlng = this._hintMarker.getLatLng();\r\n\r\n    // check if the first and this vertex have the same latlng\r\n    if (latlng.equals(this._layer.getLatLngs()[0])) {\r\n      // yes? finish the polygon\r\n      this._finishShape(e);\r\n\r\n      // \"why?\", you ask? Because this happens when we snap the last vertex to the first one\r\n      // and then click without hitting the last marker. Click happens on the map\r\n      // in 99% of cases it's because the user wants to finish the polygon. So...\r\n      return;\r\n    }\r\n\r\n    // is this the first point?\r\n    const first = this._layer.getLatLngs().length === 0;\r\n\r\n    this._layer.addLatLng(latlng);\r\n    const newMarker = this._createMarker(latlng, first);\r\n\r\n    this._hintline.setLatLngs([latlng, latlng]);\r\n\r\n    this._layer.fire('pm:vertexadded', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n      marker: newMarker,\r\n      latlng,\r\n    });\r\n  },\r\n  _finishShape() {\r\n    // if self intersection is not allowed, do not finish the shape!\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleSelfIntersection(false);\r\n\r\n      if (this._doesSelfIntersect) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // get coordinates\r\n    const coords = this._layer.getLatLngs();\r\n\r\n    // if there is only one coords, don't finish the shape!\r\n    if (coords.length <= 1) {\r\n      return;\r\n    }\r\n\r\n    // create the leaflet shape and add it to the map\r\n    const polylineLayer = L.polyline(coords, this.options.pathOptions).addTo(\r\n      this._map\r\n    );\r\n\r\n    // disable drawing\r\n    this.disable();\r\n\r\n    // fire the pm:create event and pass shape and layer\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      layer: polylineLayer,\r\n    });\r\n\r\n    if (this.options.snappable) {\r\n      this._cleanupSnapping();\r\n    }\r\n  },\r\n  _createMarker(latlng, first) {\r\n    // create the new marker\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: false,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n    marker._pmTempLayer = true;\r\n\r\n    // add it to the map\r\n    this._layerGroup.addLayer(marker);\r\n\r\n    // a click on any marker finishes this shape\r\n    marker.on('click', this._finishShape, this);\r\n\r\n    // handle tooltip text\r\n    if (first) {\r\n      this._hintMarker.setTooltipContent(\r\n        getTranslation('tooltips.continueLine')\r\n      );\r\n    }\r\n    const second = this._layer.getLatLngs().length === 2;\r\n\r\n    if (second) {\r\n      this._hintMarker.setTooltipContent(getTranslation('tooltips.finishLine'));\r\n    }\r\n\r\n    return marker;\r\n  },\r\n});\r\n","import Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.Marker = Draw.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Marker';\r\n    this.toolbarButtonName = 'drawMarker';\r\n  },\r\n  enable(options) {\r\n    // TODO: Think about if these options could be passed globally for all\r\n    // instances of L.PM.Draw. So a dev could set drawing style one time as some kind of config\r\n    L.Util.setOptions(this, options);\r\n\r\n    // change enabled state\r\n    this._enabled = true;\r\n\r\n    // create a marker on click on the map\r\n    this._map.on('click', this._createMarker, this);\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got enabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true);\r\n\r\n    // this is the hintmarker on the mouse cursor\r\n    this._hintMarker = L.marker([0, 0], this.options.markerStyle);\r\n    this._hintMarker._pmTempLayer = true;\r\n    this._hintMarker.addTo(this._map);\r\n\r\n    // add tooltip to hintmarker\r\n    if (this.options.tooltips) {\r\n      this._hintMarker\r\n        .bindTooltip(getTranslation('tooltips.placeMarker'), {\r\n          permanent: true,\r\n          offset: L.point(0, 10),\r\n          direction: 'bottom',\r\n\r\n          opacity: 0.8,\r\n        })\r\n        .openTooltip();\r\n    }\r\n\r\n    // this is just to keep the snappable mixin happy\r\n    this._layer = this._hintMarker;\r\n\r\n    // sync hint marker with mouse cursor\r\n    this._map.on('mousemove', this._syncHintMarker, this);\r\n\r\n    // fire drawstart event\r\n    this._map.fire('pm:drawstart', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n    });\r\n\r\n    // enable edit mode for existing markers\r\n    this._map.eachLayer(layer => {\r\n      if (this.isRelevantMarker(layer)) {\r\n        layer.pm.enable();\r\n      }\r\n    });\r\n  },\r\n  disable() {\r\n    // cancel, if drawing mode isn't even enabled\r\n    if (!this._enabled) {\r\n      return;\r\n    }\r\n\r\n    // undbind click event, don't create a marker on click anymore\r\n    this._map.off('click', this._createMarker, this);\r\n\r\n    // remove hint marker\r\n    this._hintMarker.remove();\r\n\r\n    // remove event listener to sync hint marker\r\n    this._map.off('mousemove', this._syncHintMarker, this);\r\n\r\n    // disable dragging and removing for all markers\r\n    this._map.eachLayer(layer => {\r\n      if (this.isRelevantMarker(layer)) {\r\n        layer.pm.disable();\r\n      }\r\n    });\r\n\r\n    // fire drawend event\r\n    this._map.fire('pm:drawend', { shape: this._shape });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got disabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false);\r\n\r\n    // cleanup snapping\r\n    if (this.options.snappable) {\r\n      this._cleanupSnapping();\r\n    }\r\n\r\n    // change enabled state\r\n    this._enabled = false;\r\n  },\r\n  isRelevantMarker(layer) {\r\n    return layer instanceof L.Marker && layer.pm && !layer._pmTempLayer;\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  toggle(options) {\r\n    if (this.enabled()) {\r\n      this.disable();\r\n    } else {\r\n      this.enable(options);\r\n    }\r\n  },\r\n  _createMarker(e) {\r\n    if (!e.latlng) {\r\n      return;\r\n    }\r\n\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const latlng = this._hintMarker.getLatLng();\r\n\r\n    // create marker\r\n    const marker = new L.Marker(latlng, this.options.markerStyle);\r\n\r\n    // add marker to the map\r\n    marker.addTo(this._map);\r\n\r\n    // enable editing for the marker\r\n    marker.pm.enable();\r\n\r\n    // fire the pm:create event and pass shape and marker\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      marker, // DEPRECATED\r\n      layer: marker,\r\n    });\r\n\r\n    this._cleanupSnapping();\r\n  },\r\n  _syncHintMarker(e) {\r\n    // move the cursor marker\r\n    this._hintMarker.setLatLng(e.latlng);\r\n\r\n    // if snapping is enabled, do it\r\n    if (this.options.snappable) {\r\n      const fakeDragEvent = e;\r\n      fakeDragEvent.target = this._hintMarker;\r\n      this._handleSnapping(fakeDragEvent);\r\n    }\r\n  },\r\n});\r\n","import Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.Polygon = Draw.Line.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Polygon';\r\n    this.toolbarButtonName = 'drawPolygon';\r\n  },\r\n  _finishShape(e) {\r\n    // if self intersection is not allowed, do not finish the shape!\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleSelfIntersection(false);\r\n\r\n      if (this._doesSelfIntersect) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // get coordinates\r\n    const coords = this._layer.getLatLngs();\r\n\r\n    // only finish the shape if there are 3 or more vertices\r\n    if (coords.length <= 2) {\r\n      return;\r\n    }\r\n\r\n    // create the leaflet shape and add it to the map\r\n    if (e && e.type === 'dblclick') {\r\n      // Leaflet creates an extra node with double click\r\n      coords.splice(coords.length - 1, 1);\r\n    }\r\n    const polygonLayer = L.polygon(coords, this.options.pathOptions).addTo(\r\n      this._map\r\n    );\r\n\r\n    // disable drawing\r\n    this.disable();\r\n\r\n    // fire the pm:create event and pass shape and layer\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      layer: polygonLayer,\r\n    });\r\n\r\n    // clean up snapping states\r\n    this._cleanupSnapping();\r\n\r\n    // remove the first vertex from \"other snapping layers\"\r\n    this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1);\r\n    delete this._tempSnapLayerIndex;\r\n  },\r\n  _createMarker(latlng, first) {\r\n    // create the new marker\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: false,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n\r\n    // mark this marker as temporary\r\n    marker._pmTempLayer = true;\r\n\r\n    // add it to the map\r\n    this._layerGroup.addLayer(marker);\r\n\r\n    // if the first marker gets clicked again, finish this shape\r\n    if (first) {\r\n      marker.on('click', this._finishShape, this);\r\n\r\n      // add the first vertex to \"other snapping layers\" so the polygon is easier to finish\r\n      this._tempSnapLayerIndex = this._otherSnapLayers.push(marker) - 1;\r\n\r\n      if (this.options.snappable) {\r\n        this._cleanupSnapping();\r\n      }\r\n    }\r\n\r\n    // handle tooltip text\r\n    if (first) {\r\n      this._hintMarker.setTooltipContent(\r\n        getTranslation('tooltips.continueLine')\r\n      );\r\n    }\r\n    const third = this._layer.getLatLngs().length === 3;\r\n\r\n    if (third) {\r\n      this._hintMarker.setTooltipContent(getTranslation('tooltips.finishPoly'));\r\n    }\r\n\r\n    return marker;\r\n  },\r\n});\r\n","import Draw from './L.PM.Draw';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nDraw.Rectangle = Draw.extend({\r\n  initialize(map) {\r\n    this._map = map;\r\n    this._shape = 'Rectangle';\r\n    this.toolbarButtonName = 'drawRectangle';\r\n  },\r\n  enable(options) {\r\n    // TODO: Think about if these options could be passed globally for all\r\n    // instances of L.PM.Draw. So a dev could set drawing style one time as some kind of config\r\n    L.Util.setOptions(this, options);\r\n\r\n    // enable draw mode\r\n    this._enabled = true;\r\n\r\n    // create a new layergroup\r\n    this._layerGroup = new L.LayerGroup();\r\n    this._layerGroup._pmTempLayer = true;\r\n    this._layerGroup.addTo(this._map);\r\n\r\n    // the rectangle we want to draw\r\n    this._layer = L.rectangle([[0, 0], [0, 0]], this.options.pathOptions);\r\n    this._layer._pmTempLayer = true;\r\n\r\n    // this is the marker at the origin of the rectangle\r\n    // this needs to be present, for tracking purposes, but we'll make it invisible if a user doesn't want to see it!\r\n    this._startMarker = L.marker([0, 0], {\r\n      icon: L.divIcon({ className: 'marker-icon rect-start-marker' }),\r\n      draggable: false,\r\n      zIndexOffset: 100,\r\n      opacity: this.options.cursorMarker ? 1 : 0,\r\n    });\r\n    this._startMarker._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._startMarker);\r\n\r\n    // this is the hintmarker on the mouse cursor\r\n    this._hintMarker = L.marker([0, 0], {\r\n      icon: L.divIcon({ className: 'marker-icon cursor-marker' }),\r\n    });\r\n    this._hintMarker._pmTempLayer = true;\r\n    this._layerGroup.addLayer(this._hintMarker);\r\n\r\n    // add tooltip to hintmarker\r\n    if (this.options.tooltips) {\r\n      this._hintMarker\r\n        .bindTooltip(getTranslation('tooltips.firstVertex'), {\r\n          permanent: true,\r\n          offset: L.point(0, 10),\r\n          direction: 'bottom',\r\n\r\n          opacity: 0.8,\r\n        })\r\n        .openTooltip();\r\n    }\r\n\r\n    // show the hintmarker if the option is set\r\n    if (this.options.cursorMarker) {\r\n      L.DomUtil.addClass(this._hintMarker._icon, 'visible');\r\n\r\n      // Add two more matching style markers, if cursor marker is rendered\r\n      this._styleMarkers = [];\r\n      for (let i = 0; i < 2; i += 1) {\r\n        const styleMarker = L.marker([0, 0], {\r\n          icon: L.divIcon({\r\n            className: 'marker-icon rect-style-marker',\r\n          }),\r\n          draggable: false,\r\n          zIndexOffset: 100,\r\n        });\r\n        styleMarker._pmTempLayer = true;\r\n        this._layerGroup.addLayer(styleMarker);\r\n\r\n        this._styleMarkers.push(styleMarker);\r\n      }\r\n    }\r\n\r\n    // change map cursor\r\n    this._map._container.style.cursor = 'crosshair';\r\n\r\n    // create a polygon-point on click\r\n    this._map.on('click', this._placeStartingMarkers, this);\r\n\r\n    // sync hint marker with mouse cursor\r\n    this._map.on('mousemove', this._syncHintMarker, this);\r\n\r\n    // fire drawstart event\r\n    this._map.fire('pm:drawstart', {\r\n      shape: this._shape,\r\n      workingLayer: this._layer,\r\n    });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got enabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true);\r\n\r\n    // an array used in the snapping mixin.\r\n    // TODO: think about moving this somewhere else?\r\n    this._otherSnapLayers = [];\r\n  },\r\n  disable() {\r\n    // disable drawing mode\r\n\r\n    // cancel, if drawing mode isn't event enabled\r\n    if (!this._enabled) {\r\n      return;\r\n    }\r\n\r\n    this._enabled = false;\r\n\r\n    // reset cursor\r\n    this._map._container.style.cursor = '';\r\n\r\n    // unbind listeners\r\n    this._map.off('click', this._finishShape, this);\r\n    this._map.off('click', this._placeStartingMarkers, this);\r\n    this._map.off('mousemove', this._syncHintMarker, this);\r\n\r\n    // remove helping layers\r\n    this._map.removeLayer(this._layerGroup);\r\n\r\n    // fire drawend event\r\n    this._map.fire('pm:drawend', { shape: this._shape });\r\n\r\n    // toggle the draw button of the Toolbar in case drawing mode got disabled without the button\r\n    this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false);\r\n\r\n    // cleanup snapping\r\n    if (this.options.snappable) {\r\n      this._cleanupSnapping();\r\n    }\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  toggle(options) {\r\n    if (this.enabled()) {\r\n      this.disable();\r\n    } else {\r\n      this.enable(options);\r\n    }\r\n  },\r\n  _placeStartingMarkers(e) {\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const latlng = this._hintMarker.getLatLng();\r\n\r\n    // show and place start marker\r\n    L.DomUtil.addClass(this._startMarker._icon, 'visible');\r\n    this._startMarker.setLatLng(latlng);\r\n\r\n    // if we have the other two visibilty markers, show and place them now\r\n    if (this.options.cursorMarker && this._styleMarkers) {\r\n      this._styleMarkers.forEach(styleMarker => {\r\n        L.DomUtil.addClass(styleMarker._icon, 'visible');\r\n        styleMarker.setLatLng(latlng);\r\n      });\r\n    }\r\n\r\n    this._map.off('click', this._placeStartingMarkers, this);\r\n    this._map.on('click', this._finishShape, this);\r\n\r\n    // change tooltip text\r\n    this._hintMarker.setTooltipContent(getTranslation('tooltips.finishRect'));\r\n\r\n    this._setRectangleOrigin();\r\n  },\r\n  _setRectangleOrigin() {\r\n    const latlng = this._startMarker.getLatLng();\r\n\r\n    if (latlng) {\r\n      // show it first\r\n      this._layerGroup.addLayer(this._layer);\r\n\r\n      this._layer.setLatLngs([latlng, latlng]);\r\n\r\n      this._hintMarker.on('move', this._syncRectangleSize, this);\r\n    }\r\n  },\r\n  _syncHintMarker(e) {\r\n    // move the cursor marker\r\n    this._hintMarker.setLatLng(e.latlng);\r\n\r\n    // if snapping is enabled, do it\r\n    if (this.options.snappable) {\r\n      const fakeDragEvent = e;\r\n      fakeDragEvent.target = this._hintMarker;\r\n      this._handleSnapping(fakeDragEvent);\r\n    }\r\n  },\r\n  _syncRectangleSize() {\r\n    // Create a box using corners A & B (A = Starting Position, B = Current Mouse Position)\r\n    const A = this._startMarker.getLatLng();\r\n    const B = this._hintMarker.getLatLng();\r\n\r\n    this._layer.setBounds([A, B]);\r\n\r\n    // Add matching style markers, if cursor marker is shown\r\n    if (this.options.cursorMarker && this._styleMarkers) {\r\n      const corners = this._findCorners();\r\n      const unmarkedCorners = [];\r\n\r\n      // Find two corners not currently occupied by starting marker and hint marker\r\n      corners.forEach(corner => {\r\n        if (\r\n          !corner.equals(this._startMarker.getLatLng()) &&\r\n          !corner.equals(this._hintMarker.getLatLng())\r\n        ) {\r\n          unmarkedCorners.push(corner);\r\n        }\r\n      });\r\n\r\n      // Reposition style markers\r\n      unmarkedCorners.forEach((unmarkedCorner, index) => {\r\n        this._styleMarkers[index].setLatLng(unmarkedCorner);\r\n      });\r\n    }\r\n  },\r\n  _finishShape(e) {\r\n    // assign the coordinate of the click to the hintMarker, that's necessary for\r\n    // mobile where the marker can't follow a cursor\r\n    if (!this._hintMarker._snapped) {\r\n      this._hintMarker.setLatLng(e.latlng);\r\n    }\r\n\r\n    // get coordinate for new vertex by hintMarker (cursor marker)\r\n    const B = this._hintMarker.getLatLng();\r\n\r\n    // get already placed corner from the startmarker\r\n    const A = this._startMarker.getLatLng();\r\n\r\n    // create the final rectangle layer, based on opposite corners A & B\r\n    const rectangleLayer = L.rectangle([A, B], this.options.pathOptions).addTo(\r\n      this._map\r\n    );\r\n\r\n    // disable drawing\r\n    this.disable();\r\n\r\n    // fire the pm:create event and pass shape and layer\r\n    this._map.fire('pm:create', {\r\n      shape: this._shape,\r\n      layer: rectangleLayer,\r\n    });\r\n  },\r\n  _findCorners() {\r\n    const corners = this._layer.getBounds();\r\n\r\n    const northwest = corners.getNorthWest();\r\n    const northeast = corners.getNorthEast();\r\n    const southeast = corners.getSouthEast();\r\n    const southwest = corners.getSouthWest();\r\n\r\n    return [northwest, northeast, southeast, southwest];\r\n  },\r\n});\r\n","import SnapMixin from '../Mixins/Snapping';\r\n\r\nconst Draw = L.Class.extend({\r\n  includes: [SnapMixin],\r\n  options: {\r\n    snappable: true,\r\n    snapDistance: 20,\r\n    tooltips: true,\r\n    cursorMarker: true,\r\n    finishOnDoubleClick: false,\r\n    finishOn: null,\r\n    allowSelfIntersection: true,\r\n    templineStyle: {},\r\n    hintlineStyle: {\r\n      color: '#3388ff',\r\n      dashArray: '5,5',\r\n    },\r\n    markerStyle: {\r\n      draggable: true,\r\n    },\r\n  },\r\n  setOptions(options) {\r\n    L.Util.setOptions(this, options);\r\n  },\r\n  initialize(map) {\r\n    // save the map\r\n    this._map = map;\r\n\r\n    // define all possible shapes that can be drawn\r\n    this.shapes = ['Marker', 'CircleMarker', 'Line', 'Polygon', 'Rectangle', 'Circle', 'Cut'];\r\n\r\n    // initiate drawing class for our shapes\r\n    this.shapes.forEach(shape => {\r\n      this[shape] = new L.PM.Draw[shape](this._map);\r\n    });\r\n  },\r\n  setPathOptions(options) {\r\n    this.options.pathOptions = options;\r\n  },\r\n  getShapes() {\r\n    // if somebody wants to know what shapes are available\r\n    return this.shapes;\r\n  },\r\n  enable(shape, options) {\r\n    if (!shape) {\r\n      throw new Error(\r\n        `Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(\r\n          ','\r\n        )}`\r\n      );\r\n    }\r\n\r\n    // disable drawing for all shapes\r\n    this.disable();\r\n\r\n    // enable draw for a shape\r\n    this[shape].enable(options);\r\n  },\r\n  disable() {\r\n    // there can only be one drawing mode active at a time on a map\r\n    // so it doesn't matter which one should be disabled.\r\n    // just disable all of them\r\n    this.shapes.forEach(shape => {\r\n      this[shape].disable();\r\n    });\r\n  },\r\n  addControls() {\r\n    // add control buttons for our shapes\r\n    this.shapes.forEach(shape => {\r\n      this[shape].addButton();\r\n    });\r\n  },\r\n});\r\n\r\nexport default Draw;\r\n","import Edit from './L.PM.Edit';\r\n\r\nEdit.Circle = Edit.extend({\r\n  initialize(layer) {\r\n    this._layer = layer;\r\n    this._enabled = false;\r\n  },\r\n  applyOptions() {\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n      // sync the hintline with hint marker\r\n      this._outerMarker.on('move', this._syncHintLine, this);\r\n      this._outerMarker.on('move', this._syncCircleRadius, this);\r\n      this._centerMarker.on('move', this._moveCircle, this);\r\n    } else {\r\n      this._disableSnapping();\r\n    }\r\n  },\r\n  _disableSnapping() {\r\n    this._markers.forEach(marker => {\r\n      marker.off('move', this._syncHintLine, this);\r\n      marker.off('move', this._syncCircleRadius, this);\r\n      marker.off('drag', this._handleSnapping, this);\r\n      marker.off('dragend', this._cleanupSnapping, this);\r\n    });\r\n\r\n    this._layer.off('pm:dragstart', this._unsnap, this);\r\n  },\r\n  toggleEdit(options) {\r\n    if (!this.enabled()) {\r\n      this.enable(options);\r\n    } else {\r\n      this.disable();\r\n    }\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  enable(options) {\r\n    L.Util.setOptions(this, options);\r\n\r\n    this._map = this._layer._map;\r\n\r\n    if (!this.enabled()) {\r\n      // if it was already enabled, disable first\r\n      // we don't block enabling again because new options might be passed\r\n      this.disable();\r\n    }\r\n\r\n    // change state\r\n    this._enabled = true;\r\n\r\n    // init markers\r\n    this._initMarkers();\r\n\r\n    this.applyOptions();\r\n\r\n    // if polygon gets removed from map, disable edit mode\r\n    this._layer.on('remove', e => {\r\n      this.disable(e.target);\r\n    });\r\n  },\r\n  disable(layer = this._layer) {\r\n    // if it's not enabled, it doesn't need to be disabled\r\n    if (!this.enabled()) {\r\n      return false;\r\n    }\r\n\r\n    // prevent disabling if layer is being dragged\r\n    if (layer.pm._dragging) {\r\n      return false;\r\n    }\r\n    layer.pm._enabled = false;\r\n    layer.pm._helperLayers.clearLayers();\r\n\r\n    // clean up draggable\r\n    layer.off('mousedown');\r\n    layer.off('mouseup');\r\n\r\n    // remove draggable class\r\n    const el = layer._path ? layer._path : this._layer._renderer._container;\r\n    L.DomUtil.removeClass(el, 'leaflet-pm-draggable');\r\n\r\n    this._layer.fire('pm:disable');\r\n\r\n    if (this._layerEdited) {\r\n      this._layer.fire('pm:update', {});\r\n    }\r\n    this._layerEdited = false;\r\n\r\n    return true;\r\n  },\r\n  _initMarkers() {\r\n    const map = this._map;\r\n\r\n    // cleanup old ones first\r\n    if (this._helperLayers) {\r\n      this._helperLayers.clearLayers();\r\n    }\r\n\r\n    // add markerGroup to map, markerGroup includes regular and middle markers\r\n    this._helperLayers = new L.LayerGroup();\r\n    this._helperLayers._pmTempLayer = true;\r\n    this._helperLayers.addTo(map);\r\n\r\n    // create marker for each coordinate\r\n    const center = this._layer.getLatLng();\r\n    const radius = this._layer._radius;\r\n\r\n    const outer = this._getLatLngOnCircle(center, radius);\r\n\r\n    this._centerMarker = this._createCenterMarker(center);\r\n    this._outerMarker = this._createOuterMarker(outer);\r\n    this._markers = [this._centerMarker, this._outerMarker];\r\n    this._createHintLine(this._centerMarker, this._outerMarker);\r\n\r\n\r\n  },\r\n  _getLatLngOnCircle(center, radius) {\r\n    const pointA = this._map.project(center);\r\n    const pointB = L.point(pointA.x + radius, pointA.y);\r\n\r\n    return this._map.unproject(pointB);\r\n  },\r\n  _resizeCircle() {\r\n    this._syncHintLine();\r\n    this._syncCircleRadius();\r\n  },\r\n  _moveCircle(e) {\r\n    const center = e.latlng;\r\n    this._layer.setLatLng(center);\r\n\r\n    const radius = this._layer._radius;\r\n\r\n    const outer = this._getLatLngOnCircle(center, radius);\r\n    this._outerMarker.setLatLng(outer);\r\n    this._syncHintLine();\r\n\r\n    this._layer.fire('pm:centerplaced', {\r\n      layer: this._layer,\r\n      latlng: center,\r\n    });\r\n  },\r\n  _onMarkerDragStart(e) {\r\n    this._layer.fire('pm:markerdragstart', {\r\n      markerEvent: e,\r\n    });\r\n  },\r\n  _onMarkerDragEnd(e) {\r\n    // fire edit event\r\n    this._fireEdit();\r\n\r\n    // fire markerdragend event\r\n    this._layer.fire('pm:markerdragend', {\r\n      markerEvent: e,\r\n    });\r\n  },\r\n  _syncCircleRadius() {\r\n    const A = this._centerMarker.getLatLng();\r\n    const B = this._outerMarker.getLatLng();\r\n\r\n    const distance = A.distanceTo(B);\r\n\r\n    this._layer.setRadius(distance);\r\n  },\r\n  _syncHintLine() {\r\n    const A = this._centerMarker.getLatLng();\r\n    const B = this._outerMarker.getLatLng();\r\n\r\n    // set coords for hintline from marker to last vertex of drawin polyline\r\n    this._hintline.setLatLngs([A, B]);\r\n  },\r\n  _createHintLine(markerA, markerB) {\r\n    const A = markerA.getLatLng();\r\n    const B = markerB.getLatLng();\r\n    this._hintline = L.polyline([A, B], this.options.hintlineStyle);\r\n    this._hintline._pmTempLayer = true;\r\n    this._helperLayers.addLayer(this._hintline);\r\n  },\r\n  _createCenterMarker(latlng) {\r\n    const marker = this._createMarker(latlng);\r\n\r\n    L.DomUtil.addClass(marker._icon, 'leaflet-pm-draggable');\r\n    // TODO: switch back to move event once this leaflet issue is solved:\r\n    // https://github.com/Leaflet/Leaflet/issues/6492\r\n    marker.on('drag', this._moveCircle, this);\r\n    // marker.on('contextmenu', this._removeMarker, this);\r\n\r\n    return marker;\r\n  },\r\n  _createOuterMarker(latlng) {\r\n    const marker = this._createMarker(latlng);\r\n\r\n    marker.on('drag', this._resizeCircle, this);\r\n\r\n    return marker;\r\n  },\r\n  _createMarker(latlng) {\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: true,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n\r\n    marker._origLatLng = latlng;\r\n    marker._pmTempLayer = true;\r\n\r\n    marker.on('dragstart', this._onMarkerDragStart, this);\r\n    marker.on('dragend', this._onMarkerDragEnd, this);\r\n\r\n    this._helperLayers.addLayer(marker);\r\n\r\n    return marker;\r\n  },\r\n  _fireEdit() {\r\n    // fire edit event\r\n    this._layer.fire('pm:edit');\r\n    this._layerEdited = true;\r\n  },\r\n});\r\n","import Edit from './L.PM.Edit';\r\n\r\nEdit.CircleMarker = Edit.extend({\r\n  initialize(layer) {\r\n    this._layer = layer;\r\n    this._enabled = false;\r\n  },\r\n  applyOptions() {\r\n    if (this.options.draggable) {\r\n      this.enableLayerDrag();\r\n    } else {\r\n      this.disableLayerDrag();\r\n    }\r\n\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n    } else {\r\n      this._disableSnapping();\r\n    }\r\n\r\n    // enable removal for the marker\r\n    if (!this.options.preventMarkerRemoval) {\r\n      this._layer.on('contextmenu', this._removeMarker, this);\r\n    }\r\n  },\r\n  toggleEdit(options) {\r\n    if (!this.enabled()) {\r\n      this.enable(options);\r\n    } else {\r\n      this.disable();\r\n    }\r\n  },\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n  enable(options = { draggable: true, snappable: true }) {\r\n    L.Util.setOptions(this, options);\r\n\r\n    this._map = this._layer._map;\r\n\r\n    // cancel when map isn't available, this happens when the polygon is removed before this fires\r\n    if (!this._map) {\r\n      return;\r\n    }\r\n\r\n    if (!this.enabled()) {\r\n      // if it was already enabled, disable first\r\n      // we don't block enabling again because new options might be passed\r\n      this.disable();\r\n    }\r\n\r\n    this.applyOptions();\r\n\r\n    // change state\r\n    this._enabled = true;\r\n\r\n    this._layer.on('pm:dragend', this._onMarkerDragEnd, this);\r\n  },\r\n  disable(layer = this._layer) {\r\n    // prevent disabling if layer is being dragged\r\n    if (layer.pm._dragging) {\r\n      return false;\r\n    }\r\n\r\n    // disable dragging, as this could have been active even without being enabled\r\n    this.disableLayerDrag();\r\n\r\n    // only fire events if it was enabled before\r\n    if (!this.enabled()) {\r\n      this._layer.fire('pm:disable');\r\n\r\n      if (this._layerEdited) {\r\n        this._layer.fire('pm:update', {});\r\n      }\r\n      this._layerEdited = false;\r\n    }\r\n\r\n    layer.pm._enabled = false;\r\n\r\n    return true;\r\n  },\r\n  _moveMarker(e) {\r\n    const center = e.latlng;\r\n    this._layer.setLatLng(center).redraw();\r\n  },\r\n  _removeMarker() {\r\n    this._layer.fire('pm:remove');\r\n    this._layer.remove();\r\n  },\r\n  _fireEdit() {\r\n    // fire edit event\r\n    this._layer.fire('pm:edit');\r\n    this._layerEdited = true;\r\n  },\r\n  _onMarkerDragEnd(e) {\r\n    this._layer.fire('pm:markerdragend', {\r\n      markerEvent: e,\r\n    });\r\n\r\n    this._fireEdit();\r\n  },\r\n  // overwrite initSnappableMarkers from Snapping.js Mixin\r\n  _initSnappableMarkers() {\r\n    const marker = this._layer;\r\n\r\n    this.options.snapDistance = this.options.snapDistance || 30;\r\n\r\n    marker.off('pm:drag', this._handleSnapping, this);\r\n    marker.on('pm:drag', this._handleSnapping, this);\r\n\r\n    marker.off('pm:dragend', this._cleanupSnapping, this);\r\n    marker.on('pm:dragend', this._cleanupSnapping, this);\r\n\r\n    marker.off('pm:dragstart', this._unsnap, this);\r\n    marker.on('pm:dragstart', this._unsnap, this);\r\n  },\r\n  _disableSnapping() {\r\n    const marker = this._layer;\r\n\r\n    marker.off('pm:drag', this._handleSnapping, this);\r\n    marker.off('pm:dragend', this._cleanupSnapping, this);\r\n    marker.off('pm:dragstart', this._unsnap, this);\r\n  }\r\n});\r\n","import Edit from './L.PM.Edit';\r\n\r\n// LayerGroup doesn't inherit from L.PM.Edit because it's just calling L.PM.Edit.Polygon\r\n// (which inherits from L.PM.Edit) for each layer,\r\n// so it's not really a parent class\r\nEdit.LayerGroup = L.Class.extend({\r\n  initialize(layerGroup) {\r\n    this._layerGroup = layerGroup;\r\n    this._layers = this.findLayers();\r\n\r\n    // init all layers of the group\r\n    this._layers.forEach(layer => this._initLayer(layer));\r\n\r\n    // if a new layer is added to the group, reinitialize\r\n    // This only works for FeatureGroups, not LayerGroups\r\n    // https://github.com/Leaflet/Leaflet/issues/4861\r\n    this._layerGroup.on('layeradd', e => {\r\n      if (e.target._pmTempLayer) {\r\n        return;\r\n      }\r\n\r\n      this._layers = this.findLayers();\r\n      // init the newly added layer\r\n      if (e.layer.pm) {\r\n        this._initLayer(e.layer);\r\n      }\r\n      // if editing was already enabled for this group, enable it again\r\n      // so the new layers are enabled\r\n      if (e.target.pm.enabled()) {\r\n        this.enable(this.getOptions());\r\n      }\r\n    });\r\n\r\n    // if a layer is removed from the group, calc the layers list again\r\n    this._layerGroup.on('layerremove', e => {\r\n      if (e.target._pmTempLayer) {\r\n        return;\r\n      }\r\n\r\n      this._layers = this.findLayers();\r\n    })\r\n  },\r\n  findLayers() {\r\n    // get all layers of the layer group\r\n    let layers = this._layerGroup.getLayers();\r\n\r\n    // filter out layers that are no layerGroup\r\n    layers = layers.filter(layer => !(layer instanceof L.LayerGroup));\r\n\r\n    // filter out layers that don't have leaflet-geoman\r\n    layers = layers.filter(layer => !!layer.pm);\r\n\r\n    // filter out everything that's leaflet-geoman specific temporary stuff\r\n    layers = layers.filter(layer => !layer._pmTempLayer);\r\n\r\n    // return them\r\n    return layers;\r\n  },\r\n  _initLayer(layer) {\r\n    // available events\r\n    const availableEvents = [\r\n      'pm:edit',\r\n      'pm:update',\r\n      'pm:remove',\r\n      'pm:dragstart',\r\n      'pm:drag',\r\n      'pm:dragend',\r\n      'pm:snap',\r\n      'pm:unsnap',\r\n      'pm:cut',\r\n      'pm:intersect',\r\n      'pm:raiseMarkers',\r\n      'pm:markerdragend',\r\n      'pm:markerdragstart',\r\n      'pm:vertexadded',\r\n      'pm:vertexremoved',\r\n      'pm:centerplaced',\r\n    ];\r\n\r\n    // listen to the events of the layers in this group\r\n    availableEvents.forEach(event => {\r\n      layer.on(event, this._fireEvent, this);\r\n    });\r\n\r\n    // add reference for the group to each layer inside said group\r\n    layer.pm._layerGroup = this._layerGroup;\r\n  },\r\n  _fireEvent(e) {\r\n    this._layerGroup.fireEvent(e.type, e);\r\n  },\r\n  toggleEdit(options) {\r\n    this._options = options;\r\n    this._layers.forEach(layer => {\r\n      layer.pm.toggleEdit(options);\r\n    });\r\n  },\r\n  enable(options) {\r\n    this._options = options;\r\n    this._layers.forEach(layer => {\r\n      layer.pm.enable(options);\r\n    });\r\n  },\r\n  disable() {\r\n    this._layers.forEach(layer => {\r\n      layer.pm.disable();\r\n    });\r\n  },\r\n  enabled() {\r\n    const enabled = this._layers.find(layer => layer.pm.enabled());\r\n    return !!enabled;\r\n  },\r\n  dragging() {\r\n    const dragging = this._layers.find(layer => layer.pm.dragging());\r\n    return !!dragging;\r\n  },\r\n  getOptions() {\r\n    return this._options;\r\n  },\r\n});\r\n","import kinks from '@turf/kinks';\r\nimport get from 'lodash/get';\r\nimport Edit from './L.PM.Edit';\r\nimport Utils from '../L.PM.Utils';\r\nimport { isEmptyDeep } from '../helpers';\r\n\r\nimport MarkerLimits from '../Mixins/MarkerLimits';\r\n\r\n// Shit's getting complicated in here with Multipolygon Support. So here's a quick note about it:\r\n// Multipolygons with holes means lots of nested, multidimensional arrays.\r\n// In order to find a value inside such an array you need a path to adress it directly.\r\n// Example: var arr = [[['a', 'b'], ['c']]];\r\n// The indexPath to 'b' is [0, 0, 1]. The indexPath to 'c' is [0, 1, 0].\r\n// So I can get 'b' with: arr[0][0][1].\r\n// Got it? Now you know what is meant when you read \"indexPath\" around here. Have fun 👍\r\n\r\nEdit.Line = Edit.extend({\r\n  includes: [MarkerLimits],\r\n  initialize(layer) {\r\n    this._layer = layer;\r\n    this._enabled = false;\r\n  },\r\n\r\n  applyOptions() {\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n    } else {\r\n      this._disableSnapping();\r\n    }\r\n  },\r\n\r\n  toggleEdit(options) {\r\n    if (!this.enabled()) {\r\n      this.enable(options);\r\n    } else {\r\n      this.disable();\r\n    }\r\n\r\n    return this.enabled();\r\n  },\r\n\r\n  enable(options) {\r\n    L.Util.setOptions(this, options);\r\n\r\n    this._map = this._layer._map;\r\n\r\n    // cancel when map isn't available, this happens when the polygon is removed before this fires\r\n    if (!this._map) {\r\n      return;\r\n    }\r\n\r\n    if (!this.enabled()) {\r\n      // if it was already enabled, disable first\r\n      // we don't block enabling again because new options might be passed\r\n      this.disable();\r\n    }\r\n\r\n    // change state\r\n    this._enabled = true;\r\n\r\n    // init markers\r\n    this._initMarkers();\r\n\r\n    this.applyOptions();\r\n\r\n    // if polygon gets removed from map, disable edit mode\r\n    this._layer.on('remove', this._onLayerRemove, this);\r\n\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._layer.on(\r\n        'pm:vertexremoved',\r\n        this._handleSelfIntersectionOnVertexRemoval,\r\n        this\r\n      );\r\n    }\r\n\r\n    if (!this.options.allowSelfIntersection) {\r\n      this.cachedColor = this._layer.options.color;\r\n\r\n      this.isRed = false;\r\n      this._handleLayerStyle();\r\n    }\r\n  },\r\n\r\n  _onLayerRemove(e) {\r\n    this.disable(e.target);\r\n  },\r\n\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n\r\n  disable(poly = this._layer) {\r\n    // if it's not enabled, it doesn't need to be disabled\r\n    if (!this.enabled()) {\r\n      return false;\r\n    }\r\n\r\n    // prevent disabling if polygon is being dragged\r\n    if (poly.pm._dragging) {\r\n      return false;\r\n    }\r\n    poly.pm._enabled = false;\r\n    poly.pm._markerGroup.clearLayers();\r\n\r\n    // clean up draggable\r\n    poly.off('mousedown');\r\n    poly.off('mouseup');\r\n\r\n    // remove onRemove listener\r\n    this._layer.off('remove', this._onLayerRemove, this);\r\n\r\n\r\n\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._layer.off(\r\n        'pm:vertexremoved',\r\n        this._handleSelfIntersectionOnVertexRemoval\r\n      );\r\n    }\r\n\r\n    // remove draggable class\r\n    const el = poly._path ? poly._path : this._layer._renderer._container;\r\n    L.DomUtil.removeClass(el, 'leaflet-pm-draggable');\r\n\r\n    // remove invalid class if layer has self intersection\r\n    if (this.hasSelfIntersection()) {\r\n      L.DomUtil.removeClass(el, 'leaflet-pm-invalid');\r\n    }\r\n\r\n    this._layer.fire('pm:disable');\r\n\r\n    if (this._layerEdited) {\r\n      this._layer.fire('pm:update', {});\r\n    }\r\n    this._layerEdited = false;\r\n\r\n    return true;\r\n  },\r\n\r\n  hasSelfIntersection() {\r\n    // check for self intersection of the layer and return true/false\r\n    const selfIntersection = kinks(this._layer.toGeoJSON(15));\r\n    return selfIntersection.features.length > 0;\r\n  },\r\n\r\n  _handleSelfIntersectionOnVertexRemoval() {\r\n    // check for selfintersection again (mainly to reset the style)\r\n    this._handleLayerStyle(true);\r\n\r\n    if (this.hasSelfIntersection()) {\r\n      // reset coordinates\r\n      this._layer.setLatLngs(this._coordsBeforeEdit);\r\n      this._coordsBeforeEdit = null;\r\n\r\n      // re-enable markers for the new coords\r\n      this._initMarkers();\r\n    }\r\n  },\r\n\r\n  _handleLayerStyle(flash) {\r\n    const layer = this._layer;\r\n\r\n    if (this.hasSelfIntersection()) {\r\n      if (this.isRed) {\r\n        return;\r\n      }\r\n\r\n      // if it does self-intersect, mark or flash it red\r\n      if (flash) {\r\n        layer.setStyle({ color: 'red' });\r\n        this.isRed = true;\r\n\r\n        window.setTimeout(() => {\r\n          layer.setStyle({ color: this.cachedColor });\r\n          this.isRed = false;\r\n        }, 200);\r\n      } else {\r\n        layer.setStyle({ color: 'red' });\r\n        this.isRed = true;\r\n      }\r\n\r\n      // fire intersect event\r\n      this._layer.fire('pm:intersect', {\r\n        intersection: kinks(this._layer.toGeoJSON(15)),\r\n      });\r\n    } else {\r\n      // if not, reset the style to the default color\r\n      layer.setStyle({ color: this.cachedColor });\r\n      this.isRed = false;\r\n    }\r\n  },\r\n\r\n  _initMarkers() {\r\n    const map = this._map;\r\n    const coords = this._layer.getLatLngs();\r\n\r\n    // cleanup old ones first\r\n    if (this._markerGroup) {\r\n      this._markerGroup.clearLayers();\r\n    }\r\n\r\n    // add markerGroup to map, markerGroup includes regular and middle markers\r\n    this._markerGroup = new L.LayerGroup();\r\n    this._markerGroup._pmTempLayer = true;\r\n\r\n    // handle coord-rings (outer, inner, etc)\r\n    const handleRing = coordsArr => {\r\n      // if there is another coords ring, go a level deep and do this again\r\n      if (Array.isArray(coordsArr[0])) {\r\n        return coordsArr.map(handleRing, this);\r\n      }\r\n\r\n      // the marker array, it includes only the markers of vertexes (no middle markers)\r\n      const ringArr = coordsArr.map(this._createMarker, this);\r\n\r\n      // create small markers in the middle of the regular markers\r\n      coordsArr.map((v, k) => {\r\n        // find the next index fist\r\n        const nextIndex = this.isPolygon() ? (k + 1) % coordsArr.length : k + 1;\r\n        // create the marker\r\n        return this._createMiddleMarker(ringArr[k], ringArr[nextIndex]);\r\n      });\r\n\r\n      return ringArr;\r\n    };\r\n\r\n    // create markers\r\n    this._markers = handleRing(coords);\r\n\r\n    // handle possible limitation: maximum number of markers\r\n    this.filterMarkerGroup();\r\n\r\n    // add markerGroup to map\r\n    map.addLayer(this._markerGroup);\r\n  },\r\n\r\n  // creates initial markers for coordinates\r\n  _createMarker(latlng) {\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: true,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n\r\n    marker._pmTempLayer = true;\r\n\r\n    marker.on('dragstart', this._onMarkerDragStart, this);\r\n    marker.on('move', this._onMarkerDrag, this);\r\n    marker.on('dragend', this._onMarkerDragEnd, this);\r\n\r\n    if (!this.options.preventMarkerRemoval) {\r\n      marker.on('contextmenu', this._removeMarker, this);\r\n    }\r\n\r\n    this._markerGroup.addLayer(marker);\r\n\r\n    return marker;\r\n  },\r\n\r\n  // creates the middle markes between coordinates\r\n  _createMiddleMarker(leftM, rightM) {\r\n    // cancel if there are no two markers\r\n    if (!leftM || !rightM) {\r\n      return false;\r\n    }\r\n\r\n    const latlng = Utils.calcMiddleLatLng(\r\n      this._map,\r\n      leftM.getLatLng(),\r\n      rightM.getLatLng()\r\n    );\r\n\r\n    const middleMarker = this._createMarker(latlng);\r\n    const middleIcon = L.divIcon({\r\n      className: 'marker-icon marker-icon-middle',\r\n    });\r\n    middleMarker.setIcon(middleIcon);\r\n\r\n    // save reference to this middle markers on the neighboor regular markers\r\n    leftM._middleMarkerNext = middleMarker;\r\n    rightM._middleMarkerPrev = middleMarker;\r\n\r\n    middleMarker.on('click', () => {\r\n      // TODO: move the next two lines inside _addMarker() as soon as\r\n      // https://github.com/Leaflet/Leaflet/issues/4484\r\n      // is fixed\r\n      const icon = L.divIcon({ className: 'marker-icon' });\r\n      middleMarker.setIcon(icon);\r\n\r\n      this._addMarker(middleMarker, leftM, rightM);\r\n    });\r\n    middleMarker.on('movestart', () => {\r\n      // TODO: This is a workaround. Remove the moveend listener and\r\n      // callback as soon as this is fixed:\r\n      // https://github.com/Leaflet/Leaflet/issues/4484\r\n      middleMarker.on('moveend', () => {\r\n        const icon = L.divIcon({ className: 'marker-icon' });\r\n        middleMarker.setIcon(icon);\r\n\r\n        middleMarker.off('moveend');\r\n      });\r\n\r\n      this._addMarker(middleMarker, leftM, rightM);\r\n    });\r\n\r\n    return middleMarker;\r\n  },\r\n\r\n  // adds a new marker from a middlemarker\r\n  _addMarker(newM, leftM, rightM) {\r\n    // first, make this middlemarker a regular marker\r\n    newM.off('movestart');\r\n    newM.off('click');\r\n\r\n    // now, create the polygon coordinate point for that marker\r\n    // and push into marker array\r\n    // and associate polygon coordinate with marker coordinate\r\n    const latlng = newM.getLatLng();\r\n    const coords = this._layer._latlngs;\r\n\r\n    // the index path to the marker inside the multidimensional marker array\r\n    const { indexPath, index, parentPath } = this.findDeepMarkerIndex(\r\n      this._markers,\r\n      leftM\r\n    );\r\n\r\n    // define the coordsRing that is edited\r\n    const coordsRing = indexPath.length > 1 ? get(coords, parentPath) : coords;\r\n\r\n    // define the markers array that is edited\r\n    const markerArr =\r\n      indexPath.length > 1 ? get(this._markers, parentPath) : this._markers;\r\n\r\n    // add coordinate to coordinate array\r\n    coordsRing.splice(index + 1, 0, latlng);\r\n\r\n    // add marker to marker array\r\n    markerArr.splice(index + 1, 0, newM);\r\n\r\n    // set new latlngs to update polygon\r\n    this._layer.setLatLngs(coords);\r\n\r\n    // create the new middlemarkers\r\n    this._createMiddleMarker(leftM, newM);\r\n    this._createMiddleMarker(newM, rightM);\r\n\r\n    // fire edit event\r\n    this._fireEdit();\r\n\r\n    this._layer.fire('pm:vertexadded', {\r\n      layer: this._layer,\r\n      marker: newM,\r\n      indexPath: this.findDeepMarkerIndex(this._markers, newM).indexPath,\r\n      latlng,\r\n    });\r\n\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n    }\r\n  },\r\n\r\n  _removeMarker(e) {\r\n    // if self intersection isn't allowed, save the coords upon dragstart\r\n    // in case we need to reset the layer\r\n    if (!this.options.allowSelfIntersection) {\r\n      const c = this._layer.getLatLngs();\r\n      this._coordsBeforeEdit = JSON.parse(JSON.stringify(c));\r\n    }\r\n\r\n    // the marker that should be removed\r\n    const marker = e.target;\r\n\r\n    // coords of the layer\r\n    const coords = this._layer.getLatLngs();\r\n\r\n    // the index path to the marker inside the multidimensional marker array\r\n    const { indexPath, index, parentPath } = this.findDeepMarkerIndex(\r\n      this._markers,\r\n      marker\r\n    );\r\n\r\n    // only continue if this is NOT a middle marker (those can't be deleted)\r\n    if (!indexPath) {\r\n      return;\r\n    }\r\n\r\n    // define the coordsRing that is edited\r\n    const coordsRing = indexPath.length > 1 ? get(coords, parentPath) : coords;\r\n\r\n    // define the markers array that is edited\r\n    const markerArr =\r\n      indexPath.length > 1 ? get(this._markers, parentPath) : this._markers;\r\n\r\n    // remove coordinate\r\n    coordsRing.splice(index, 1);\r\n\r\n    // set new latlngs to the polygon\r\n    this._layer.setLatLngs(coords);\r\n\r\n    // if the ring of the poly has no coordinates left, remove the last coord too\r\n    if (coordsRing.length <= 1) {\r\n      coordsRing.splice(0, coordsRing.length);\r\n\r\n      // set new coords\r\n      this._layer.setLatLngs(coords);\r\n\r\n      // re-enable editing so unnecessary markers are removed\r\n      // TODO: kind of an ugly workaround maybe do it better?\r\n      this.disable();\r\n      this.enable(this.options);\r\n    }\r\n\r\n    // TODO: we may should remove all empty coord-rings here as well.\r\n\r\n    // if no coords are left, remove the layer\r\n    if (isEmptyDeep(coords)) {\r\n      this._layer.remove();\r\n    }\r\n\r\n    // now handle the middle markers\r\n    // remove the marker and the middlemarkers next to it from the map\r\n    if (marker._middleMarkerPrev) {\r\n      this._markerGroup.removeLayer(marker._middleMarkerPrev);\r\n    }\r\n    if (marker._middleMarkerNext) {\r\n      this._markerGroup.removeLayer(marker._middleMarkerNext);\r\n    }\r\n\r\n    // remove the marker from the map\r\n    this._markerGroup.removeLayer(marker);\r\n\r\n    let rightMarkerIndex;\r\n    let leftMarkerIndex;\r\n\r\n    if (this.isPolygon()) {\r\n      // find neighbor marker-indexes\r\n      rightMarkerIndex = (index + 1) % markerArr.length;\r\n      leftMarkerIndex = (index + (markerArr.length - 1)) % markerArr.length;\r\n    } else {\r\n      // find neighbor marker-indexes\r\n      leftMarkerIndex = index - 1 < 0 ? undefined : index - 1;\r\n      rightMarkerIndex = index + 1 >= markerArr.length ? undefined : index + 1;\r\n    }\r\n\r\n    // don't create middlemarkers if there is only one marker left\r\n    if (rightMarkerIndex !== leftMarkerIndex) {\r\n      const leftM = markerArr[leftMarkerIndex];\r\n      const rightM = markerArr[rightMarkerIndex];\r\n      this._createMiddleMarker(leftM, rightM);\r\n    }\r\n\r\n    // remove the marker from the markers array\r\n    markerArr.splice(index, 1);\r\n\r\n    // fire edit event\r\n    this._fireEdit();\r\n\r\n    // fire vertex removal event\r\n    this._layer.fire('pm:vertexremoved', {\r\n      layer: this._layer,\r\n      marker,\r\n      indexPath,\r\n      // TODO: maybe add latlng as well?\r\n    });\r\n  },\r\n  findDeepMarkerIndex(arr, marker) {\r\n    // thanks for the function, Felix Heck\r\n    let result;\r\n\r\n    const run = path => (v, i) => {\r\n      const iRes = path.concat(i);\r\n\r\n      if (v._leaflet_id === marker._leaflet_id) {\r\n        result = iRes;\r\n        return true;\r\n      }\r\n\r\n      return Array.isArray(v) && v.some(run(iRes));\r\n    };\r\n    arr.some(run([]));\r\n\r\n    let returnVal = {};\r\n\r\n    if (result) {\r\n      returnVal = {\r\n        indexPath: result,\r\n        index: result[result.length - 1],\r\n        parentPath: result.slice(0, result.length - 1),\r\n      };\r\n    }\r\n\r\n    return returnVal;\r\n  },\r\n  updatePolygonCoordsFromMarkerDrag(marker) {\r\n    // update polygon coords\r\n    const coords = this._layer.getLatLngs();\r\n\r\n    // get marker latlng\r\n    const latlng = marker.getLatLng();\r\n\r\n    // get indexPath of Marker\r\n    const { indexPath, index, parentPath } = this.findDeepMarkerIndex(\r\n      this._markers,\r\n      marker\r\n    );\r\n\r\n    // update coord\r\n    const parent = indexPath.length > 1 ? get(coords, parentPath) : coords;\r\n    parent.splice(index, 1, latlng);\r\n\r\n    // set new coords on layer\r\n    this._layer.setLatLngs(coords);\r\n  },\r\n\r\n  _onMarkerDrag(e) {\r\n    // dragged marker\r\n    const marker = e.target;\r\n\r\n    const { indexPath, index, parentPath } = this.findDeepMarkerIndex(\r\n      this._markers,\r\n      marker\r\n    );\r\n\r\n    // only continue if this is NOT a middle marker\r\n    if (!indexPath) {\r\n      return;\r\n    }\r\n\r\n    this.updatePolygonCoordsFromMarkerDrag(marker);\r\n\r\n    // the dragged markers neighbors\r\n    const markerArr =\r\n      indexPath.length > 1 ? get(this._markers, parentPath) : this._markers;\r\n\r\n    // find the indizes of next and previous markers\r\n    const nextMarkerIndex = (index + 1) % markerArr.length;\r\n    const prevMarkerIndex = (index + (markerArr.length - 1)) % markerArr.length;\r\n\r\n    // update middle markers on the left and right\r\n    // be aware that \"next\" and \"prev\" might be interchanged, depending on the geojson array\r\n    const markerLatLng = marker.getLatLng();\r\n\r\n    // get latlng of prev and next marker\r\n    const prevMarkerLatLng = markerArr[prevMarkerIndex].getLatLng();\r\n    const nextMarkerLatLng = markerArr[nextMarkerIndex].getLatLng();\r\n\r\n    if (marker._middleMarkerNext) {\r\n      const middleMarkerNextLatLng = Utils.calcMiddleLatLng(\r\n        this._map,\r\n        markerLatLng,\r\n        nextMarkerLatLng\r\n      );\r\n      marker._middleMarkerNext.setLatLng(middleMarkerNextLatLng);\r\n    }\r\n\r\n    if (marker._middleMarkerPrev) {\r\n      const middleMarkerPrevLatLng = Utils.calcMiddleLatLng(\r\n        this._map,\r\n        markerLatLng,\r\n        prevMarkerLatLng\r\n      );\r\n      marker._middleMarkerPrev.setLatLng(middleMarkerPrevLatLng);\r\n    }\r\n\r\n    // if self intersection is not allowed, handle it\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._handleLayerStyle();\r\n    }\r\n  },\r\n\r\n  _onMarkerDragEnd(e) {\r\n    const marker = e.target;\r\n    const { indexPath } = this.findDeepMarkerIndex(this._markers, marker);\r\n\r\n    // if self intersection is not allowed but this edit caused a self intersection,\r\n    // reset and cancel; do not fire events\r\n    if (!this.options.allowSelfIntersection && this.hasSelfIntersection()) {\r\n      // reset coordinates\r\n      this._layer.setLatLngs(this._coordsBeforeEdit);\r\n      this._coordsBeforeEdit = null;\r\n\r\n      // re-enable markers for the new coords\r\n      this._initMarkers();\r\n\r\n      // check for selfintersection again (mainly to reset the style)\r\n      this._handleLayerStyle();\r\n      return;\r\n    }\r\n\r\n    this._layer.fire('pm:markerdragend', {\r\n      markerEvent: e,\r\n      indexPath,\r\n    });\r\n\r\n    // fire edit event\r\n    this._fireEdit();\r\n  },\r\n  _onMarkerDragStart(e) {\r\n    const marker = e.target;\r\n    const { indexPath } = this.findDeepMarkerIndex(this._markers, marker);\r\n\r\n    this._layer.fire('pm:markerdragstart', {\r\n      markerEvent: e,\r\n      indexPath,\r\n    });\r\n\r\n    // if self intersection isn't allowed, save the coords upon dragstart\r\n    // in case we need to reset the layer\r\n    if (!this.options.allowSelfIntersection) {\r\n      this._coordsBeforeEdit = this._layer.getLatLngs();\r\n    }\r\n\r\n    this.cachedColor = this._layer.options.color;\r\n  },\r\n\r\n  _fireEdit() {\r\n    // fire edit event\r\n    this._layerEdited = true;\r\n    this._layer.fire('pm:edit');\r\n  },\r\n});\r\n","import Edit from './L.PM.Edit';\r\n\r\nEdit.Marker = Edit.extend({\r\n  initialize(layer) {\r\n    // layer is a marker in this case :-)\r\n    this._layer = layer;\r\n    this._enabled = false;\r\n\r\n    // register dragend event e.g. to fire pm:edit\r\n    this._layer.on('dragend', this._onDragEnd, this);\r\n  },\r\n\r\n  applyOptions() {\r\n    // console.log('apply options', this.options)\r\n\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n    } else {\r\n      this._disableSnapping();\r\n    }\r\n\r\n    if (this.options.draggable) {\r\n      this._layer.dragging.enable();\r\n    }\r\n\r\n    // enable removal for the marker\r\n    if (!this.options.preventMarkerRemoval) {\r\n      this._layer.on('contextmenu', this._removeMarker, this);\r\n    }\r\n  },\r\n\r\n  toggleEdit(options) {\r\n    if (!this.enabled()) {\r\n      this.enable(options);\r\n    } else {\r\n      this.disable();\r\n    }\r\n  },\r\n\r\n  enable(options = { draggable: true }) {\r\n    L.Util.setOptions(this, options);\r\n\r\n    this._map = this._layer._map;\r\n\r\n    if (this.enabled()) {\r\n      return;\r\n    }\r\n    this._enabled = true;\r\n\r\n    this.applyOptions();\r\n  },\r\n\r\n  enabled() {\r\n    return this._enabled;\r\n  },\r\n\r\n  disable() {\r\n    this._enabled = false;\r\n\r\n    // disable dragging and removal for the marker\r\n    if (this._layer.dragging) {\r\n      this._layer.dragging.disable();\r\n    }\r\n\r\n    this._layer.off('contextmenu', this._removeMarker, this);\r\n\r\n    this._layer.off('dragstart', this._onPinnedMarkerDragStart, this);\r\n\r\n    this._layer.fire('pm:disable');\r\n\r\n    if (this._layerEdited) {\r\n      this._layer.fire('pm:update', {});\r\n    }\r\n    this._layerEdited = false;\r\n  },\r\n  _removeMarker(e) {\r\n    const marker = e.target;\r\n    marker.remove();\r\n    // TODO: find out why this is fired manually, shouldn't it be catched by L.PM.Map 'layerremove'?\r\n    marker.fire('pm:remove');\r\n  },\r\n  _onDragEnd(e) {\r\n    const marker = e.target;\r\n\r\n    // fire the pm:edit event and pass shape and marker\r\n    marker.fire('pm:edit');\r\n    this._layerEdited = true;\r\n  },\r\n  // overwrite initSnappableMarkers from Snapping.js Mixin\r\n  _initSnappableMarkers() {\r\n    const marker = this._layer;\r\n\r\n    this.options.snapDistance = this.options.snapDistance || 30;\r\n\r\n    marker.off('drag', this._handleSnapping, this);\r\n    marker.on('drag', this._handleSnapping, this);\r\n\r\n    marker.off('dragend', this._cleanupSnapping, this);\r\n    marker.on('dragend', this._cleanupSnapping, this);\r\n\r\n    marker.off('pm:dragstart', this._unsnap, this);\r\n    marker.on('pm:dragstart', this._unsnap, this);\r\n  },\r\n  _disableSnapping() {\r\n    const marker = this._layer;\r\n    marker.off('drag', this._handleSnapping, this);\r\n    marker.off('dragend', this._cleanupSnapping, this);\r\n    marker.off('pm:dragstart', this._unsnap, this);\r\n  }\r\n});\r\n","import Edit from './L.PM.Edit';\r\n\r\nEdit.Polygon = Edit.Line.extend({\r\n  // this is a bit weird but... Polygons are completely supported by L.PM.Edit.Line now 😲.\r\n  // I'll keep this class in case there is something Polygon-specific that we'd need in the future.\r\n});\r\n","// Corner detection based on Leaflet Draw's Edit.Rectangle.js Class:\r\n// https://github.com/Leaflet/Leaflet.draw/blob/master/src/edit/handler/Edit.Rectangle.js\r\n\r\nimport Edit from './L.PM.Edit';\r\n\r\nEdit.Rectangle = Edit.Polygon.extend({\r\n  // initializes Rectangle Markers\r\n  _initMarkers() {\r\n    const map = this._map;\r\n    const corners = this._findCorners();\r\n\r\n    // cleanup old ones first\r\n    if (this._markerGroup) {\r\n      this._markerGroup.clearLayers();\r\n    }\r\n\r\n    // add markerGroup to map, markerGroup includes regular and middle markers\r\n    this._markerGroup = new L.LayerGroup();\r\n    this._markerGroup._pmTempLayer = true;\r\n    map.addLayer(this._markerGroup);\r\n\r\n    // create markers for four corners of rectangle\r\n    this._markers = [];\r\n\r\n    // nest set of corner markers in a 2D array so that we can Cut this Rectangle, if needed\r\n    this._markers[0] = corners.map(this._createMarker, this);\r\n\r\n    // convenience alias, for better readability\r\n    [this._cornerMarkers] = this._markers;\r\n\r\n    if (this.options.snappable) {\r\n      this._initSnappableMarkers();\r\n    }\r\n  },\r\n\r\n  // creates initial markers for coordinates\r\n  _createMarker(latlng, index) {\r\n    const marker = new L.Marker(latlng, {\r\n      draggable: true,\r\n      icon: L.divIcon({ className: 'marker-icon' }),\r\n    });\r\n\r\n    marker._origLatLng = latlng;\r\n    marker._index = index;\r\n    marker._pmTempLayer = true;\r\n\r\n    marker.on('dragstart', this._onMarkerDragStart, this);\r\n    marker.on('drag', this._onMarkerDrag, this);\r\n    marker.on('dragend', this._onMarkerDragEnd, this);\r\n    marker.on('pm:snap', this._adjustRectangleForMarkerSnap, this);\r\n    if (!this.options.preventMarkerRemoval) {\r\n      marker.on('contextmenu', this._removeMarker, this);\r\n    }\r\n    this._markerGroup.addLayer(marker);\r\n\r\n    return marker;\r\n  },\r\n\r\n  // Empty callback for 'contextmenu' binding set in L.PM.Edit.Line.js's _createMarker method (AKA, right-click on marker event)\r\n  // (A Rectangle is designed to always remain a \"true\" rectangle -- if you want it editable, use Polygon Tool instead!!!)\r\n  _removeMarker() {\r\n    // The method, it does nothing!!!\r\n    return null;\r\n  },\r\n\r\n  _onMarkerDragStart(e) {\r\n    // dragged marker\r\n    const draggedMarker = e.target;\r\n\r\n    // Store/update a reference to marker in opposite corner\r\n    const corners = this._findCorners();\r\n    draggedMarker._oppositeCornerLatLng =\r\n      corners[(draggedMarker._index + 2) % 4];\r\n\r\n    // Automatically unsnap all markers on drag start (they'll snap back if close enough to another snappable object)\r\n    // (Without this, it's occasionally possible for a marker to get stuck as 'snapped,' which prevents Rectangle resizing)\r\n    draggedMarker._snapped = false;\r\n\r\n    this._layer.fire('pm:markerdragstart', {\r\n      markerEvent: e,\r\n    });\r\n  },\r\n\r\n  _onMarkerDrag(e) {\r\n    // dragged marker\r\n    const draggedMarker = e.target;\r\n\r\n    // only continue if this is NOT a middle marker (should NEVER be one, but this is just a safety check)\r\n    if (draggedMarker._index === undefined) {\r\n      return;\r\n    }\r\n\r\n    // If marker is currently snapped to an object, then ignore all drag events (as this resets rectangle shape)\r\n    if (!draggedMarker._snapped) {\r\n      this._adjustRectangleForMarkerMove(draggedMarker);\r\n    }\r\n  },\r\n\r\n  _onMarkerDragEnd(e) {\r\n    const corners = this._findCorners();\r\n\r\n    // Reposition ALL markers (so that indices are correctly correlated with corner order (NW, NE, SE, SW))\r\n    this._adjustAllMarkers(corners);\r\n\r\n    // Clean-up data attributes\r\n    this._cornerMarkers.forEach(m => {\r\n      delete m._oppositeCornerLatLng;\r\n    });\r\n\r\n    // Update bounding box\r\n    this._layer.setLatLngs(corners);\r\n\r\n    this._layer.fire('pm:markerdragend', {\r\n      markerEvent: e,\r\n    });\r\n\r\n    // fire edit event\r\n    this._fireEdit();\r\n  },\r\n\r\n  // adjusts the rectangle's size and bounds whenever a marker is moved\r\n  // params: movedMarker -- the Marker object\r\n  _adjustRectangleForMarkerMove(movedMarker) {\r\n    // update moved marker coordinates\r\n    L.extend(movedMarker._origLatLng, movedMarker._latlng);\r\n\r\n    // update rectangle boundaries, based on moved marker's new LatLng and cached opposite corner's LatLng\r\n    const movedLatLng = movedMarker.getLatLng();\r\n    this._layer.setBounds(\r\n      L.latLngBounds(movedLatLng, movedMarker._oppositeCornerLatLng)\r\n    );\r\n\r\n    // Reposition the markers at each corner\r\n    this._adjustAdjacentMarkers(movedMarker);\r\n\r\n    // Redraw the shape (to update altered rectangle)\r\n    this._layer.redraw();\r\n  },\r\n\r\n  // adjusts the rectangle's size and bounds whenever a marker snaps to another polygon\r\n  // params: e -- the snap event\r\n  _adjustRectangleForMarkerSnap(e) {\r\n    if (!this.options.snappable) {\r\n      return;\r\n    }\r\n\r\n    const snappedMarker = e.target;\r\n    this._adjustRectangleForMarkerMove(snappedMarker);\r\n  },\r\n\r\n  // adjusts the position of all Markers\r\n  // params: markerLatLngs -- an array of exactly LatLng objects\r\n  _adjustAllMarkers(markerLatLngs) {\r\n    if (!markerLatLngs.length || markerLatLngs.length !== 4) {\r\n      /* eslint-disable-next-line no-console */\r\n      console.error(\r\n        '_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates'\r\n      );\r\n      return;\r\n    }\r\n\r\n    this._cornerMarkers.forEach((marker, index) => {\r\n      marker.setLatLng(markerLatLngs[index]);\r\n    });\r\n  },\r\n\r\n  // adjusts the position of the two Markers adjacent to the Marker specified\r\n  // params: anchorMarker -- the Marker object used to determine adjacent Markers\r\n  _adjustAdjacentMarkers(anchorMarker) {\r\n    if (\r\n      !anchorMarker ||\r\n      !anchorMarker.getLatLng ||\r\n      !anchorMarker._oppositeCornerLatLng\r\n    ) {\r\n      /* eslint-disable-next-line no-console */\r\n      console.error('_adjustAdjacentMarkers() requires a valid Marker object');\r\n      return;\r\n    }\r\n\r\n    const anchorLatLng = anchorMarker.getLatLng();\r\n    const oppositeLatLng = anchorMarker._oppositeCornerLatLng;\r\n\r\n    // Find two corners not currently occupied by dragged marker and its opposite corner\r\n    const unmarkedCorners = [];\r\n    const corners = this._findCorners();\r\n\r\n    corners.forEach(corner => {\r\n      if (!corner.equals(anchorLatLng) && !corner.equals(oppositeLatLng)) {\r\n        unmarkedCorners.push(corner);\r\n      }\r\n    });\r\n\r\n    // reposition markers for those corners\r\n    let unmarkedCornerIndex = 0;\r\n    if (unmarkedCorners.length === 2) {\r\n      this._cornerMarkers.forEach(marker => {\r\n        const markerLatLng = marker.getLatLng();\r\n        if (\r\n          !markerLatLng.equals(anchorLatLng) &&\r\n          !markerLatLng.equals(oppositeLatLng)\r\n        ) {\r\n          marker.setLatLng(unmarkedCorners[unmarkedCornerIndex]);\r\n          unmarkedCornerIndex += 1;\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  // finds the 4 corners of the current bounding box\r\n  // returns array of 4 LatLng objects in this order: Northwest corner, Northeast corner, Southeast corner, Southwest corner\r\n  _findCorners() {\r\n    const corners = this._layer.getBounds();\r\n\r\n    const northwest = corners.getNorthWest();\r\n    const northeast = corners.getNorthEast();\r\n    const southeast = corners.getSouthEast();\r\n    const southwest = corners.getSouthWest();\r\n\r\n    return [northwest, northeast, southeast, southwest];\r\n  },\r\n});\r\n","import SnapMixin from '../Mixins/Snapping';\r\nimport DragMixin from '../Mixins/Dragging';\r\n\r\nconst Edit = L.Class.extend({\r\n  includes: [DragMixin, SnapMixin],\r\n  options: {\r\n    snappable: true,\r\n    snapDistance: 20,\r\n    allowSelfIntersection: true,\r\n    draggable: true,\r\n    limitMarkersToCount: -1\r\n  },\r\n  setOptions(options) {\r\n    L.Util.setOptions(this, options);\r\n  },\r\n  applyOptions() { },\r\n  isPolygon() {\r\n    // if it's a polygon, it means the coordinates array is multi dimensional\r\n    return this._layer instanceof L.Polygon;\r\n  },\r\n});\r\n\r\nexport default Edit;\r\n","\r\nimport merge from 'lodash/merge';\r\nimport translations from '../assets/translations';\r\nimport Utils from './L.PM.Utils'\r\n\r\nimport GlobalEditMode from './Mixins/Modes/Mode.Edit';\r\nimport GlobalDragMode from './Mixins/Modes/Mode.Drag';\r\nimport GlobalRemovalMode from './Mixins/Modes/Mode.Removal';\r\n\r\nconst { findLayers } = Utils\r\n\r\nconst Map = L.Class.extend({\r\n  includes: [GlobalEditMode, GlobalDragMode, GlobalRemovalMode],\r\n  initialize(map) {\r\n    this.map = map;\r\n    this.Draw = new L.PM.Draw(map);\r\n    this.Toolbar = new L.PM.Toolbar(map);\r\n\r\n    this._globalRemovalMode = false;\r\n\r\n    this.globalOptions = {\r\n      snappable: true,\r\n    };\r\n  },\r\n  setLang(lang = 'en', t, fallback = 'en') {\r\n    if (t) {\r\n      translations[lang] = merge(translations[fallback], t);\r\n    }\r\n\r\n    L.PM.activeLang = lang;\r\n    this.map.pm.Toolbar.reinit();\r\n  },\r\n  addControls(options) {\r\n    this.Toolbar.addControls(options);\r\n  },\r\n  removeControls() {\r\n    this.Toolbar.removeControls();\r\n  },\r\n  toggleControls() {\r\n    this.Toolbar.toggleControls();\r\n  },\r\n  controlsVisible() {\r\n    return this.Toolbar.isVisible;\r\n  },\r\n  enableDraw(shape = 'Polygon', options) {\r\n    // backwards compatible, remove after 3.0\r\n    if (shape === 'Poly') {\r\n      shape = 'Polygon';\r\n    }\r\n\r\n    this.Draw.enable(shape, options);\r\n  },\r\n  disableDraw(shape = 'Polygon') {\r\n    // backwards compatible, remove after 3.0\r\n    if (shape === 'Poly') {\r\n      shape = 'Polygon';\r\n    }\r\n\r\n    this.Draw.disable(shape);\r\n  },\r\n  setPathOptions(options) {\r\n    this.Draw.setPathOptions(options);\r\n  },\r\n\r\n  getGlobalOptions() {\r\n    return this.globalOptions;\r\n  },\r\n  setGlobalOptions(o) {\r\n    // merge passed and existing options\r\n    const options = {\r\n      ...this.globalOptions,\r\n      ...o\r\n    };\r\n\r\n    // enable options for Drawing Shapes\r\n    this.map.pm.Draw.shapes.forEach(shape => {\r\n      this.map.pm.Draw[shape].setOptions(options)\r\n    })\r\n\r\n    // enable options for Editing\r\n    const layers = findLayers(this.map);\r\n    layers.forEach(layer => {\r\n      layer.pm.setOptions(options);\r\n    });\r\n\r\n    // apply the options (actually trigger the functionality)\r\n    this.applyGlobalOptions();\r\n\r\n    // store options\r\n    this.globalOptions = options;\r\n  },\r\n  applyGlobalOptions() {\r\n    const layers = findLayers(this.map);\r\n    layers.forEach(layer => {\r\n      if (layer.pm.enabled()) {\r\n        layer.pm.applyOptions();\r\n      }\r\n    });\r\n  },\r\n});\r\n\r\nexport default Map;\r\n","const Utils = {\r\n  calcMiddleLatLng(map, latlng1, latlng2) {\r\n    // calculate the middle coordinates between two markers\r\n\r\n    const p1 = map.project(latlng1);\r\n    const p2 = map.project(latlng2);\r\n\r\n    return map.unproject(p1._add(p2)._divideBy(2));\r\n  },\r\n  findLayers(map) {\r\n    let layers = [];\r\n    map.eachLayer(layer => {\r\n      if (\r\n        layer instanceof L.Polyline ||\r\n        layer instanceof L.Marker ||\r\n        layer instanceof L.Circle ||\r\n        layer instanceof L.CircleMarker\r\n      ) {\r\n        layers.push(layer);\r\n      }\r\n    });\r\n\r\n    // filter out layers that don't have the leaflet-geoman instance\r\n    layers = layers.filter(layer => !!layer.pm);\r\n\r\n    // filter out everything that's leaflet-geoman specific temporary stuff\r\n    layers = layers.filter(layer => !layer._pmTempLayer);\r\n\r\n    return layers;\r\n  },\r\n};\r\n\r\nexport default Utils;\r\n","/* A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0\r\n * Copyright (C) Geoman.io and Sumit Kumar - All Rights Reserved\r\n * Unauthorized copying of this file, via any medium is strictly prohibited\r\n * Proprietary and confidential\r\n * Written by Sumit Kumar <sumit@geoman.io>, January 2020\r\n * Twitter: @TweetsOfSumit\r\n * OSS Repo: https://github.com/geoman-io/leaflet-geoman\r\n * Get Pro: https://geoman.io/leaflet-geoman#pro\r\n */\r\n\r\nimport './polyfills';\r\nimport { version } from '../../package.json';\r\n\r\nimport Map from './L.PM.Map';\r\nimport Toolbar from './Toolbar/L.PM.Toolbar';\r\n\r\nimport Draw from './Draw/L.PM.Draw';\r\nimport './Draw/L.PM.Draw.Marker';\r\nimport './Draw/L.PM.Draw.Line';\r\nimport './Draw/L.PM.Draw.Polygon';\r\nimport './Draw/L.PM.Draw.Rectangle';\r\nimport './Draw/L.PM.Draw.Circle';\r\nimport './Draw/L.PM.Draw.CircleMarker';\r\nimport './Draw/L.PM.Draw.Cut';\r\n\r\nimport Edit from './Edit/L.PM.Edit';\r\nimport './Edit/L.PM.Edit.LayerGroup';\r\nimport './Edit/L.PM.Edit.Marker';\r\nimport './Edit/L.PM.Edit.Line';\r\nimport './Edit/L.PM.Edit.Polygon';\r\nimport './Edit/L.PM.Edit.Rectangle';\r\nimport './Edit/L.PM.Edit.Circle';\r\nimport './Edit/L.PM.Edit.CircleMarker';\r\n\r\nimport '../css/layers.css';\r\nimport '../css/controls.css';\r\n\r\nL.PM = L.PM || {\r\n  version,\r\n  Map,\r\n  Toolbar,\r\n  Draw,\r\n  Edit,\r\n  activeLang: 'en',\r\n  initialize(options) {\r\n    this.addInitHooks(options);\r\n  },\r\n  addInitHooks(options = {}) {\r\n\r\n    function initMap() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Map(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Map(this);\r\n      }\r\n    }\r\n\r\n    L.Map.addInitHook(initMap);\r\n\r\n    function initLayerGroup() {\r\n      // doesn't need pmIgnore condition as the init hook of the individual layers will check it\r\n      this.pm = new L.PM.Edit.LayerGroup(this);\r\n    }\r\n\r\n    L.LayerGroup.addInitHook(initLayerGroup);\r\n\r\n    function initMarker() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.Marker(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.Marker(this);\r\n      }\r\n    }\r\n\r\n    L.Marker.addInitHook(initMarker);\r\n\r\n    function initCircleMarker() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.CircleMarker(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.CircleMarker(this);\r\n      }\r\n    }\r\n    L.CircleMarker.addInitHook(initCircleMarker);\r\n\r\n\r\n    function initPolyline() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.Line(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.Line(this);\r\n      }\r\n    }\r\n\r\n    L.Polyline.addInitHook(initPolyline);\r\n\r\n    function initPolygon() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.Polygon(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.Polygon(this);\r\n      }\r\n\r\n    }\r\n\r\n    L.Polygon.addInitHook(initPolygon);\r\n\r\n    function initRectangle() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.Rectangle(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.Rectangle(this);\r\n      }\r\n    }\r\n\r\n    L.Rectangle.addInitHook(initRectangle);\r\n\r\n    function initCircle() {\r\n      this.pm = undefined;\r\n\r\n      if (options.optIn) {\r\n        if (this.options.pmIgnore === false) {\r\n          this.pm = new L.PM.Edit.Circle(this);\r\n        }\r\n      } else if (!this.options.pmIgnore) {\r\n        this.pm = new L.PM.Edit.Circle(this);\r\n      }\r\n    }\r\n\r\n    L.Circle.addInitHook(initCircle);\r\n  },\r\n};\r\n\r\n// initialize leaflet-geoman\r\nL.PM.initialize();\r\n","const DragMixin = {\r\n  enableLayerDrag() {\r\n    // before enabling layer drag, disable layer editing\r\n    this.disable();\r\n\r\n    if (this._layer instanceof L.Marker) {\r\n      this._layer.dragging.enable();\r\n      return;\r\n    }\r\n\r\n    // temporary coord variable for delta calculation\r\n    this._tempDragCoord = null;\r\n\r\n    // add CSS class\r\n    const el = this._layer._path\r\n      ? this._layer._path\r\n      : this._layer._renderer._container;\r\n    L.DomUtil.addClass(el, 'leaflet-pm-draggable');\r\n\r\n    this._originalMapDragState = this._layer._map.dragging._enabled;\r\n\r\n    // can we reliably save the map's draggable state?\r\n    // (if the mouse up event happens outside the container, then the map can become undraggable)\r\n    this._safeToCacheDragState = true;\r\n\r\n    // add mousedown event to trigger drag\r\n    this._layer.on('mousedown', this._dragMixinOnMouseDown, this);\r\n  },\r\n  disableLayerDrag() {\r\n    if (this._layer instanceof L.Marker) {\r\n      this._layer.dragging.disable();\r\n      return;\r\n    }\r\n\r\n    // remove CSS class\r\n    const el = this._layer._path\r\n      ? this._layer._path\r\n      : this._layer._renderer._container;\r\n    L.DomUtil.removeClass(el, 'leaflet-pm-draggable');\r\n\r\n    // no longer save the drag state\r\n    this._safeToCacheDragState = false;\r\n\r\n    // disable mousedown event\r\n    this._layer.off('mousedown', this._dragMixinOnMouseDown, this);\r\n  },\r\n  _dragMixinOnMouseUp() {\r\n    const el = this._layer._path\r\n      ? this._layer._path\r\n      : this._layer._renderer._container;\r\n\r\n    // re-enable map drag\r\n    if (this._originalMapDragState) {\r\n      this._layer._map.dragging.enable();\r\n    }\r\n\r\n    // if mouseup event fired, it's safe to cache the map draggable state on the next mouse down\r\n    this._safeToCacheDragState = true;\r\n\r\n    // clear up mousemove event\r\n    this._layer._map.off('mousemove', this._dragMixinOnMouseMove, this);\r\n\r\n    // clear up mouseup event\r\n    this._layer._map.off('mouseup', this._dragMixinOnMouseUp, this);\r\n\r\n    // if no drag happened, don't do anything\r\n    if (!this._dragging) {\r\n      return false;\r\n    }\r\n\r\n    // timeout to prevent click event after drag :-/\r\n    // TODO: do it better as soon as leaflet has a way to do it better :-)\r\n    window.setTimeout(() => {\r\n      // set state\r\n      this._dragging = false;\r\n      L.DomUtil.removeClass(el, 'leaflet-pm-dragging');\r\n\r\n      // fire pm:dragend event\r\n      this._layer.fire('pm:dragend');\r\n\r\n      // fire edit\r\n      this._fireEdit();\r\n    }, 10);\r\n\r\n    return true;\r\n  },\r\n  _dragMixinOnMouseMove(e) {\r\n    const el = this._layer._path\r\n      ? this._layer._path\r\n      : this._layer._renderer._container;\r\n\r\n    if (!this._dragging) {\r\n      // set state\r\n      this._dragging = true;\r\n      L.DomUtil.addClass(el, 'leaflet-pm-dragging');\r\n\r\n      // bring it to front to prevent drag interception\r\n      this._layer.bringToFront();\r\n\r\n      // disbale map drag\r\n      if (this._originalMapDragState) {\r\n        this._layer._map.dragging.disable();\r\n      }\r\n\r\n      // fire pm:dragstart event\r\n      this._layer.fire('pm:dragstart');\r\n    }\r\n\r\n    this._onLayerDrag(e);\r\n  },\r\n  _dragMixinOnMouseDown(e) {\r\n    // cancel if mouse button is NOT the left button\r\n    if (e.originalEvent.button > 0) {\r\n      return;\r\n    }\r\n    // save current map dragging state\r\n    if (this._safeToCacheDragState) {\r\n      this._originalMapDragState = this._layer._map.dragging._enabled;\r\n\r\n      // don't cache the state again until another mouse up is registered\r\n      this._safeToCacheDragState = false;\r\n    }\r\n\r\n    // save for delta calculation\r\n    this._tempDragCoord = e.latlng;\r\n\r\n    this._layer._map.on('mouseup', this._dragMixinOnMouseUp, this);\r\n\r\n    // listen to mousemove on map (instead of polygon),\r\n    // otherwise fast mouse movements stop the drag\r\n    this._layer._map.on('mousemove', this._dragMixinOnMouseMove, this);\r\n  },\r\n  dragging() {\r\n    return this._dragging;\r\n  },\r\n  _onLayerDrag(e) {\r\n    // latLng of mouse event\r\n    const { latlng } = e;\r\n\r\n    // delta coords (how far was dragged)\r\n    const deltaLatLng = {\r\n      lat: latlng.lat - this._tempDragCoord.lat,\r\n      lng: latlng.lng - this._tempDragCoord.lng,\r\n    };\r\n\r\n    // move the coordinates by the delta\r\n    const moveCoords = coords =>\r\n      // alter the coordinates\r\n      coords.map(currentLatLng => {\r\n        if (Array.isArray(currentLatLng)) {\r\n          // do this recursively as coords might be nested\r\n          return moveCoords(currentLatLng);\r\n        }\r\n\r\n        // move the coord and return it\r\n        return {\r\n          lat: currentLatLng.lat + deltaLatLng.lat,\r\n          lng: currentLatLng.lng + deltaLatLng.lng,\r\n        };\r\n      });\r\n\r\n    if (this._layer instanceof L.CircleMarker) {\r\n      // set new coordinates and redraw\r\n      this._layer.setLatLng(latlng);\r\n    } else {\r\n      // create the new coordinates array\r\n      const newCoords = moveCoords(this._layer.getLatLngs());\r\n\r\n      // set new coordinates and redraw\r\n      this._layer.setLatLngs(newCoords);\r\n    }\r\n\r\n    // save current latlng for next delta calculation\r\n    this._tempDragCoord = latlng;\r\n\r\n    // fire pm:dragstart event\r\n    this._layer.fire('pm:drag', e);\r\n  },\r\n};\r\n\r\nexport default DragMixin;\r\n","const MarkerLimits = {\r\n  filterMarkerGroup() {\r\n    // don't do it if the option is disabled\r\n\r\n    // define cache\r\n    this.markerCache = [];\r\n    this.createCache();\r\n\r\n    // refresh cache when layer was edited (e.g. when a vertex was added or removed)\r\n    this._layer.on('pm:edit', this.createCache, this)\r\n\r\n\r\n\r\n    // apply filter for the first time\r\n    this.applyLimitFilters({});\r\n\r\n    // remove events when edit mode is disabled\r\n    this._layer.on('pm:disable', this._removeMarkerLimitEvents, this);\r\n\r\n\r\n    // add markers closest to the mouse\r\n    if (this.options.limitMarkersToCount > -1) {\r\n      // re-init markers when a vertex is removed. \r\n      // The reason is that syncing this cache with a removed marker was impossible to do\r\n      this._layer.on('pm:vertexremoved', this._initMarkers, this)\r\n\r\n      this._map.on('mousemove', this.applyLimitFilters, this);\r\n    }\r\n  },\r\n  _removeMarkerLimitEvents() {\r\n    this._map.off('mousemove', this.applyLimitFilters, this);\r\n    this._layer.off('pm:edit', this.createCache, this)\r\n    this._layer.off('pm:disable', this._removeMarkerLimitEvents, this);\r\n    this._layer.off('pm:vertexremoved', this._initMarkers, this)\r\n  },\r\n  createCache() {\r\n    const allMarkers = [...this._markerGroup.getLayers(), ...this.markerCache];\r\n    this.markerCache = allMarkers.filter((v, i, s) => s.indexOf(v) === i);\r\n  },\r\n  renderLimits(markers) {\r\n    this.markerCache.forEach((l) => {\r\n      if (markers.includes(l)) {\r\n        this._markerGroup.addLayer(l)\r\n      } else {\r\n        this._markerGroup.removeLayer(l)\r\n      }\r\n    })\r\n  },\r\n  applyLimitFilters({ latlng = { lat: 0, lng: 0 } }) {\r\n    // find markers near the cursor\r\n    const makersNearCursor = this._filterClosestMarkers(latlng)\r\n\r\n    // all markers that we want to show\r\n    const markersToAdd = [...makersNearCursor];\r\n\r\n    this.renderLimits(markersToAdd);\r\n  },\r\n  _filterClosestMarkers(latlng) {\r\n    const markers = [...this.markerCache];\r\n    const limit = this.options.limitMarkersToCount;\r\n\r\n    // sort markers by distance to cursor\r\n    markers.sort((l, t) => {\r\n      const distanceA = l._latlng.distanceTo(latlng);\r\n      const distanceB = t._latlng.distanceTo(latlng);\r\n\r\n      return distanceA - distanceB;\r\n    })\r\n\r\n    // reduce markers to number of limit\r\n    const closest = markers.filter((l, i) => limit > -1 ? i < limit : true)\r\n\r\n    return closest;\r\n  }\r\n}\r\n\r\nexport default MarkerLimits","import Utils from '../../L.PM.Utils'\r\n\r\nconst { findLayers } = Utils\r\n\r\nconst GlobalDragMode = {\r\n  globalDragModeEnabled() {\r\n    return !!this._globalDragMode;\r\n  },\r\n  enableGlobalDragMode() {\r\n    const layers = findLayers(this.map);\r\n\r\n    this._globalDragMode = true;\r\n\r\n    layers.forEach(layer => {\r\n      layer.pm.enableLayerDrag();\r\n    });\r\n\r\n    if (!this.throttledReInitDrag) {\r\n      this.throttledReInitDrag = L.Util.throttle(this.reinitGlobalDragMode, 100, this)\r\n    }\r\n\r\n    // add map handler\r\n    this.map.on('layeradd', this.throttledReInitDrag, this);\r\n\r\n    // toogle the button in the toolbar if this is called programatically\r\n    this.Toolbar.toggleButton('dragMode', this._globalDragMode);\r\n\r\n    this._fireDragModeEvent(true);\r\n  },\r\n  disableGlobalDragMode() {\r\n    const layers = findLayers(this.map);\r\n\r\n    this._globalDragMode = false;\r\n\r\n    layers.forEach(layer => {\r\n      layer.pm.disableLayerDrag();\r\n    });\r\n\r\n    // remove map handler\r\n    this.map.off('layeradd', this.throttledReInitDrag, this);\r\n\r\n    // toogle the button in the toolbar if this is called programatically\r\n    this.Toolbar.toggleButton('dragMode', this._globalDragMode);\r\n\r\n    this._fireDragModeEvent(false);\r\n  },\r\n  _fireDragModeEvent(enabled) {\r\n    this.map.fire('pm:globaldragmodetoggled', {\r\n      enabled,\r\n      map: this.map,\r\n    });\r\n  },\r\n  toggleGlobalDragMode() {\r\n    if (this.globalDragModeEnabled()) {\r\n      this.disableGlobalDragMode();\r\n    } else {\r\n      this.enableGlobalDragMode();\r\n    }\r\n  },\r\n  reinitGlobalDragMode({ layer }) {\r\n    // do nothing if layer is not handled by leaflet so it doesn't fire unnecessarily\t\r\n    const isRelevant = !!layer.pm && !layer._pmTempLayer;\r\n    if (!isRelevant) {\r\n      return;\r\n    }\r\n\r\n    // re-enable global drag mode if it's enabled already\r\n    if (this.globalDragModeEnabled()) {\r\n      this.disableGlobalDragMode();\r\n      this.enableGlobalDragMode();\r\n    }\r\n  },\r\n}\r\n\r\nexport default GlobalDragMode","// this mixin adds a global edit mode to the map\r\nimport Utils from '../../L.PM.Utils'\r\n\r\nconst { findLayers } = Utils\r\n\r\nconst GlobalEditMode = {\r\n  _globalEditMode: false,\r\n  globalEditEnabled() {\r\n    return this._globalEditMode;\r\n  },\r\n  setGlobalEditStatus(status) {\r\n    // set status\r\n    this._globalEditMode = status;\r\n\r\n    // fire event\r\n    this._fireEditModeEvent(this._globalEditMode);\r\n  },\r\n  enableGlobalEditMode(o) {\r\n    const options = {\r\n      snappable: this._globalSnappingEnabled,\r\n      ...o\r\n    }\r\n\r\n    const status = true;\r\n\r\n    // Set toolbar button to currect status\r\n    this.Toolbar.toggleButton('editMode', status);\r\n\r\n    // find all layers handled by leaflet-geoman\r\n    const layers = findLayers(this.map);\r\n\r\n    // enable all layers\r\n    layers.forEach(layer => {\r\n      layer.pm.enable(options);\r\n    });\r\n\r\n    if (!this.throttledReInitEdit) {\r\n      this.throttledReInitEdit = L.Util.throttle(this.handleLayerAdditionInGlobalEditMode, 100, this)\r\n    }\r\n\r\n    // handle layers that are added while in removal mode\r\n    this.map.on('layeradd', this.throttledReInitEdit, this);\r\n\r\n    this.setGlobalEditStatus(status);\r\n  },\r\n  disableGlobalEditMode() {\r\n    const status = false;\r\n\r\n    // find all layers handles by leaflet-geoman\r\n    const layers = findLayers(this.map);\r\n\r\n    // disable all layers\r\n    layers.forEach(layer => {\r\n      layer.pm.disable();\r\n    });\r\n\r\n    // cleanup layer off event\r\n    this.map.off('layeroff', this.throttledReInitEdit, this);\r\n\r\n    // Set toolbar button to currect status\r\n    this.Toolbar.toggleButton('editMode', status);\r\n\r\n    this.setGlobalEditStatus(status);\r\n  },\r\n  toggleGlobalEditMode(options = this.globalOptions) {\r\n    // console.log('toggle global edit mode', options);\r\n\r\n    if (this.globalEditEnabled()) {\r\n      // disable\r\n      this.disableGlobalEditMode();\r\n    } else {\r\n      // enable\r\n      this.enableGlobalEditMode(options);\r\n    }\r\n  },\r\n  handleLayerAdditionInGlobalEditMode({ layer }) {\r\n    // when global edit mode is enabled and a layer is added to the map,\r\n    // enable edit for that layer if it's relevant\r\n\r\n    // do nothing if layer is not handled by leaflet so it doesn't fire unnecessarily\t\r\n    const isRelevant = !!layer.pm && !layer._pmTempLayer;\r\n    if (!isRelevant) {\r\n      return;\r\n    }\r\n\r\n    if (this.globalEditEnabled()) {\r\n      layer.pm.enable({ ...this.globalOptions, snappable: this._globalSnappingEnabled });\r\n    }\r\n  },\r\n  _fireEditModeEvent(enabled) {\r\n    this.map.fire('pm:globaleditmodetoggled', {\r\n      enabled,\r\n      map: this.map,\r\n    });\r\n  },\r\n\r\n}\r\n\r\nexport default GlobalEditMode","const GlobalRemovalMode = {\r\n  disableGlobalRemovalMode() {\r\n    this._globalRemovalMode = false;\r\n    this.map.eachLayer(layer => {\r\n      layer.off('click', this.removeLayer, this);\r\n    });\r\n\r\n    // remove map handler\r\n    this.map.off('layeradd', this.throttledReInitRemoval, this);\r\n\r\n    // toogle the button in the toolbar if this is called programatically\r\n    this.Toolbar.toggleButton('deleteLayer', this._globalRemovalMode);\r\n\r\n    this._fireRemovalModeEvent(false);\r\n  },\r\n  enableGlobalRemovalMode() {\r\n    const isRelevant = layer =>\r\n      layer.pm &&\r\n      !(layer.pm.options && layer.pm.options.preventMarkerRemoval) &&\r\n      !(layer instanceof L.LayerGroup);\r\n\r\n    this._globalRemovalMode = true;\r\n    // handle existing layers\r\n    this.map.eachLayer(layer => {\r\n      if (isRelevant(layer)) {\r\n        layer.on('click', this.removeLayer, this);\r\n      }\r\n    });\r\n\r\n    if (!this.throttledReInitRemoval) {\r\n      this.throttledReInitRemoval = L.Util.throttle(this.reinitGlobalRemovalMode, 100, this)\r\n    }\r\n\r\n    // handle layers that are added while in removal  xmode\r\n    this.map.on('layeradd', this.throttledReInitRemoval, this);\r\n\r\n    // toogle the button in the toolbar if this is called programatically\r\n    this.Toolbar.toggleButton('deleteLayer', this._globalRemovalMode);\r\n\r\n    this._fireRemovalModeEvent(true);\r\n  },\r\n  _fireRemovalModeEvent(enabled) {\r\n    this.map.fire('pm:globalremovalmodetoggled', {\r\n      enabled,\r\n      map: this.map,\r\n    });\r\n  },\r\n  toggleGlobalRemovalMode() {\r\n    // toggle global edit mode\r\n    if (this.globalRemovalEnabled()) {\r\n      this.disableGlobalRemovalMode();\r\n    } else {\r\n      this.enableGlobalRemovalMode();\r\n    }\r\n  },\r\n  globalRemovalEnabled() {\r\n    return !!this._globalRemovalMode;\r\n  },\r\n  removeLayer(e) {\r\n\r\n    const layer = e.target;\r\n    // only remove layer, if it's handled by leaflet-geoman,\r\n    // not a tempLayer and not currently being dragged\r\n    const removeable =\r\n      !layer._pmTempLayer && (!layer.pm || !layer.pm.dragging());\r\n\r\n    if (removeable) {\r\n      layer.remove();\r\n      this.map.fire('pm:remove', { layer });\r\n    }\r\n  },\r\n  reinitGlobalRemovalMode({ layer }) {\r\n    // do nothing if layer is not handled by leaflet so it doesn't fire unnecessarily\t\r\n    const isRelevant = !!layer.pm && !layer._pmTempLayer;\r\n    if (!isRelevant) {\r\n      return;\r\n    }\r\n\r\n    // re-enable global removal mode if it's enabled already\r\n    if (this.globalRemovalEnabled()) {\r\n      this.disableGlobalRemovalMode();\r\n      this.enableGlobalRemovalMode();\r\n    }\r\n  },\r\n}\r\n\r\nexport default GlobalRemovalMode","import Utils from '../L.PM.Utils';\r\n\r\nconst SnapMixin = {\r\n  _initSnappableMarkers() {\r\n    this.options.snapDistance = this.options.snapDistance || 30;\r\n\r\n    this._assignEvents(this._markers);\r\n\r\n    this._layer.off('pm:dragstart', this._unsnap, this);\r\n    this._layer.on('pm:dragstart', this._unsnap, this);\r\n  },\r\n  _disableSnapping() {\r\n    this._layer.off('pm:dragstart', this._unsnap, this);\r\n  },\r\n  _assignEvents(markerArr) {\r\n    // loop through marker array and assign events to the markers\r\n    markerArr.forEach(marker => {\r\n      // if the marker is another array (Multipolygon stuff), recursively do this again\r\n      if (Array.isArray(marker)) {\r\n        this._assignEvents(marker);\r\n        return;\r\n      }\r\n\r\n      // add handleSnapping event on drag\r\n      marker.off('drag', this._handleSnapping, this);\r\n      marker.on('drag', this._handleSnapping, this);\r\n\r\n      // cleanup event on dragend\r\n      marker.off('dragend', this._cleanupSnapping, this);\r\n      marker.on('dragend', this._cleanupSnapping, this);\r\n    });\r\n  },\r\n  _unsnap() {\r\n    // delete the last snap\r\n    delete this._snapLatLng;\r\n  },\r\n  _cleanupSnapping() {\r\n    // delete it, we need to refresh this with each start of a drag because\r\n    // meanwhile, new layers could've been added to the map\r\n    delete this._snapList;\r\n\r\n    // remove map event\r\n    this._map.off('pm:remove', this._handleSnapLayerRemoval, this);\r\n\r\n    if (this.debugIndicatorLines) {\r\n      this.debugIndicatorLines.forEach(line => {\r\n        line.remove();\r\n      });\r\n    }\r\n  },\r\n  _handleSnapLayerRemoval({ layer }) {\r\n    // find the layers index in snaplist\r\n    const index = this._snapList.findIndex(\r\n      e => e._leaflet_id === layer._leaflet_id\r\n    );\r\n    // remove it from the snaplist\r\n    this._snapList.splice(index, 1);\r\n  },\r\n  _handleSnapping(e) {\r\n    function throttledList() {\r\n      return L.Util.throttle(this._createSnapList, 100, this);\r\n    }\r\n\r\n    // if snapping is disabled via holding ALT during drag, stop right here\r\n    if (e.originalEvent.altKey) {\r\n      return false;\r\n    }\r\n\r\n    // create a list of layers that the marker could snap to\r\n    // this isn't inside a movestart/dragstart callback because middlemarkers are initialized\r\n    // after dragstart/movestart so it wouldn't fire for them\r\n    if (this._snapList === undefined) {\r\n      this._createSnapList();\r\n\r\n      // re-create the snaplist again when a layer is added during draw\r\n      this._map.off('layeradd', throttledList, this);\r\n      this._map.on('layeradd', throttledList, this);\r\n    }\r\n\r\n    // if there are no layers to snap to, stop here\r\n    if (this._snapList.length <= 0) {\r\n      return false;\r\n    }\r\n\r\n    const marker = e.target;\r\n\r\n    // get the closest layer, it's closest latlng, segment and the distance\r\n    const closestLayer = this._calcClosestLayer(\r\n      marker.getLatLng(),\r\n      this._snapList\r\n    );\r\n\r\n    const isMarker =\r\n      closestLayer.layer instanceof L.Marker ||\r\n      closestLayer.layer instanceof L.CircleMarker;\r\n\r\n    // find the final latlng that we want to snap to\r\n    let snapLatLng;\r\n    if (!isMarker) {\r\n      snapLatLng = this._checkPrioritiySnapping(closestLayer);\r\n    } else {\r\n      snapLatLng = closestLayer.latlng;\r\n    }\r\n\r\n    // minimal distance before marker snaps (in pixels)\r\n    const minDistance = this.options.snapDistance;\r\n\r\n    // event info for pm:snap and pm:unsnap\r\n    const eventInfo = {\r\n      marker,\r\n      snapLatLng,\r\n      segment: closestLayer.segment,\r\n      layer: this._layer,\r\n      layerInteractedWith: closestLayer.layer, // for lack of a better property name\r\n      distance: closestLayer.distance,\r\n    };\r\n\r\n    eventInfo.marker.fire('pm:snapdrag', eventInfo);\r\n    this._layer.fire('pm:snapdrag', eventInfo);\r\n\r\n    if (closestLayer.distance < minDistance) {\r\n      // snap the marker\r\n      marker.setLatLng(snapLatLng);\r\n\r\n      marker._snapped = true;\r\n\r\n      const triggerSnap = () => {\r\n        this._snapLatLng = snapLatLng;\r\n        marker.fire('pm:snap', eventInfo);\r\n        this._layer.fire('pm:snap', eventInfo);\r\n      };\r\n\r\n      // check if the snapping position differs from the last snap\r\n      // Thanks Max & car2go Team\r\n      const a = this._snapLatLng || {};\r\n      const b = snapLatLng || {};\r\n\r\n      if (a.lat !== b.lat || a.lng !== b.lng) {\r\n        triggerSnap();\r\n      }\r\n    } else if (this._snapLatLng) {\r\n      // no more snapping\r\n\r\n      // if it was previously snapped...\r\n      // ...unsnap\r\n      this._unsnap(eventInfo);\r\n\r\n      marker._snapped = false;\r\n\r\n      // and fire unsnap event\r\n      eventInfo.marker.fire('pm:unsnap', eventInfo);\r\n      this._layer.fire('pm:unsnap', eventInfo);\r\n    }\r\n\r\n    return true;\r\n  },\r\n\r\n  // we got the point we want to snap to (C), but we need to check if a coord of the polygon\r\n  // receives priority over C as the snapping point. Let's check this here\r\n  _checkPrioritiySnapping(closestLayer) {\r\n    const map = this._map;\r\n\r\n    // A and B are the points of the closest segment to P (the marker position we want to snap)\r\n    const A = closestLayer.segment[0];\r\n    const B = closestLayer.segment[1];\r\n\r\n    // C is the point we would snap to on the segment.\r\n    // The closest point on the closest segment of the closest polygon to P. That's right.\r\n    const C = closestLayer.latlng;\r\n\r\n    // distances from A to C and B to C to check which one is closer to C\r\n    const distanceAC = this._getDistance(map, A, C);\r\n    const distanceBC = this._getDistance(map, B, C);\r\n\r\n    // closest latlng of A and B to C\r\n    let closestVertexLatLng = distanceAC < distanceBC ? A : B;\r\n\r\n    // distance between closestVertexLatLng and C\r\n    let shortestDistance = distanceAC < distanceBC ? distanceAC : distanceBC;\r\n\r\n    // snap to middle (M) of segment if option is enabled\r\n    if (this.options.snapMiddle) {\r\n      const M = Utils.calcMiddleLatLng(map, A, B);\r\n      const distanceMC = this._getDistance(map, M, C);\r\n\r\n      if (distanceMC < distanceAC && distanceMC < distanceBC) {\r\n        // M is the nearest vertex\r\n        closestVertexLatLng = M;\r\n        shortestDistance = distanceMC;\r\n      }\r\n    }\r\n\r\n    // the distance that needs to be undercut to trigger priority\r\n    const priorityDistance = this.options.snapDistance;\r\n\r\n    // the latlng we ultemately want to snap to\r\n    let snapLatlng;\r\n\r\n    // if C is closer to the closestVertexLatLng (A, B or M) than the snapDistance,\r\n    // the closestVertexLatLng has priority over C as the snapping point.\r\n    if (shortestDistance < priorityDistance) {\r\n      snapLatlng = closestVertexLatLng;\r\n    } else {\r\n      snapLatlng = C;\r\n    }\r\n\r\n    // return the copy of snapping point\r\n    return Object.assign({}, snapLatlng);\r\n  },\r\n\r\n  _createSnapList() {\r\n    let layers = [];\r\n    const debugIndicatorLines = [];\r\n    const map = this._map;\r\n\r\n    map.off('pm:remove', this._handleSnapLayerRemoval, this);\r\n    map.on('pm:remove', this._handleSnapLayerRemoval, this);\r\n\r\n    // find all layers that are or inherit from Polylines... and markers that are not\r\n    // temporary markers of polygon-edits\r\n    map.eachLayer(layer => {\r\n      if (\r\n        (layer instanceof L.Polyline ||\r\n          layer instanceof L.Marker ||\r\n          layer instanceof L.CircleMarker) &&\r\n        layer.options.snapIgnore !== true\r\n      ) {\r\n        layers.push(layer);\r\n\r\n        // this is for debugging\r\n        const debugLine = L.polyline([], { color: 'red', pmIgnore: true });\r\n        debugLine._pmTempLayer = true;\r\n        debugIndicatorLines.push(debugLine);\r\n\r\n        // uncomment 👇 this line to show helper lines for debugging\r\n        // debugLine.addTo(map);\r\n      }\r\n    });\r\n\r\n    // ...except myself\r\n    layers = layers.filter(layer => this._layer !== layer);\r\n\r\n    // also remove everything that has no coordinates yet\r\n    layers = layers.filter(\r\n      layer => layer._latlng || (layer._latlngs && layer._latlngs.length > 0)\r\n    );\r\n\r\n    // finally remove everything that's leaflet-geoman specific temporary stuff\r\n    layers = layers.filter(layer => !layer._pmTempLayer);\r\n\r\n    // save snaplist from layers and the other snap layers added from other classes/scripts\r\n    if (this._otherSnapLayers) {\r\n      this._snapList = layers.concat(this._otherSnapLayers);\r\n    } else {\r\n      this._snapList = layers;\r\n    }\r\n\r\n    this.debugIndicatorLines = debugIndicatorLines;\r\n  },\r\n  _calcClosestLayer(latlng, layers) {\r\n    // the closest polygon to our dragged marker latlng\r\n    let closestLayer = {};\r\n\r\n    // loop through the layers\r\n    layers.forEach((layer, index) => {\r\n      // find the closest latlng, segment and the distance of this layer to the dragged marker latlng\r\n      const results = this._calcLayerDistances(latlng, layer);\r\n\r\n      // show indicator lines, it's for debugging\r\n      this.debugIndicatorLines[index].setLatLngs([latlng, results.latlng]);\r\n\r\n      // save the info if it doesn't exist or if the distance is smaller than the previous one\r\n      if (\r\n        closestLayer.distance === undefined ||\r\n        results.distance < closestLayer.distance\r\n      ) {\r\n        closestLayer = results;\r\n        closestLayer.layer = layer;\r\n      }\r\n    });\r\n\r\n    // return the closest layer and it's data\r\n    // if there is no closest layer, return undefined\r\n    return closestLayer;\r\n  },\r\n\r\n  _calcLayerDistances(latlng, layer) {\r\n    const map = this._map;\r\n\r\n    // is this a marker?\r\n    const isMarker =\r\n      layer instanceof L.Marker || layer instanceof L.CircleMarker;\r\n\r\n    // is it a polygon?\r\n    const isPolygon = layer instanceof L.Polygon;\r\n\r\n    // the point P which we want to snap (probpably the marker that is dragged)\r\n    const P = latlng;\r\n\r\n    // the coords of the layer\r\n    const latlngs = isMarker ? layer.getLatLng() : layer.getLatLngs();\r\n\r\n    if (isMarker) {\r\n      // return the info for the marker, no more calculations needed\r\n      return {\r\n        latlng: Object.assign({}, latlngs),\r\n        distance: this._getDistance(map, latlngs, P),\r\n      };\r\n    }\r\n\r\n    // the closest segment (line between two points) of the layer\r\n    let closestSegment;\r\n\r\n    // the shortest distance from P to closestSegment\r\n    let shortestDistance;\r\n\r\n    // loop through the coords of the layer\r\n    const loopThroughCoords = coords => {\r\n      coords.forEach((coord, index) => {\r\n        if (Array.isArray(coord)) {\r\n          loopThroughCoords(coord);\r\n          return;\r\n        }\r\n\r\n        // take this coord (A)...\r\n        const A = coord;\r\n        let nextIndex;\r\n\r\n        // and the next coord (B) as points\r\n        if (isPolygon) {\r\n          nextIndex = index + 1 === coords.length ? 0 : index + 1;\r\n        } else {\r\n          nextIndex = index + 1 === coords.length ? undefined : index + 1;\r\n        }\r\n\r\n        const B = coords[nextIndex];\r\n\r\n        if (B) {\r\n          // calc the distance between P and AB-segment\r\n          const distance = this._getDistanceToSegment(map, P, A, B);\r\n\r\n          // is the distance shorter than the previous one? Save it and the segment\r\n          if (shortestDistance === undefined || distance < shortestDistance) {\r\n            shortestDistance = distance;\r\n            closestSegment = [A, B];\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    loopThroughCoords(latlngs);\r\n\r\n    // now, take the closest segment (closestSegment) and calc the closest point to P on it.\r\n    const C = this._getClosestPointOnSegment(\r\n      map,\r\n      latlng,\r\n      closestSegment[0],\r\n      closestSegment[1]\r\n    );\r\n\r\n    // return the latlng of that sucker\r\n    return {\r\n      latlng: Object.assign({}, C),\r\n      segment: closestSegment,\r\n      distance: shortestDistance,\r\n    };\r\n  },\r\n\r\n  _getClosestPointOnSegment(map, latlng, latlngA, latlngB) {\r\n    let maxzoom = map.getMaxZoom();\r\n    if (maxzoom === Infinity) {\r\n      maxzoom = map.getZoom();\r\n    }\r\n    const P = map.project(latlng, maxzoom);\r\n    const A = map.project(latlngA, maxzoom);\r\n    const B = map.project(latlngB, maxzoom);\r\n    const closest = L.LineUtil.closestPointOnSegment(P, A, B);\r\n    return map.unproject(closest, maxzoom);\r\n  },\r\n  _getDistanceToSegment(map, latlng, latlngA, latlngB) {\r\n    const P = map.latLngToLayerPoint(latlng);\r\n    const A = map.latLngToLayerPoint(latlngA);\r\n    const B = map.latLngToLayerPoint(latlngB);\r\n    return L.LineUtil.pointToSegmentDistance(P, A, B);\r\n  },\r\n  _getDistance(map, latlngA, latlngB) {\r\n    return map\r\n      .latLngToLayerPoint(latlngA)\r\n      .distanceTo(map.latLngToLayerPoint(latlngB));\r\n  },\r\n};\r\n\r\nexport default SnapMixin;\r\n","import { getTranslation } from '../helpers';\r\n\r\nconst PMButton = L.Control.extend({\r\n  options: {\r\n    position: 'topleft',\r\n  },\r\n  // TODO: clean up variable names like _button should be _options and that domNodeVariable stuff\r\n  initialize(options) {\r\n    // replaced setOptions with this because classNames returned undefined 🤔\r\n    this._button = Object.assign({}, this.options, options);\r\n  },\r\n  onAdd(map) {\r\n    this._map = map;\r\n\r\n    if (this._button.tool === 'edit') {\r\n      this._container = this._map.pm.Toolbar.editContainer;\r\n    } else if (this._button.tool === 'options') {\r\n      this._container = this._map.pm.Toolbar.optionsContainer;\r\n    } else {\r\n      this._container = this._map.pm.Toolbar.drawContainer;\r\n    }\r\n    this.buttonsDomNode = this._makeButton(this._button);\r\n    this._container.appendChild(this.buttonsDomNode);\r\n\r\n    return this._container;\r\n  },\r\n  onRemove() {\r\n    this.buttonsDomNode.remove();\r\n\r\n    return this._container;\r\n  },\r\n  getText() {\r\n    return this._button.text;\r\n  },\r\n  getIconUrl() {\r\n    return this._button.iconUrl;\r\n  },\r\n  destroy() {\r\n    this._button = {};\r\n    this._update();\r\n  },\r\n  toggle(e) {\r\n    if (typeof e === 'boolean') {\r\n      this._button.toggleStatus = e;\r\n    } else {\r\n      this._button.toggleStatus = !this._button.toggleStatus;\r\n    }\r\n    this._applyStyleClasses();\r\n\r\n    return this._button.toggleStatus;\r\n  },\r\n  toggled() {\r\n    return this._button.toggleStatus;\r\n  },\r\n  onCreate() {\r\n    this.toggle(false);\r\n  },\r\n  _triggerClick(e) {\r\n    this._button.onClick(e);\r\n    this._clicked(e);\r\n    this._button.afterClick(e);\r\n  },\r\n  _makeButton(button) {\r\n    // button container\r\n    const buttonContainer = L.DomUtil.create(\r\n      'div',\r\n      'button-container',\r\n      this._container\r\n    );\r\n\r\n    // the button itself\r\n    const newButton = L.DomUtil.create(\r\n      'a',\r\n      'leaflet-buttons-control-button',\r\n      buttonContainer\r\n    );\r\n\r\n    // the buttons actions\r\n    const actionContainer = L.DomUtil.create(\r\n      'div',\r\n      'leaflet-pm-actions-container',\r\n      buttonContainer\r\n    );\r\n\r\n    const activeActions = button.actions;\r\n\r\n    const actions = {\r\n      cancel: {\r\n        text: getTranslation('actions.cancel'),\r\n        onClick() {\r\n          this._triggerClick();\r\n        },\r\n      },\r\n      finishMode: {\r\n        text: getTranslation('actions.finish'),\r\n        onClick() {\r\n          this._triggerClick();\r\n        },\r\n      },\r\n      removeLastVertex: {\r\n        text: getTranslation('actions.removeLastVertex'),\r\n        onClick() {\r\n          this._map.pm.Draw[button.jsClass]._removeLastVertex();\r\n        },\r\n      },\r\n      finish: {\r\n        text: getTranslation('actions.finish'),\r\n        onClick(e) {\r\n          this._map.pm.Draw[button.jsClass]._finishShape(e);\r\n        },\r\n      },\r\n    };\r\n\r\n    activeActions.forEach(name => {\r\n      const action = actions[name];\r\n      const actionNode = L.DomUtil.create(\r\n        'a',\r\n        `leaflet-pm-action action-${name}`,\r\n        actionContainer\r\n      );\r\n\r\n      actionNode.innerHTML = action.text;\r\n\r\n      L.DomEvent.addListener(actionNode, 'click', action.onClick, this);\r\n      L.DomEvent.disableClickPropagation(actionNode);\r\n    });\r\n\r\n    if (button.toggleStatus) {\r\n      L.DomUtil.addClass(buttonContainer, 'active');\r\n    }\r\n\r\n    const image = L.DomUtil.create('div', 'control-icon', newButton);\r\n\r\n    if (button.title) {\r\n      image.setAttribute('title', button.title);\r\n    }\r\n\r\n    if (button.iconUrl) {\r\n      image.setAttribute('src', button.iconUrl);\r\n    }\r\n    if (button.className) {\r\n      L.DomUtil.addClass(image, button.className);\r\n    }\r\n    // before the actual click, trigger a click on currently toggled buttons to\r\n    // untoggle them and their functionality\r\n    L.DomEvent.addListener(newButton, 'click', () => {\r\n      if (this._button.disableOtherButtons) {\r\n        this._map.pm.Toolbar.triggerClickOnToggledButtons(this);\r\n      }\r\n    });\r\n    L.DomEvent.addListener(newButton, 'click', this._triggerClick, this);\r\n\r\n    L.DomEvent.disableClickPropagation(newButton);\r\n    return buttonContainer;\r\n  },\r\n\r\n  _applyStyleClasses() {\r\n    if (!this._container) {\r\n      return;\r\n    }\r\n\r\n    if (!this._button.toggleStatus) {\r\n      L.DomUtil.removeClass(this.buttonsDomNode, 'active');\r\n    } else {\r\n      L.DomUtil.addClass(this.buttonsDomNode, 'active');\r\n    }\r\n  },\r\n\r\n  _clicked() {\r\n    if (this._button.doToggle) {\r\n      this.toggle();\r\n    }\r\n  },\r\n});\r\n\r\nexport default PMButton;\r\n","import PMButton from './L.Controls';\r\n\r\nimport { getTranslation } from '../helpers';\r\n\r\nL.Control.PMButton = PMButton;\r\n\r\nconst Toolbar = L.Class.extend({\r\n  options: {\r\n    drawMarker: true,\r\n    drawRectangle: true,\r\n    drawPolyline: true,\r\n    drawPolygon: true,\r\n    drawCircle: true,\r\n    drawCircleMarker: true,\r\n    editMode: true,\r\n    dragMode: true,\r\n    cutPolygon: true,\r\n    removalMode: true,\r\n    snappingOption: true,\r\n    position: 'topleft',\r\n  },\r\n  initialize(map) {\r\n    this.init(map);\r\n  },\r\n  reinit() {\r\n    const addControls = this.isVisible;\r\n\r\n    this.removeControls();\r\n    this._defineButtons();\r\n\r\n    if (addControls) {\r\n      this.addControls();\r\n    }\r\n  },\r\n  init(map) {\r\n    this.map = map;\r\n\r\n    this.buttons = {};\r\n    this.isVisible = false;\r\n    this.drawContainer = L.DomUtil.create(\r\n      'div',\r\n      'leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control'\r\n    );\r\n    this.editContainer = L.DomUtil.create(\r\n      'div',\r\n      'leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control'\r\n    );\r\n    this.optionsContainer = L.DomUtil.create(\r\n      'div',\r\n      'leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control'\r\n    );\r\n\r\n    this._defineButtons();\r\n  },\r\n  getButtons() {\r\n    return this.buttons;\r\n  },\r\n\r\n  addControls(options = this.options) {\r\n    // adds all buttons to the map specified inside options\r\n\r\n    // make button renaming backwards compatible\r\n    if (typeof options.editPolygon !== 'undefined') {\r\n      options.editMode = options.editPolygon;\r\n    }\r\n    if (typeof options.deleteLayer !== 'undefined') {\r\n      options.removalMode = options.deleteLayer;\r\n    }\r\n\r\n    // first set the options\r\n    L.Util.setOptions(this, options);\r\n\r\n    this.applyIconStyle();\r\n\r\n    // now show the specified buttons\r\n    this._showHideButtons();\r\n    this.isVisible = true;\r\n  },\r\n  applyIconStyle() {\r\n    const buttons = this.getButtons();\r\n\r\n    const iconClasses = {\r\n      geomanIcons: {\r\n        drawMarker: 'control-icon leaflet-pm-icon-marker',\r\n        drawPolyline: 'control-icon leaflet-pm-icon-polyline',\r\n        drawRectangle: 'control-icon leaflet-pm-icon-rectangle',\r\n        drawPolygon: 'control-icon leaflet-pm-icon-polygon',\r\n        drawCircle: 'control-icon leaflet-pm-icon-circle',\r\n        drawCircleMarker: 'control-icon leaflet-pm-icon-circle-marker',\r\n        editMode: 'control-icon leaflet-pm-icon-edit',\r\n        dragMode: 'control-icon leaflet-pm-icon-drag',\r\n        cutPolygon: 'control-icon leaflet-pm-icon-cut',\r\n        removalMode: 'control-icon leaflet-pm-icon-delete',\r\n      },\r\n    };\r\n\r\n    for (const name in buttons) {\r\n      const button = buttons[name];\r\n\r\n      L.Util.setOptions(button, {\r\n        className: iconClasses.geomanIcons[name],\r\n      });\r\n    }\r\n  },\r\n  removeControls() {\r\n    // grab all buttons to loop through\r\n    const buttons = this.getButtons();\r\n\r\n    // remove all buttons\r\n    for (const btn in buttons) {\r\n      buttons[btn].remove();\r\n    }\r\n\r\n    this.isVisible = false;\r\n  },\r\n  toggleControls(options = this.options) {\r\n    if (this.isVisible) {\r\n      this.removeControls();\r\n    } else {\r\n      this.addControls(options);\r\n    }\r\n  },\r\n  _addButton(name, button) {\r\n    this.buttons[name] = button;\r\n    this.options[name] = this.options[name] || false;\r\n\r\n    return this.buttons[name];\r\n  },\r\n  triggerClickOnToggledButtons(exceptThisButton) {\r\n    // this function is used when - e.g. drawing mode is enabled and a possible\r\n    // other active mode (like removal tool) is already active.\r\n    // we can't have two active modes because of possible event conflicts\r\n    // so, we trigger a click on all currently active (toggled) buttons\r\n\r\n    // the options toolbar should not be disabled during the different modes\r\n    // TODO: probably need to abstract this a bit so different options are automatically\r\n    // disabled for different modes, like pinning for circles\r\n    const exceptOptionButtons = ['snappingOption']\r\n\r\n    for (const name in this.buttons) {\r\n      if (\r\n        !exceptOptionButtons.includes(name) &&\r\n        this.buttons[name] !== exceptThisButton &&\r\n        this.buttons[name].toggled()\r\n      ) {\r\n        this.buttons[name]._triggerClick();\r\n      }\r\n    }\r\n  },\r\n  toggleButton(name, status, disableOthers = true) {\r\n    // does not fire the events/functionality of the button\r\n    // this just changes the state and is used if a functionality (like Draw)\r\n    // is enabled manually via script\r\n\r\n    // backwards compatibility with button rename\r\n    if (name === 'editPolygon') {\r\n      name = 'editMode';\r\n    }\r\n    if (name === 'deleteLayer') {\r\n      name = 'removalMode';\r\n    }\r\n\r\n    // as some mode got enabled, we still have to trigger the click on the other buttons\r\n    // to disable their mode\r\n    if (disableOthers) {\r\n      this.triggerClickOnToggledButtons(this.buttons[name]);\r\n    }\r\n\r\n    // now toggle the state of the button\r\n    return this.buttons[name].toggle(status);\r\n  },\r\n  _defineButtons() {\r\n    // some buttons are still in their respective classes, like L.PM.Draw.Polygon\r\n    const drawMarkerButton = {\r\n      className: 'control-icon leaflet-pm-icon-marker',\r\n      title: getTranslation('buttonTitles.drawMarkerButton'),\r\n      jsClass: 'Marker',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.Marker.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['cancel'],\r\n    };\r\n\r\n    const drawPolyButton = {\r\n      title: getTranslation('buttonTitles.drawPolyButton'),\r\n      className: 'control-icon leaflet-pm-icon-polygon',\r\n      jsClass: 'Polygon',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.Polygon.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['finish', 'removeLastVertex', 'cancel'],\r\n    };\r\n\r\n    const drawLineButton = {\r\n      className: 'control-icon leaflet-pm-icon-polyline',\r\n      title: getTranslation('buttonTitles.drawLineButton'),\r\n      jsClass: 'Line',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.Line.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['finish', 'removeLastVertex', 'cancel'],\r\n    };\r\n\r\n    const drawCircleButton = {\r\n      title: getTranslation('buttonTitles.drawCircleButton'),\r\n      className: 'control-icon leaflet-pm-icon-circle',\r\n      jsClass: 'Circle',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.Circle.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['cancel'],\r\n    };\r\n\r\n    const drawCircleMarkerButton = {\r\n      title: getTranslation('buttonTitles.drawCircleMarkerButton'),\r\n      className: 'control-icon leaflet-pm-icon-circle-marker',\r\n      jsClass: 'CircleMarker',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.CircleMarker.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['cancel'],\r\n    };\r\n\r\n    const drawRectButton = {\r\n      title: getTranslation('buttonTitles.drawRectButton'),\r\n      className: 'control-icon leaflet-pm-icon-rectangle',\r\n      jsClass: 'Rectangle',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // toggle drawing mode\r\n        this.map.pm.Draw.Rectangle.toggle();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      actions: ['cancel'],\r\n    };\r\n\r\n    const editButton = {\r\n      title: getTranslation('buttonTitles.editButton'),\r\n      className: 'control-icon leaflet-pm-icon-edit',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        this.map.pm.toggleGlobalEditMode();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      tool: 'edit',\r\n      actions: ['finishMode'],\r\n    };\r\n\r\n    const dragButton = {\r\n      title: getTranslation('buttonTitles.dragButton'),\r\n      className: 'control-icon leaflet-pm-icon-drag',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        this.map.pm.toggleGlobalDragMode();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      tool: 'edit',\r\n      actions: ['finishMode'],\r\n    };\r\n\r\n    const cutButton = {\r\n      title: getTranslation('buttonTitles.cutButton'),\r\n      className: 'control-icon leaflet-pm-icon-cut',\r\n      jsClass: 'Cut',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        // enable polygon drawing mode without snap\r\n        this.map.pm.Draw.Cut.toggle({\r\n          snappable: true,\r\n          cursorMarker: true,\r\n          allowSelfIntersection: false,\r\n        });\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      tool: 'edit',\r\n      actions: ['finish', 'removeLastVertex', 'cancel'],\r\n    };\r\n\r\n    const deleteButton = {\r\n      title: getTranslation('buttonTitles.deleteButton'),\r\n      className: 'control-icon leaflet-pm-icon-delete',\r\n      onClick: () => { },\r\n      afterClick: () => {\r\n        this.map.pm.toggleGlobalRemovalMode();\r\n      },\r\n      doToggle: true,\r\n      toggleStatus: false,\r\n      disableOtherButtons: true,\r\n      position: this.options.position,\r\n      tool: 'edit',\r\n      actions: ['finishMode'],\r\n    };\r\n\r\n    this._addButton('drawMarker', new L.Control.PMButton(drawMarkerButton));\r\n    this._addButton('drawPolyline', new L.Control.PMButton(drawLineButton));\r\n    this._addButton('drawRectangle', new L.Control.PMButton(drawRectButton));\r\n    this._addButton('drawPolygon', new L.Control.PMButton(drawPolyButton));\r\n    this._addButton('drawCircle', new L.Control.PMButton(drawCircleButton));\r\n    this._addButton('drawCircleMarker', new L.Control.PMButton(drawCircleMarkerButton));\r\n    this._addButton('editMode', new L.Control.PMButton(editButton));\r\n    this._addButton('dragMode', new L.Control.PMButton(dragButton));\r\n    this._addButton('cutPolygon', new L.Control.PMButton(cutButton));\r\n    this._addButton('removalMode', new L.Control.PMButton(deleteButton));\r\n  },\r\n\r\n  _showHideButtons() {\r\n    // remove all buttons, that's because the Toolbar can be added again with\r\n    // different options so it's basically a reset and add again\r\n    this.removeControls();\r\n\r\n    const buttons = this.getButtons();\r\n    for (const btn in buttons) {\r\n      if (this.options[btn]) {\r\n        // if options say the button should be visible, add it to the map\r\n        buttons[btn].setPosition(this.options.position);\r\n        buttons[btn].addTo(this.map);\r\n      }\r\n    }\r\n  },\r\n});\r\n\r\nexport default Toolbar;\r\n","import get from 'lodash/get';\r\nimport has from 'lodash/has';\r\nimport translations from '../../assets/translations';\r\n\r\nexport function getTranslation(path) {\r\n  let lang = L.PM.activeLang;\r\n\r\n  if (!has(translations, lang)) {\r\n    lang = 'en';\r\n  }\r\n\r\n  return get(translations[lang], path);\r\n}\r\n\r\nexport function isEmptyDeep(l) {\r\n  // thanks for the function, Felix Heck\r\n  const flatten = list =>\r\n    list\r\n      .filter(x => ![null, '', undefined].includes(x))\r\n      .reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []);\r\n\r\n  return !flatten(l).length;\r\n}\r\n","/* eslint-disable */\r\n\r\n// Array.findIndex Polyfill\r\nArray.prototype.findIndex =\r\n  Array.prototype.findIndex ||\r\n  function(callback) {\r\n    if (this === null) {\r\n      throw new TypeError(\r\n        'Array.prototype.findIndex called on null or undefined'\r\n      );\r\n    } else if (typeof callback !== 'function') {\r\n      throw new TypeError('callback must be a function');\r\n    }\r\n    var list = Object(this);\r\n    // Makes sures is always has an positive integer as length.\r\n    var length = list.length >>> 0;\r\n    var thisArg = arguments[1];\r\n    for (var i = 0; i < length; i++) {\r\n      if (callback.call(thisArg, list[i], i, list)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n// Array.find Polyfill for IE<12.\r\n// Requested here: https://github.com/geoman-io/leaflet-geoman/issues/173\r\nArray.prototype.find =\r\n  Array.prototype.find ||\r\n  function(callback) {\r\n    if (this === null) {\r\n      throw new TypeError('Array.prototype.find called on null or undefined');\r\n    } else if (typeof callback !== 'function') {\r\n      throw new TypeError('callback must be a function');\r\n    }\r\n    var list = Object(this);\r\n    // Makes sures is always has an positive integer as length.\r\n    var length = list.length >>> 0;\r\n    var thisArg = arguments[1];\r\n    for (var i = 0; i < length; i++) {\r\n      var element = list[i];\r\n      if (callback.call(thisArg, element, i, list)) {\r\n        return element;\r\n      }\r\n    }\r\n  };\r\n\r\n// Polyfill for Object.assign()\r\n// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\nif (typeof Object.assign != 'function') {\r\n  Object.assign = function(target) {\r\n    'use strict';\r\n    if (target == null) {\r\n      throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    target = Object(target);\r\n    for (var index = 1; index < arguments.length; index++) {\r\n      var source = arguments[index];\r\n      if (source != null) {\r\n        for (var key in source) {\r\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n            target[key] = source[key];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n}\r\n\r\n// Polyfill for Element.remove()\r\n// https://developer.mozilla.org/de/docs/Web/API/ChildNode/remove#Polyfill\r\n(function(arr) {\r\n  arr.forEach(function(item) {\r\n    if (item.hasOwnProperty('remove')) {\r\n      return;\r\n    }\r\n    Object.defineProperty(item, 'remove', {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function remove() {\r\n        this.parentNode.removeChild(this);\r\n      },\r\n    });\r\n  });\r\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\r\n\r\n// Polyfill for Array.includes()\r\n// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill\r\nif (!Array.prototype.includes) {\r\n  Object.defineProperty(Array.prototype, 'includes', {\r\n    value: function(searchElement, fromIndex) {\r\n\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      // 1. Let O be ? ToObject(this value).\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If len is 0, return false.\r\n      if (len === 0) {\r\n        return false;\r\n      }\r\n\r\n      // 4. Let n be ? ToInteger(fromIndex).\r\n      //    (If fromIndex is undefined, this step produces the value 0.)\r\n      var n = fromIndex | 0;\r\n\r\n      // 5. If n ≥ 0, then\r\n      //  a. Let k be n.\r\n      // 6. Else n < 0,\r\n      //  a. Let k be len + n.\r\n      //  b. If k < 0, let k be 0.\r\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n      function sameValueZero(x, y) {\r\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\r\n      }\r\n\r\n      // 7. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\r\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\r\n        if (sameValueZero(o[k], searchElement)) {\r\n          return true;\r\n        }\r\n        // c. Increase k by 1. \r\n        k++;\r\n      }\r\n\r\n      // 8. Return false\r\n      return false;\r\n    }\r\n  });\r\n}"],"sourceRoot":""}